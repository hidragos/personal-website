import{a as Be,b as L,c as He,d as We,e as D,f as Di,g as Bi,h as Vi,i as Ni,j as ji,k as zi,l as Hi,m as Wi,n as qe,o as qi,p as Ui,q as $i,r as Ue,s as Qi,t as Ki,u as $e}from"./chunk-KQIT36MP.js";import"./chunk-X5YLR3NI.js";import"./chunk-3XLGRVAT.js";import"./chunk-72VILLDK.js";import{a as Yi,b as Qe,c as Ke,d as Ye}from"./chunk-TR3RBJWF.js";import{B as Pi,D as Ri,E as Li,F as ze,b as _i,e as De,k as wi,l as Mi,m as R,o as Oi,p as Ti,s as Ei,t as Ii,v as ki,w as Fi,x as Ve,y as Ne,z as je}from"./chunk-MRHHHYM7.js";import{$ as K,F as si,G as li,H as ci,I as Ee,J as pi,K as mi,L as nt,N as Ie,Q as di,S as $,U as ui,V as ke,W as Q,X as hi,Y as Fe,_ as gi,a as ti,aa as Re,ba as Y,da as Le,e as ii,ea as G,f as Oe,ia as bi,ja as Si,k as ri,l as ni,la as Ci,m as rt,n as Te,o as oi,pa as xi,sa as oe,va as Ai,x as ai,y as re}from"./chunk-UZ3LJDM7.js";import{c as fi,d as Pe,e as vi,g as ne,h as yi,i as ot}from"./chunk-JGYM447R.js";import{a as Gt,b as q,c as Xt,d as P,e as Zt,f as Jt,g as ei,h as U}from"./chunk-FDBUKYLG.js";import{a as qt,b as Ut,c as $t,d as Qt,e as Kt,g as F,h as Yt}from"./chunk-Y5OS5B3V.js";import{d as xe,f as zt,h as Ht,k as Wt,l as Ae,m as we,p as Me,r as w}from"./chunk-DEJTX7B3.js";import{$ as pe,Ab as et,Ac as Nt,Ba as H,Ca as de,Cc as jt,D as Xe,Db as ve,Dc as V,Ea as ue,Eb as ye,F as ht,Fb as be,Gb as s,Hb as l,Ib as S,Ic as N,Jb as ee,Ka as xt,Kb as te,Lb as T,Qb as C,R as gt,S as ce,Sb as d,Tb as kt,Ub as Ft,V as _t,X as ft,Xa as he,Xb as tt,Ya as ge,Yb as k,Z as vt,Zb as x,_ as z,_b as A,a as ae,ab as a,ba as Ze,bb as g,bc as it,c as pt,cb as At,cc as u,db as wt,dc as E,ea as p,eb as Mt,ec as v,f as Ge,fc as Pt,gb as Ot,gc as Rt,hc as Lt,ia as O,ib as Tt,ic as Dt,ja as me,jc as ie,k as mt,ka as yt,kc as I,lb as Et,lc as Bt,ma as bt,mb as It,mc as W,o as dt,pc as Se,ra as St,rc as Ce,sa as y,sb as _e,t as ut,ta as b,v as se,vb as f,vc as Vt,w as J,wb as fe,x as le,xb as m,ya as Ct,zb as Je}from"./chunk-R5IKWWTW.js";import{a as j,i as _}from"./chunk-ODN5LVDJ.js";var Sr=["container"],Xi=(()=>{class r{matIconRegistry;domSanitizer;container;sidenavContainerService=p(Bi);router=p(P);navbarService=p(Di);scrollPersistenceService=p(qi);routerSubscription;customIcons=["github","linkedin","stackoverflow","cow","heart","heart_fill"];constructor(t,e){this.matIconRegistry=t,this.domSanitizer=e,this.customIcons.forEach(i=>{this.matIconRegistry.addSvgIcon(i,this.domSanitizer.bypassSecurityTrustResourceUrl(`assets/images/${i}.svg`))})}get scrollKey(){return this.router.url}ngOnInit(){this.router.events.subscribe(t=>{if(t instanceof Gt&&this.container){let e=this.scrollPersistenceService.getScrollPosition(this.scrollKey);e!==null?this.container.nativeElement.scrollTop=e:this.container.nativeElement.scrollTop=0}}),this.matIconRegistry.setDefaultFontSetClass("material-symbols-outlined")}ngAfterViewInit(){this.container.nativeElement.addEventListener("scroll",()=>{let t=this.container.nativeElement.scrollTop;this.navbarService.setScrollTop(t)})}static \u0275fac=function(e){return new(e||r)(g(ui),g(F))};static \u0275cmp=O({type:r,selectors:[["app-root"]],viewQuery:function(e,i){if(e&1&&k(Sr,5),e&2){let n;x(n=A())&&(i.container=n.first)}},standalone:!0,features:[ie([]),I],decls:7,vars:0,consts:[["container",""],["appScrollToEnd","",1,"app-container","overflow-y-scroll","overflow-x-hidden","h-screen-dvh","flex","flex-col"],[1,"grow"]],template:function(e,i){e&1&&(s(0,"app-sidenav-container")(1,"div",1,0),S(3,"app-navbar"),s(4,"div",2),S(5,"router-outlet"),l(),S(6,"app-footer"),l()())},dependencies:[Xt,Hi,_i,Vi,w,qe],styles:[".app-container[_ngcontent-%COMP%]{height:100dvh}#container[_ngcontent-%COMP%]{scroll-behavior:smooth}"]})}return r})();var Cr="@",xr=(()=>{let o=class o{constructor(e,i,n,c,h){this.doc=e,this.delegate=i,this.zone=n,this.animationType=c,this.moduleImpl=h,this._rendererFactoryPromise=null,this.scheduler=p(Mt,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-WTHLYAAI.js").then(i=>i)).catch(i=>{throw new ft(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:n})=>{this._engine=i(this.animationType,this.doc);let c=new n(this.delegate,this._engine,this.zone);return this.delegate=c,c})}createRenderer(e,i){let n=this.delegate.createRenderer(e,i);if(n.\u0275type===0)return n;typeof n.throwOnSyntheticProps=="boolean"&&(n.throwOnSyntheticProps=!1);let c=new at(n);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(h=>{let Z=h.createRenderer(e,i);c.use(Z),this.scheduler?.notify(9)}).catch(h=>{c.use(n)}),c}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};o.\u0275fac=function(i){At()},o.\u0275prov=z({token:o,factory:o.\u0275fac});let r=o;return r})(),at=class{constructor(o){this.delegate=o,this.replay=[],this.\u0275type=1}use(o){if(this.delegate=o,this.replay!==null){for(let t of this.replay)t(o);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(o,t){return this.delegate.createElement(o,t)}createComment(o){return this.delegate.createComment(o)}createText(o){return this.delegate.createText(o)}get destroyNode(){return this.delegate.destroyNode}appendChild(o,t){this.delegate.appendChild(o,t)}insertBefore(o,t,e,i){this.delegate.insertBefore(o,t,e,i)}removeChild(o,t,e){this.delegate.removeChild(o,t,e)}selectRootElement(o,t){return this.delegate.selectRootElement(o,t)}parentNode(o){return this.delegate.parentNode(o)}nextSibling(o){return this.delegate.nextSibling(o)}setAttribute(o,t,e,i){this.delegate.setAttribute(o,t,e,i)}removeAttribute(o,t,e){this.delegate.removeAttribute(o,t,e)}addClass(o,t){this.delegate.addClass(o,t)}removeClass(o,t){this.delegate.removeClass(o,t)}setStyle(o,t,e,i){this.delegate.setStyle(o,t,e,i)}removeStyle(o,t,e){this.delegate.removeStyle(o,t,e)}setProperty(o,t,e){this.shouldReplay(t)&&this.replay.push(i=>i.setProperty(o,t,e)),this.delegate.setProperty(o,t,e)}setValue(o,t){this.delegate.setValue(o,t)}listen(o,t,e){return this.shouldReplay(t)&&this.replay.push(i=>i.listen(o,t,e)),this.delegate.listen(o,t,e)}shouldReplay(o){return this.replay!==null&&o.startsWith(Cr)}};function Zi(r="animations"){return Tt("NgAsyncAnimations"),bt([{provide:Ot,useFactory:(o,t,e)=>new xr(o,t,e,r),deps:[xe,Qt,de]},{provide:xt,useValue:r==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Or=["panel"],Tr=["*"];function Er(r,o){if(r&1){let t=T();s(0,"div",1,0),C("@panelAnimation.done",function(i){y(t);let n=d();return b(n._animationDone.next(i))}),Ft(2),l()}if(r&2){let t=o.id,e=d();et(e._classList),Je("mat-mdc-autocomplete-visible",e.showPanel)("mat-mdc-autocomplete-hidden",!e.showPanel)("mat-primary",e._color==="primary")("mat-accent",e._color==="accent")("mat-warn",e._color==="warn"),m("id",e.id)("@panelAnimation",e.isOpen?"visible":"hidden"),fe("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby(t))}}var Ir=fi("panelAnimation",[yi("void, hidden",ne({opacity:0,transform:"scaleY(0.8)"})),ot(":enter, hidden => visible",[vi([Pe("0.03s linear",ne({opacity:1})),Pe("0.12s cubic-bezier(0, 0, 0.2, 1)",ne({transform:"scaleY(1)"}))])]),ot(":leave, visible => hidden",[Pe("0.075s linear",ne({opacity:0}))])]),kr=0,st=class{constructor(o,t){this.source=o,this.option=t}},tr=new Ze("mat-autocomplete-default-options",{providedIn:"root",factory:Fr});function Fr(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}var ir=(()=>{let o=class o{get isOpen(){return this._isOpen&&this.showPanel}_setColor(e){this._color=e,this._changeDetectorRef.markForCheck()}set classList(e){this._classList=e,this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}constructor(e,i,n,c){this._changeDetectorRef=e,this._elementRef=i,this._defaults=n,this._activeOptionChanges=ae.EMPTY,this._animationDone=new H,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new H,this.opened=new H,this.closed=new H,this.optionActivated=new H,this.id=`mat-autocomplete-${kr++}`,this.inertGroups=c?.SAFARI||!1,this.autoActiveFirstOption=!!n.autoActiveFirstOption,this.autoSelectActiveOption=!!n.autoSelectActiveOption,this.requireSelection=!!n.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new oi(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(e=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[e]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(e){let i=new st(this,e);this.optionSelected.emit(i)}_getPanelAriaLabelledby(e){if(this.ariaLabel)return null;let i=e?e+" ":"";return this.ariaLabelledby?i+this.ariaLabelledby:e}_skipPredicate(){return!1}};o.\u0275fac=function(i){return new(i||o)(g(V),g(ue),g(tr),g(ti))},o.\u0275cmp=O({type:o,selectors:[["mat-autocomplete"]],contentQueries:function(i,n,c){if(i&1&&(tt(c,Ee,5),tt(c,li,5)),i&2){let h;x(h=A())&&(n.options=h),x(h=A())&&(n.optionGroups=h)}},viewQuery:function(i,n){if(i&1&&(k(wt,7),k(Or,5)),i&2){let c;x(c=A())&&(n.template=c.first),x(c=A())&&(n.panel=c.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",N],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",N],requireSelection:[2,"requireSelection","requireSelection",N],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",N],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",N]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],standalone:!0,features:[ie([{provide:si,useExisting:o}]),_e,I],ngContentSelectors:Tr,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(i,n){i&1&&(kt(),f(0,Er,3,16,"ng-template"))},styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape, var(--mat-app-corner-extra-small));box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[Ir]},changeDetection:0});let r=o;return r})();var Pr={provide:wi,useExisting:vt(()=>lt),multi:!0};var rr=new Ze("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let r=p(oe);return()=>r.scrollStrategies.reposition()}});function Rr(r){return()=>r.scrollStrategies.reposition()}var Lr={provide:rr,deps:[oe],useFactory:Rr},lt=(()=>{let o=class o{constructor(e,i,n,c,h,Z,gr,_r,fr,vr,yr){this._element=e,this._overlay=i,this._viewContainerRef=n,this._zone=c,this._changeDetectorRef=h,this._dir=gr,this._formField=_r,this._document=fr,this._viewportRuler=vr,this._defaults=yr,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=ae.EMPTY,this._breakpointObserver=p(ri),this._handsetLandscapeSubscription=ae.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new Ge,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._initialized=new Ge,this._injector=p(Ct),this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=ut(()=>{let M=this.autocomplete?this.autocomplete.options:null;return M?M.changes.pipe(gt(M),ce(()=>J(...M.map(br=>br.onSelectionChange)))):this._initialized.pipe(ce(()=>this.optionSelections))}),this._handlePanelKeydown=M=>{(M.keyCode===27&&!Oe(M)||M.keyCode===38&&Oe(M,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),M.stopPropagation(),M.preventDefault())},this._trackedModal=null,this._scrollStrategy=Z}ngAfterViewInit(){this._initialized.next(),this._initialized.complete();let e=this._getWindow();typeof e<"u"&&this._zone.runOutsideAngular(()=>e.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){let e=this._getWindow();typeof e<"u"&&e.removeEventListener("blur",this._windowBlurHandler),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&Te(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return J(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(le(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(le(()=>this._overlayAttached)):mt()).pipe(dt(e=>e instanceof ci?e:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return J(se(this._document,"click"),se(this._document,"auxclick"),se(this._document,"touchend")).pipe(le(e=>{let i=ii(e),n=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,c=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&i!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!n||!n.contains(i))&&(!c||!c.contains(i))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(i)}))}writeValue(e){Promise.resolve(null).then(()=>this._assignOptionValue(e))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._element.nativeElement.disabled=e}_handleKeydown(e){let i=e.keyCode,n=Oe(e);if(i===27&&!n&&e.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&i===13&&this.panelOpen&&!n)this.activeOption._selectViaInteraction(),this._resetActiveItem(),e.preventDefault();else if(this.autocomplete){let c=this.autocomplete._keyManager.activeItem,h=i===38||i===40;i===9||h&&!n&&this.panelOpen?this.autocomplete._keyManager.onKeydown(e):h&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(h||this.autocomplete._keyManager.activeItem!==c)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(e){let i=e.target,n=i.value;if(i.type==="number"&&(n=n==""?null:parseFloat(n)),this._previousValue!==n){if(this._previousValue=n,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(n),!n)this._clearPreviousSelectedOption(null,!1);else if(this.panelOpen&&!this.autocomplete.requireSelection){let c=this.autocomplete.options?.find(h=>h.selected);if(c){let h=this._getDisplayValue(c.value);n!==h&&c.deselect(!1)}}if(this._canOpen()&&this._document.activeElement===e.target){let c=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(c)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(e=!1){this._formField&&this._formField.floatLabel==="auto"&&(e?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){let e=new pt(n=>{Et(()=>{n.next()},{injector:this._injector})}),i=this.autocomplete.options.changes.pipe(_t(()=>this._positionStrategy.reapplyLastPosition()),ht(0));return J(e,i).pipe(ce(()=>this._zone.run(()=>{let n=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),n!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),Xe(1)).subscribe(n=>this._setValueAndClose(n))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(e){let i=this.autocomplete;return i&&i.displayWith?i.displayWith(e):e}_assignOptionValue(e){let i=this._getDisplayValue(e);e==null&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(i??"")}_updateNativeInputValue(e){this._formField?this._formField._control.value=e:this._element.nativeElement.value=e,this._previousValue=e}_setValueAndClose(e){let i=this.autocomplete,n=e?e.source:this._pendingAutoselectedOption;n?(this._clearPreviousSelectedOption(n),this._assignOptionValue(n.value),this._onChange(n.value),i._emitSelectEvent(n),this._element.nativeElement.focus()):i.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),i._animationDone?i._animationDone.pipe(Xe(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(e,i){this.autocomplete?.options?.forEach(n=>{n!==e&&n.selected&&n.deselect(i)})}_openPanelInternal(e=this._element.nativeElement.value){if(this._attachOverlay(e),this._floatLabel(),this._trackedModal){let i=this.autocomplete.id;rt(this._trackedModal,"aria-owns",i)}}_attachOverlay(e){this.autocomplete;let i=this._overlayRef;i?(this._positionStrategy.setOrigin(this._getConnectedElement()),i.updateSize({width:this._getPanelWidth()})):(this._portal=new Ci(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),i=this._overlay.create(this._getOverlayConfig()),this._overlayRef=i,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&i&&i.updateSize({width:this._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe(ni.HandsetLandscape).subscribe(c=>{c.matches?this._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):this._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),i&&!i.hasAttached()&&(i.attach(this._portal),this._valueOnAttach=e,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());let n=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&n!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){let e=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=e.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=e.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new xi({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){let e=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(e),this._positionStrategy=e,e}_setStrategyPositions(e){let i=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],n=this._aboveClass,c=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:n},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:n}],h;this.position==="above"?h=c:this.position==="below"?h=i:h=[...i,...c],e.withPositions(h)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){let e=this.autocomplete;if(e.autoActiveFirstOption){let i=-1;for(let n=0;n<e.options.length;n++)if(!e.options.get(n).disabled){i=n;break}e._keyManager.setActiveItem(i)}else e._keyManager.setActiveItem(-1)}_canOpen(){let e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(e){let i=this.autocomplete,n=pi(e,i.options,i.optionGroups);if(e===0&&n===1)i._setScrollTop(0);else if(i.panel){let c=i.options.toArray()[e];if(c){let h=c._getHostElement(),Z=mi(h.offsetTop,h.offsetHeight,i._getScrollTop(),i.panel.nativeElement.offsetHeight);i._setScrollTop(Z)}}}_applyModalPanelOwnership(){let e=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let i=this.autocomplete.id;this._trackedModal&&Te(this._trackedModal,"aria-owns",i),rt(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){if(this._trackedModal){let e=this.autocomplete.id;Te(this._trackedModal,"aria-owns",e),this._trackedModal=null}}};o.\u0275fac=function(i){return new(i||o)(g(ue),g(oe),g(It),g(de),g(V),g(rr),g(ai,8),g(Ri,9),g(xe,8),g(bi),g(tr,8))},o.\u0275dir=yt({type:o,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(i,n){i&1&&C("focusin",function(){return n._handleFocus()})("blur",function(){return n._onTouched()})("input",function(h){return n._handleInput(h)})("keydown",function(h){return n._handleKeydown(h)})("click",function(){return n._handleClick()}),i&2&&fe("autocomplete",n.autocompleteAttribute)("role",n.autocompleteDisabled?null:"combobox")("aria-autocomplete",n.autocompleteDisabled?null:"list")("aria-activedescendant",n.panelOpen&&n.activeOption?n.activeOption.id:null)("aria-expanded",n.autocompleteDisabled?null:n.panelOpen.toString())("aria-controls",n.autocompleteDisabled||!n.panelOpen||n.autocomplete==null?null:n.autocomplete.id)("aria-haspopup",n.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",N]},exportAs:["matAutocompleteTrigger"],standalone:!0,features:[ie([Pr]),_e,St]});let r=o;return r})(),nr=(()=>{let o=class o{};o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=me({type:o}),o.\u0275inj=pe({providers:[Lr],imports:[Ai,nt,re,w,Si,nt,re]});let r=o;return r})();var X=(()=>{class r{isUniqueUrl(t){return this.supabase.from("is_unique_url").select("*")}_supabaseService=p(We);_supabaseAuthService=p(D);supabase=this._supabaseService.supabaseClient;constructor(){}post(t){return t.user_id=this._supabaseAuthService.user()?.id,this.supabase.from("articles").upsert(t).select("*,profiles(*)")}put(t,e){return this.supabase.from("articles").update(e).eq("id",t).select("*,profiles(*)")}delete(t){return this.supabase.from("articles").delete().eq("id",t)}getByUrl(t){return this.supabase.from("articles").select("*,profiles(*)").eq("url",t)}getById(t){return this.supabase.from("articles").select("*,profiles(*)").eq("id",t)}getAll(t,e,i){let n=this.supabase.from("articles").select("*,profiles(*)").order("updated_at",{ascending:!1});return(i?.userId?.length||i?.tag?.length)&&(i?.userId?.length&&n.eq("user_id",i.userId),i?.tag?.length&&n.contains("tags",[i.tag])),n.range(e,e+t-1),n}getAuthors(){return this.supabase.from("unique_authors").select("*,profiles(*)")}getExisingTags(){return this.supabase.from("unique_tags").select("tag")}static \u0275fac=function(e){return new(e||r)};static \u0275prov=z({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Nr=["editor"],jr=r=>({"opacity-0":r}),zr=()=>({standalone:!0});function Hr(r,o){if(r&1&&(s(0,"mat-option",16),u(1),l()),r&2){let t=o.$implicit;m("value",t),a(),E(t)}}function Wr(r,o){if(r&1){let t=T();s(0,"mat-chip",28),C("click",function(){let i=y(t).$implicit,n=d(3);return b(n.onRemoveTag(i))}),s(1,"div",29)(2,"span",30),u(3),l(),s(4,"button",31),C("click",function(){let i=y(t).$implicit,n=d(3);return b(n.onRemoveTag(i))}),s(5,"mat-icon"),u(6,"cancel"),l()()()()}if(r&2){let t=o.$implicit;a(3),E(t)}}function qr(r,o){if(r&1){let t=T();s(0,"button",32),C("click",function(){y(t);let i=d(3);return b(i.onDelete())}),u(1),l()}if(r&2){let t=d(2).$implicit;a(),v(" ",t("blog.edit.delete")," ")}}function Ur(r,o){if(r&1){let t=T();s(0,"button",33),C("click",function(){y(t);let i=d(3);return b(i.onRestore())}),u(1),l()}if(r&2){let t=d(2).$implicit,e=d();m("disabled",e.articleForm.pristine),a(),v(" ",t("blog.edit.restore")," ")}}function $r(r,o){if(r&1&&(s(0,"p",36),u(1),l()),r&2){let t=o.$implicit;a(),v(" * ",t," ")}}function Qr(r,o){if(r&1&&(s(0,"div",34),f(1,$r,2,1,"p",35),l()),r&2){let t=d(3);a(),m("ngForOf",t.errorMessages)}}function Kr(r,o){if(r&1){let t=T();s(0,"form",5),C("ngSubmit",function(){y(t);let i=d(2);return b(i.onSubmit())}),s(1,"mat-card-header")(2,"mat-card-title")(3,"div",6)(4,"span",7),u(5," * "),l(),s(6,"mat-form-field",8),S(7,"textarea",9,0),l()()()(),s(9,"div",10),S(10,"app-wysiwyg-editor",11),s(11,"mat-form-field",8),S(12,"textarea",12),l(),s(13,"div",13)(14,"div")(15,"mat-form-field",14)(16,"input",15),Dt("ngModelChange",function(i){y(t);let n=d(2);return Lt(n.newTag,i)||(n.newTag=i),b(i)}),C("keydown",function(i){y(t);let n=d(2);return b(n.onAddTag(i))}),l(),s(17,"mat-autocomplete",null,1),ye(19,Hr,2,2,"mat-option",16,ve),l(),s(21,"button",17),C("click",function(){y(t);let i=d(2);return b(i.onAddTag())}),s(22,"mat-icon"),u(23,"add"),l()()()(),s(24,"mat-chip-set",18),f(25,Wr,7,1,"mat-chip",19),l()(),s(26,"div",20)(27,"div",21),f(28,qr,2,1,"button",22)(29,Ur,2,2,"button",23),l(),s(30,"div",24)(31,"button",25),C("click",function(){y(t);let i=d(2);return b(i.toggleEdit())}),u(32),l(),s(33,"button",26),u(34),l()()()(),f(35,Qr,2,1,"div",27),l()}if(r&2){let t,e=it(18),i=d().$implicit,n=d();m("formGroup",n.articleForm),a(4),m("ngClass",W(18,jr,n.articleForm.pristine)),a(3),m("placeholder",i("blog.edit.titlePlaceholder"))("maxLength",100),a(3),m("placeholder",i("blog.edit.contentPlaceholder")),a(2),m("placeholder",i("blog.edit.descriptionPlaceholder"))("maxLength",200),a(4),m("appTogglablePlaceholder",i("blog.edit.tagsPlaceholder")),Rt("ngModel",n.newTag),m("ngModelOptions",Bt(20,zr))("matAutocomplete",e),a(3),be(n.filteredExistingTags()),a(6),m("ngForOf",n.tags==null?null:n.tags.value),a(3),m("ngIf",n.id),a(),m("ngIf",n.id),a(3),v(" ",i("blog.edit.preview")," "),a(),m("disabled",n.articleForm.pristine),a(),v(" ",i("blog.edit.save")," "),a(),m("ngIf",(t=n.articleForm.get("title"))==null?null:t.invalid)}}function Yr(r,o){if(r&1&&(ee(0),s(1,"mat-card",3)(2,"mat-card-content"),f(3,Kr,36,21,"form",4),l()(),te()),r&2){let t=d();a(),m("appearance","outlined"),a(2),m("ngIf",t.articleForm&&t.article)}}var ct=(()=>{class r{editor;articleService=p(X);route=p(q);formBuilder=p(Ve);matDialog=p(De);router=p(P);snackBar=p($e);sanitizer=p(F);cdRef=p(V);newTag="";supabaseAuthService=p(D);existingTags=[];filteredExistingTags=()=>this.existingTags.filter(t=>!this.tags?.value.includes(t.toLocaleLowerCase())&&t.toLowerCase().includes(this.newTag.toLocaleLowerCase()));get article(){return this._article}set article(t){this.sanitizeHtml(t),this._article=t}_article={};editorInitialized=!1;articleForm;editorApiKey=He.tinyMicApiKeys;errorMessages=[];id=+this.route.snapshot.params.id;get content(){return this.articleForm.get("content")}get title(){return this.articleForm.get("title")}get tags(){return this.articleForm.get("tags")}get description(){return this.articleForm.get("description")}ngOnInit(){this.id=+this.route.snapshot.params.id,this.getArticle(),this.getExistingTags()}getExistingTags(){return _(this,null,function*(){let t=(yield this.articleService.getExisingTags()).data;this.existingTags=t?.map(e=>e.tag)||[]})}back(t=!1){return _(this,null,function*(){this.articleForm.dirty&&!t&&!(yield this.matDialog.open(L,{data:{title:"Unsaved changes",text:"Are you sure you want to leave this page?",confirmText:"Leave"}}).afterClosed().toPromise())||this.router.navigate(["/blog"])})}createForm(t={}){this.articleForm=this.formBuilder.group({title:[t?.title,R.required],content:[t?.content,R.required],tags:[t?.tags||[]],description:[t?.description,[R.required,R.maxLength(200)]]})}getArticle(){return _(this,null,function*(){if(!this.id){this.createForm();return}let t=(yield this.articleService.getById(this.id)).data?.[0];t&&(this.article=t??{},this.createForm(t))})}sanitizeHtml(t){t.contentSafeHtml=this.sanitizer.bypassSecurityTrustHtml(t.content||"")}onAddTag(t){if(t?.key&&!["Enter",","," "].includes(t.key))return;t?.preventDefault();let e=this.tags?.value.map(n=>n.toLocaleLowerCase())||[];if(!this.newTag||e.includes(this.newTag.toLocaleLowerCase()))return;this.newTag.split(",").forEach(n=>{n=n.trim();let c=e.includes(n)?[]:[n];e.push(...c)}),this.tags?.patchValue(e),this.articleForm.markAsDirty(),this.newTag=""}onRemoveTag(t){let e=this.tags?.value||[],i=e.indexOf(t);i!==-1&&(e.splice(i,1),this.tags?.patchValue(e),this.articleForm.markAsDirty())}onDelete(){return _(this,null,function*(){(yield this.matDialog.open(L).afterClosed().toPromise())&&(yield this.articleService.delete(this.id),this.openSnackBar("Article deleted"),this.back(!0))})}onRestore(){return _(this,null,function*(){(yield this.matDialog.open(L,{data:{title:"Restore article",text:"Are you sure you want to restore this article?",confirmText:"Restore"}}).afterClosed().toPromise())&&(yield this.getArticle(),this.openSnackBar("Article restored"))})}openSnackBar(t){this.snackBar.open(t,"")}onSubmit(){return _(this,null,function*(){this.errorMessages=[],this.articleForm.get("title")?.patchValue(this.title?.value?.trim());let t=this.articleForm.errors;if(t&&(this.errorMessages=Object.keys(t).map(e=>t[e])),!this.articleForm.invalid){if(this.article.title=this.title?.value,this.article.content=this.content?.value,this.article.tags=this.tags?.value,this.article.description=this.articleForm.get("description")?.value,this.id)yield this.articleService.put(this.id,this.articleForm.value),this.openSnackBar("Article saved");else{let e=yield this.articleService.post(this.articleForm.value);e&&(this.id=e.data?.[0].id),this.router.navigate(["/blog/"+this.id+"/edit"]),this.openSnackBar("Article created")}this.articleForm.reset(this.articleForm.value),this.articleForm.markAsPristine()}})}toggleEdit(){this.articleForm.dirty&&(this.article=j(j({},this.articleForm.value),this.article))}buildUrlFromTitle(t,e){return t.replace(/[^a-zA-Z0-9\s]/g,"").replace(/\s+/g," ").trim().split(" ").slice(0,4).join("-").toLowerCase()+"-"+e}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=O({type:r,selectors:[["app-blog-article"]],viewQuery:function(e,i){if(e&1&&k(Nr,5),e&2){let n;x(n=A())&&(i.editor=n.first)}},standalone:!0,features:[I],decls:1,vars:0,consts:[["input",""],["auto","matAutocomplete"],[4,"transloco"],[1,"h-full",3,"appearance"],["class","flex flex-col h-full",3,"formGroup","ngSubmit",4,"ngIf"],[1,"flex","flex-col","h-full",3,"ngSubmit","formGroup"],[1,"flex","sm:flex-row","items-start","gap-1","flex-col","justify-between","flex-wrap"],[1,"text-end","w-full","text-2xl",3,"ngClass"],["appearance","outline",1,"w-full"],["cdkTextareaAutosize","","matInput","","formControlName","title",3,"placeholder","maxLength"],[1,"grow"],["formControlName","content",3,"placeholder"],["cdkTextareaAutosize","","rows","2","matInput","","formControlName","description",3,"placeholder","maxLength"],[1,"mt-8","flex","flex-col"],["appearance","outline"],["matInput","",3,"ngModelChange","keydown","appTogglablePlaceholder","ngModel","ngModelOptions","matAutocomplete"],[3,"value"],["matSuffix","","mat-icon-button","","type","button",1,"mr-2",3,"click"],[1,"pt-2"],[3,"click",4,"ngFor","ngForOf"],[1,"flex","sm:flex-row","flex-col-reverse","justify-between","gap-4","pt-4"],[1,"flex","sm:flex-row","flex-col-reverse","justify-start","gap-4"],["color","warn","mat-button","","type","button",3,"click",4,"ngIf"],["mat-button","","type","button",3,"disabled","click",4,"ngIf"],[1,"flex","sm:flex-row","flex-col-reverse","justify-end","gap-4"],["mat-button","","type","button",3,"click"],["mat-flat-button","",3,"disabled"],["class","flex flex-col items-end justify-end pt-4",4,"ngIf"],[3,"click"],[1,"flex","flex-row","justify-start","items-center"],[1,"text-xs"],["matChipRemove","","type","button",3,"click"],["color","warn","mat-button","","type","button",3,"click"],["mat-button","","type","button",3,"click","disabled"],[1,"flex","flex-col","items-end","justify-end","pt-4"],["class","color-error",4,"ngFor","ngForOf"],[1,"color-error"]],template:function(e,i){e&1&&f(0,Yr,4,2,"ng-container",2)},dependencies:[w,Wt,Ae,we,Ne,Ii,Mi,Oi,Ti,Ei,je,ki,Fi,$,Ie,di,Q,ke,Ue,$i,Li,Pi,Ui,G,K,Y,Le,Re,ze,Be,nr,ir,Ee,lt,Ye,Qe,Yi,Ke,Qi,Wi,U,Fe],styles:["mat-card-header[_ngcontent-%COMP%]{padding-right:0;padding-top:0}"]})}return r})();var sr=(()=>{let o=class o{};o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=me({type:o}),o.\u0275inj=pe({imports:[w,re]});let r=o;return r})();var lr=r=>["/blog",r],Gr=r=>["/blog",r,"edit"];function Xr(r,o){if(r&1){let t=T();s(0,"mat-chip",15),C("click",function(){let i=y(t).$implicit,n=d(2);return b(n.selectTag(i))}),s(1,"span",16),u(2),l()()}if(r&2){let t=o.$implicit,e=d(2);m("highlighted",e.filters.tag===t),a(2),E(t)}}function Zr(r,o){if(r&1){let t=T();s(0,"mat-chip",15),C("click",function(){let i=y(t).$implicit,n=d(2);return b(n.selectAuthor(i.id))}),s(1,"span",16),u(2),l()()}if(r&2){let t=o.$implicit,e=d(2);m("highlighted",e.filters.userId===t.id),a(2),E(t.full_name)}}function Jr(r,o){if(r&1){let t=T();s(0,"button",17),C("click",function(){y(t);let i=d(2);return b(i.resetFilters())}),u(1),s(2,"mat-icon"),u(3,"clear"),l()()}if(r&2){let t=d().$implicit;a(),v(" ",t("blog.list.resetFilters")," ")}}function en(r,o){if(r&1&&S(0,"img",28),r&2){let t=d().$implicit;m("src",t.profiles==null?null:t.profiles.avatar_url,ge)}}function tn(r,o){if(r&1&&(s(0,"span"),u(1),l()),r&2){let t=o.$implicit,e=o.$index,i=o.$count;a(),Pt(" ",t," ",e!==i-1?", ":""," ")}}function rn(r,o){if(r&1&&(s(0,"div",29)(1,"span"),u(2,"tags:"),l(),ye(3,tn,2,2,"span",null,ve),l()),r&2){let t=d().$implicit;a(3),be(t.tags)}}function nn(r,o){if(r&1&&(s(0,"a",25),u(1),l()),r&2){let t=d().$implicit,e=d().$implicit;m("routerLink",W(2,Gr,t.id)),a(),v(" ",e("blog.list.edit"),"... ")}}function on(r,o){if(r&1&&(ee(0),s(1,"mat-card-content",18)(2,"mat-card-header")(3,"mat-card-title",19)(4,"span"),u(5),l()()(),s(6,"div",20),f(7,en,1,1,"img",21),s(8,"span"),u(9),l(),u(10," ~ "),s(11,"span"),u(12),Se(13,"date"),l()(),S(14,"div",22),f(15,rn,5,0,"div",23),s(16,"div",24)(17,"a",25),u(18),l(),f(19,nn,2,4,"a",26),l()(),S(20,"div",27),te()),r&2){let t,e,i=o.$implicit,n=d().$implicit,c=d();a(3),m("routerLink",W(13,lr,i.url)),a(2),E(i.title),a(2),m("ngIf",i.profiles==null?null:i.profiles.avatar_url),a(2),E((t=i.profiles==null?null:i.profiles.full_name)!==null&&t!==void 0?t:i.profiles==null?null:i.profiles.email),a(3),E(Ce(13,10,i.inserted_at,"longDate")),a(2),m("innerHTML",i.description,he),a(),m("ngIf",i.tags==null?null:i.tags.length),a(2),m("routerLink",W(15,lr,i.url)),a(),v(" ",n("blog.list.readArticle"),"... "),a(),m("ngIf",c.supabaseAuthService.user()&&(i.profiles==null?null:i.profiles.id)===((e=c.supabaseAuthService.user())==null?null:e.id))}}function an(r,o){if(r&1&&(s(0,"div",30),u(1),l()),r&2){let t=d().$implicit;a(),v(" ",t("blog.list.loading"),"... ")}}function sn(r,o){if(r&1&&(s(0,"div",31),u(1),l()),r&2){let t=d(2);a(),v(" ",t.error," ")}}function ln(r,o){if(r&1&&(s(0,"div",32),u(1),l()),r&2){let t=d().$implicit;a(),v(" ",t("blog.list.end")," ")}}function cn(r,o){if(r&1&&(ee(0),s(1,"mat-card",1)(2,"div",2)(3,"span",3),u(4),l(),s(5,"mat-card-content")(6,"mat-chip-set",4),f(7,Xr,3,2,"mat-chip",5),l()()(),s(8,"div",6)(9,"span",3),u(10),l(),s(11,"mat-card-content")(12,"mat-chip-set",7),f(13,Zr,3,2,"mat-chip",5),l()()(),s(14,"div",8),f(15,Jr,4,1,"button",9),l(),s(16,"div",10)(17,"span",3),u(18),l(),f(19,on,21,17,"ng-container",11)(20,an,2,1,"div",12)(21,sn,2,1,"div",13)(22,ln,2,1,"div",14),l()(),te()),r&2){let t=o.$implicit,e=d();a(4),v("",t("blog.list.tags"),":"),a(3),m("ngForOf",e.tags),a(3),v("",t("blog.list.authors"),":"),a(3),m("ngForOf",e.authors),a(2),m("ngIf",e.filters.tag||e.filters.userId),a(3),v("",t("blog.list.articles"),":"),a(),m("ngForOf",e.articles),a(),m("ngIf",e.loading),a(),m("ngIf",e.error),a(),m("ngIf",e.allLoaded)}}var cr=(()=>{class r{articleService=p(X);sanitizer=p(F);supabaseAuthService=p(D);scrollToEndService=p(qe);router=p(P);route=p(q);articles=[];authors=[];tags=[];filters={userId:"",tag:""};page=0;pageSize=2;loading=!1;allLoaded=!1;error=null;ngOnInit(){this.getAuthors(),this.getExistingTags(),this.restoreFiltersFromUrl(),this.scrollToEndService.scrolledToEnd.subscribe(()=>this.loadMore()),this.scrollToEndService.scrolledToEnd.emit()}loadMore(){if(this.loading||this.allLoaded)return;this.loading=!0;let t=this.page*this.pageSize;this.articleService.getAll(this.pageSize,t,this.filters).then(e=>{let i=e.data||[];this.articles=[...this.articles,...i],i.length<this.pageSize?this.allLoaded=!0:this.page++,this.loading=!1})}getAuthors(){return _(this,null,function*(){try{let e=(yield this.articleService.getAuthors()).data?.map(i=>i.profiles);this.authors=e||[]}catch(t){console.error("Error fetching authors:",t),this.error="Failed to load authors."}})}getExistingTags(){return _(this,null,function*(){try{let e=(yield this.articleService.getExisingTags()).data?.map(i=>i.tag);this.tags=e||[]}catch(t){console.error("Error fetching tags:",t),this.error="Failed to load tags."}})}selectTag(t){this.filters.tag=this.filters.tag===t?"":t,this.page=0,this.articles=[],this.allLoaded=!1,this.updateUrl(),this.loadMore()}selectAuthor(t,e=!0){this.filters.userId=this.filters.userId===t?"":t,this.page=0,this.articles=[],this.allLoaded=!1,this.updateUrl(),e&&this.loadMore()}resetFilters(){this.selectAuthor("",!1),this.selectTag("")}restoreFiltersFromUrl(){this.route.queryParams.subscribe(t=>{!t.tag&&!t.userId||(t.tag&&(this.filters.tag=JSON.parse(t.tag)),t.userId&&(this.filters.userId=JSON.parse(t.userId)),this.page=0,this.articles=[],this.allLoaded=!1,this.loadMore())})}updateUrl(){let t={tag:JSON.stringify(this.filters.tag),userId:JSON.stringify(this.filters.userId)};console.log("queryParams:",t),this.router.navigate([],{relativeTo:this.route,queryParams:t,queryParamsHandling:"merge"})}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=O({type:r,selectors:[["app-blog-article-list"]],standalone:!0,features:[I],decls:1,vars:0,consts:[[4,"transloco"],["appearance","outlined"],[1,"pl"],[1,"text-xs","pl-1","lowercase"],["aria-label","Tag selection",1,"pt-2"],[3,"highlighted","click",4,"ngFor","ngForOf"],[1,"mt-1"],["aria-label","Author selection",1,"pt-2"],[1,"flex","justify-start"],["mat-button","","class","color-secondary",3,"click",4,"ngIf"],[1,"mt-8"],[4,"ngFor","ngForOf"],["class","loading-spinner",4,"ngIf"],["class","error-message",4,"ngIf"],["class","end-message",4,"ngIf"],[3,"click","highlighted"],[1,"text-xs"],["mat-button","",1,"color-secondary",3,"click"],[1,"mb-4"],["mat-button","",1,"cursor-pointer","hover:underline",3,"routerLink"],[1,"flex","gap-1","justify-start","items-center","text-xs","font-light"],["class","rounded-full w-[24px] h-[24px]",3,"src",4,"ngIf"],[1,"content-text","mt-8","mb-4",3,"innerHTML"],["class","flex-row flex-wrap gap-2 justify-center text-xs font-light italic mt-12",4,"ngIf"],[1,"flex","justify-between"],["routerLinkActive","item-selected",1,"hover:underline","color-secondary","pt-8",3,"routerLink"],["class","hover:underline color-secondary pt-8","routerLinkActive","item-selected",3,"routerLink",4,"ngIf"],[1,"post-separator","z-10"],[1,"rounded-full","w-[24px]","h-[24px]",3,"src"],[1,"flex-row","flex-wrap","gap-2","justify-center","text-xs","font-light","italic","mt-12"],[1,"loading-spinner"],[1,"error-message"],[1,"end-message"]],template:function(e,i){e&1&&f(0,cn,23,10,"ng-container",0)},dependencies:[G,K,Y,Le,Re,w,Ae,we,Me,$,Ie,U,Zt,Jt,Q,ke,Ye,Qe,Ke,sr,Fe],styles:["mat-card-header[_ngcontent-%COMP%]{border:0px!important}.no-underline[_ngcontent-%COMP%]{text-decoration-line:none!important}.loading-spinner[_ngcontent-%COMP%], .end-message[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%]{text-align:center;padding:16px;font-size:14px}.error-message[_ngcontent-%COMP%]{color:red}.scroll-container[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.post-separator[_ngcontent-%COMP%]{height:1px;margin:16px 0}"]})}return r})();var pn=["editor"],pr=(()=>{class r{editor;articleService=p(X);route=p(q);formBuilder=p(Ve);matDialog=p(De);router=p(P);snackBar=p($e);sanitizer=p(F);cdRef=p(V);supabaseAuthService=p(D);get article(){return this._article}set article(t){this.sanitizeHtml(t),this._article=t}_article={};editorInitialized=!1;articleForm;editorApiKey=He.tinyMicApiKeys;errorMessages=[];url=this.route.snapshot.params.url;get content(){return this.articleForm.get("content")}get title(){return this.articleForm.get("title")}ngOnInit(){this.url=this.route.snapshot.params.url,this.getArticle(!0)}initializeData(){return _(this,null,function*(){})}back(t=!1){return _(this,null,function*(){this.articleForm.dirty&&!t&&!(yield this.matDialog.open(L,{data:{title:"Unsaved changes",text:"Are you sure you want to leave this page?",confirmText:"Leave"}}).afterClosed().toPromise())||this.router.navigate(["/blog"])})}createForm(t={}){this.articleForm=this.formBuilder.group({title:[t?.title,R.required],content:[t?.content,R.required]})}getArticle(t=!1){return _(this,null,function*(){if(!this.url){this.createForm();return}let e=(yield this.articleService.getByUrl(this.url)).data?.[0];e&&(this.article=e??{},t&&this.createForm(e))})}sanitizeHtml(t){t.contentSafeHtml=this.sanitizer.bypassSecurityTrustHtml(t.content||"")}onDelete(){return _(this,null,function*(){(yield this.matDialog.open(L).afterClosed().toPromise())&&(yield this.articleService.delete(this.article.id),this.openSnackBar("Article deleted"),this.back(!0))})}onRestore(){return _(this,null,function*(){(yield this.matDialog.open(L,{data:{title:"Restore article",text:"Are you sure you want to restore this article?",confirmText:"Restore"}}).afterClosed().toPromise())&&(yield this.getArticle(!0),this.openSnackBar("Article restored"))})}openSnackBar(t){this.snackBar.open(t,"")}onSubmit(){return _(this,null,function*(){this.errorMessages=[],this.articleForm.get("title")?.patchValue(this.title?.value?.trim()),this.articleForm.get("content")?.patchValue(this.content?.value?.trim());let t=this.articleForm.errors;if(t&&(this.errorMessages=Object.keys(t).map(e=>t[e])),!this.articleForm.invalid){if(this.article.title=this.title?.value,this.article.content=this.content?.value,this.article.id)yield this.articleService.put(this.article.id,this.articleForm.value),this.openSnackBar("Article saved");else{let e=yield this.articleService.post(this.articleForm.value);this.router.navigate(["/blog/"+e.data?.[0].id+"/edit"]),this.openSnackBar("Article created")}this.articleForm.reset(this.articleForm.value)}})}toggleEdit(){this.articleForm.dirty&&(this.article=j(j({},this.articleForm.value),this.article))}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=O({type:r,selectors:[["app-blog-article"]],viewQuery:function(e,i){if(e&1&&k(pn,5),e&2){let n;x(n=A())&&(i.editor=n.first)}},standalone:!0,features:[I],decls:14,vars:9,consts:[[1,"h-full",3,"appearance"],[1,"flex","flex-col","justify-start","gap-6","mb-12","w-full"],[1,"flex","page-title","justify-start"],[1,"flex","flex-row","items","gap-2","items-center","text-ellipsis"],[1,"rounded-full","w-16","mat-elevation-z2",3,"src"],[1,"flex","flex-col"],[1,"font-light","text-sm"],[1,"content-text",3,"innerHTML"]],template:function(e,i){if(e&1&&(s(0,"mat-card",0)(1,"mat-card-content")(2,"div",1)(3,"h1",2),u(4),l(),s(5,"div",3),S(6,"img",4),s(7,"div",5)(8,"span"),u(9),l(),s(10,"span",6),u(11),Se(12,"date"),l()()()(),S(13,"div",7),l()()),e&2){let n;m("appearance","outlined"),a(4),v(" ",i.article.title," "),a(2),m("src",i.article.profiles==null?null:i.article.profiles.avatar_url,ge),a(3),E((n=i.article.profiles==null?null:i.article.profiles.full_name)!==null&&n!==void 0?n:i.article.profiles==null?null:i.article.profiles.email),a(2),v(" ",Ce(12,6,i.article.inserted_at,"longDate")," "),a(2),m("innerHTML",i.article.contentSafeHtml,he)}},dependencies:[ze,Ne,$,Q,Ue,je,w,Me,G,K,Y,Be,U],styles:["mat-card-content[_ngcontent-%COMP%]{padding-bottom:0!important}mat-card-header[_ngcontent-%COMP%]{border:0px!important}"]})}return r})();var mr=[{path:"resume",loadComponent:()=>import("./chunk-HR5PZ2VG.js").then(r=>r.ResumeComponent),pathMatch:"full"},{path:"about",loadComponent:()=>import("./chunk-HBIG6QCC.js").then(r=>r.AboutComponent),pathMatch:"full"},{path:"blog",loadComponent:()=>import("./chunk-AGYGMNBS.js").then(r=>r.BlogComponent),children:[{path:"",component:cr,pathMatch:"full"},{path:"new",component:ct,pathMatch:"full"},{path:":id/edit",component:ct,pathMatch:"full"},{path:":url",component:pr,pathMatch:"full"},{path:"**",redirectTo:"",pathMatch:"full"}]},{path:"heart-love",loadComponent:()=>import("./chunk-ODSRNXIR.js").then(r=>r.HeartLoveComponent),pathMatch:"full"},{path:"manage-profile",loadComponent:()=>import("./chunk-Z5SHTVQI.js").then(r=>r.AccountManagerComponent)},{path:"**",redirectTo:"about",pathMatch:"full"}];var dr=(()=>{class r{http=p(qt);getTranslation(t){return this.http.get(`/assets/i18n/${t}.json`)}static \u0275fac=function(e){return new(e||r)};static \u0275prov=z({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var ur=zi,hr={providers:[gi({config:{availableLangs:ur,defaultLang:"en",reRenderOnLangChange:!0,prodMode:!jt()},loader:dr}),Nt({eventCoalescing:!0}),ei(mr),{provide:zt,useClass:Ht},Yt(),Ut($t()),Zi(),{provide:Vt,useFactory:(r,o,t,e)=>()=>_(void 0,null,function*(){e.initializeSupabase(),ur.forEach(i=>t.load(i).subscribe()),r.initializeTranslation(),o.initializeTheme()}),deps:[ji,Ni,hi,We],multi:!0},{provide:Ki,useValue:{duration:2e3}}]};Kt(Xi,hr).catch(r=>console.error(r));
