import{b as ca,c as da,f as ol,g as ua}from"./chunk-X5YLR3NI.js";import"./chunk-TLNRUKVV.js";import"./chunk-3H34234B.js";import{a as qo,b as Zi,c as Qo,d as Jo,e as Gt,f as Yo,g as Zo,h as Xo,i as ea,j as ta,k as ia,l as na,m as st,n as ra,o as oa,p as rn,q as on,r as an,s as sn,t as aa,u as ln,v as lt,w as cn,x as sa,y as la,z as Ke}from"./chunk-VF2DZFBH.js";import{A as Ki,B as ae,C as ie,D as nt,E as Ht,G as Pe,I as W,J as Yi,K as zo,L as Go,M as rt,N as Xi,O as ot,P as en,Q as at,R as rr,S as zt,T as Ko,U as ui,V as or,W as tn,X as Wo,Y as ar,_ as nn,a as et,b as ir,ba as bt,c as Ui,ca as sr,da as ha,e as Vi,f as Ae,fa as ma,g as Hi,h as nr,j as zi,k as Ro,l as Do,m as Oo,n as Po,o as jo,p as Fo,q as Lo,r as vt,t as Gi,u as he,v as Bo,w as No,x as qi,y as tt,z as $o}from"./chunk-DNSHJFD5.js";import{c as qe,d as xe,f as se,g as Ce,h as Se}from"./chunk-WXI33M2S.js";import{a as Uo,b as Wi,c as Vo,d as it,e as Qi,f as Ji,g as Ho,h as be}from"./chunk-FPD7F3TA.js";import{a as ko,b as To,c as Eo,d as Mo,e as Io,g as Xe,h as Ao}from"./chunk-IIQSA42B.js";import{d as Oe,k as $i,l as xo,m as Ze,n as Co,o as Vt,p as H,r as So}from"./chunk-YYXHG7V6.js";import{$a as _,$b as ve,Aa as v,Ab as Bt,B as Gr,Ba as J,Bb as Nt,Bc as wo,Cb as m,D as oi,Da as q,Db as p,E as Yn,Ea as Fi,Eb as O,F as Zn,Fb as ho,G as qr,Gb as mo,Hb as B,I as Kr,Ia as no,Ib as po,Ja as Li,Jb as $t,L as Wr,Mb as k,Nb as Ni,O as Qr,Ob as C,P as Jr,Pb as ue,Qb as Y,R as ze,Rb as fo,S as ai,Sb as Ie,T as z,Tb as Z,U as Xn,Ub as $,V as Yr,Vb as U,W as Zr,Wa as Ft,Wb as _t,Xa as si,Xb as x,Y as jt,Yb as oe,Z as N,Zb as ee,_ as fe,_a as g,_b as go,a as Pi,aa as te,ab as ro,ac as T,bb as li,ca as re,cb as oo,cc as Je,da as y,dc as tr,eb as ao,f as L,fc as Ye,g as ji,gb as so,gc as _o,h as Qn,ha as S,hb as lo,hc as Ut,i as Hr,ia as ge,ja as ce,jb as ci,k as Jn,kb as co,kc as vo,la as Xr,mb as gt,nb as Ge,o as He,pb as Lt,pc as bo,qa as eo,ra as P,rc as yo,sa as j,sb as R,sc as K,ta as to,tb as de,u as zr,ub as w,v as Ot,va as er,vb as Bi,w as Pt,wa as io,wb as _e,x as ne,xa as Me,xb as di,xc as De,yb as G,zb as uo}from"./chunk-5BPRXVO3.js";import{a as Q,b as Dt,e as Ve,g as nl,h as rl,i as u}from"./chunk-ODN5LVDJ.js";var xa=Ve(mr=>{"use strict";Object.defineProperty(mr,"__esModule",{value:!0});var hr=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}};mr.default=hr});var fr=Ve(pi=>{"use strict";var Ca=pi&&pi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(pi,"__esModule",{value:!0});var Tl=Ca((ua(),rl(ol))),El=Ca(xa()),pr=class{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=Tl.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,t){return this.headers=Object.assign({},this.headers),this.headers[i]=t,this}then(i,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let e=this.fetch,n=e(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>u(this,null,function*(){var a,s,l;let c=null,d=null,h=null,b=o.status,f=o.statusText;if(o.ok){if(this.method!=="HEAD"){let le=yield o.text();le===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=le:d=JSON.parse(le))}let A=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),E=(s=o.headers.get("content-range"))===null||s===void 0?void 0:s.split("/");A&&E&&E.length>1&&(h=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,b=406,f="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let A=yield o.text();try{c=JSON.parse(A),Array.isArray(c)&&o.status===404&&(d=[],c=null,b=200,f="OK")}catch{o.status===404&&A===""?(b=204,f="No Content"):c={message:A}}if(c&&this.isMaybeSingle&&(!((l=c?.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,b=200,f="OK"),c&&this.shouldThrowOnError)throw new El.default(c)}return{error:c,data:d,count:h,status:b,statusText:f}}));return this.shouldThrowOnError||(n=n.catch(o=>{var a,s,l;return{error:{message:`${(a=o?.name)!==null&&a!==void 0?a:"FetchError"}: ${o?.message}`,details:`${(s=o?.stack)!==null&&s!==void 0?s:""}`,hint:"",code:`${(l=o?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(i,t)}};pi.default=pr});var _r=Ve(fi=>{"use strict";var Ml=fi&&fi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fi,"__esModule",{value:!0});var Il=Ml(fr()),gr=class extends Il.default{select(i){let t=!1,e=(i??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",e),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:t=!0,nullsFirst:e,foreignTable:n,referencedTable:o=n}={}){let a=o?`${o}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${i}.${t?"asc":"desc"}${e===void 0?"":e?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:t,referencedTable:e=t}={}){let n=typeof e>"u"?"limit":`${e}.limit`;return this.url.searchParams.set(n,`${i}`),this}range(i,t,{foreignTable:e,referencedTable:n=e}={}){let o=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(o,`${i}`),this.url.searchParams.set(a,`${t-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:t=!1,settings:e=!1,buffers:n=!1,wal:o=!1,format:a="text"}={}){var s;let l=[i?"analyze":null,t?"verbose":null,e?"settings":null,n?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.Accept)!==null&&s!==void 0?s:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`,a==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};fi.default=gr});var gn=Ve(gi=>{"use strict";var Al=gi&&gi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(gi,"__esModule",{value:!0});var Rl=Al(_r()),vr=class extends Rl.default{eq(i,t){return this.url.searchParams.append(i,`eq.${t}`),this}neq(i,t){return this.url.searchParams.append(i,`neq.${t}`),this}gt(i,t){return this.url.searchParams.append(i,`gt.${t}`),this}gte(i,t){return this.url.searchParams.append(i,`gte.${t}`),this}lt(i,t){return this.url.searchParams.append(i,`lt.${t}`),this}lte(i,t){return this.url.searchParams.append(i,`lte.${t}`),this}like(i,t){return this.url.searchParams.append(i,`like.${t}`),this}likeAllOf(i,t){return this.url.searchParams.append(i,`like(all).{${t.join(",")}}`),this}likeAnyOf(i,t){return this.url.searchParams.append(i,`like(any).{${t.join(",")}}`),this}ilike(i,t){return this.url.searchParams.append(i,`ilike.${t}`),this}ilikeAllOf(i,t){return this.url.searchParams.append(i,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(i,t){return this.url.searchParams.append(i,`ilike(any).{${t.join(",")}}`),this}is(i,t){return this.url.searchParams.append(i,`is.${t}`),this}in(i,t){let e=Array.from(new Set(t)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(i,`in.(${e})`),this}contains(i,t){return typeof t=="string"?this.url.searchParams.append(i,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(i,`cs.{${t.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(t)}`),this}containedBy(i,t){return typeof t=="string"?this.url.searchParams.append(i,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(i,`cd.{${t.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(t)}`),this}rangeGt(i,t){return this.url.searchParams.append(i,`sr.${t}`),this}rangeGte(i,t){return this.url.searchParams.append(i,`nxl.${t}`),this}rangeLt(i,t){return this.url.searchParams.append(i,`sl.${t}`),this}rangeLte(i,t){return this.url.searchParams.append(i,`nxr.${t}`),this}rangeAdjacent(i,t){return this.url.searchParams.append(i,`adj.${t}`),this}overlaps(i,t){return typeof t=="string"?this.url.searchParams.append(i,`ov.${t}`):this.url.searchParams.append(i,`ov.{${t.join(",")}}`),this}textSearch(i,t,{config:e,type:n}={}){let o="";n==="plain"?o="pl":n==="phrase"?o="ph":n==="websearch"&&(o="w");let a=e===void 0?"":`(${e})`;return this.url.searchParams.append(i,`${o}fts${a}.${t}`),this}match(i){return Object.entries(i).forEach(([t,e])=>{this.url.searchParams.append(t,`eq.${e}`)}),this}not(i,t,e){return this.url.searchParams.append(i,`not.${t}.${e}`),this}or(i,{foreignTable:t,referencedTable:e=t}={}){let n=e?`${e}.or`:"or";return this.url.searchParams.append(n,`(${i})`),this}filter(i,t,e){return this.url.searchParams.append(i,`${t}.${e}`),this}};gi.default=vr});var yr=Ve(vi=>{"use strict";var Dl=vi&&vi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(vi,"__esModule",{value:!0});var _i=Dl(gn()),br=class{constructor(i,{headers:t={},schema:e,fetch:n}){this.url=i,this.headers=t,this.schema=e,this.fetch=n}select(i,{head:t=!1,count:e}={}){let n=t?"HEAD":"GET",o=!1,a=(i??"*").split("").map(s=>/\s/.test(s)&&!o?"":(s==='"'&&(o=!o),s)).join("");return this.url.searchParams.set("select",a),e&&(this.headers.Prefer=`count=${e}`),new _i.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:t,defaultToNull:e=!0}={}){let n="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),t&&o.push(`count=${t}`),e||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(i)){let a=i.reduce((s,l)=>s.concat(Object.keys(l)),[]);if(a.length>0){let s=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",s.join(","))}}return new _i.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:t,ignoreDuplicates:e=!1,count:n,defaultToNull:o=!0}={}){let a="POST",s=[`resolution=${e?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),o||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(i)){let l=i.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){let c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new _i.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:t}={}){let e="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),this.headers.Prefer=n.join(","),new _i.default({method:e,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){let t="DELETE",e=[];return i&&e.push(`count=${i}`),this.headers.Prefer&&e.unshift(this.headers.Prefer),this.headers.Prefer=e.join(","),new _i.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};vi.default=br});var Sa=Ve(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});_n.version=void 0;_n.version="0.0.0-automated"});var ka=Ve(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});vn.DEFAULT_HEADERS=void 0;var Ol=Sa();vn.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Ol.version}`}});var Ea=Ve(bi=>{"use strict";var Ta=bi&&bi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(bi,"__esModule",{value:!0});var Pl=Ta(yr()),jl=Ta(gn()),Fl=ka(),wr=class r{constructor(i,{headers:t={},schema:e,fetch:n}={}){this.url=i,this.headers=Object.assign(Object.assign({},Fl.DEFAULT_HEADERS),t),this.schemaName=e,this.fetch=n}from(i){let t=new URL(`${this.url}/${i}`);return new Pl.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new r(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,t={},{head:e=!1,get:n=!1,count:o}={}){let a,s=new URL(`${this.url}/rpc/${i}`),l;e||n?(a=e?"HEAD":"GET",Object.entries(t).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{s.searchParams.append(d,h)})):(a="POST",l=t);let c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new jl.default({method:a,url:s,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};bi.default=wr});var Oa=Ve(me=>{"use strict";var yi=me&&me.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(me,"__esModule",{value:!0});me.PostgrestBuilder=me.PostgrestTransformBuilder=me.PostgrestFilterBuilder=me.PostgrestQueryBuilder=me.PostgrestClient=void 0;var Ma=yi(Ea());me.PostgrestClient=Ma.default;var Ia=yi(yr());me.PostgrestQueryBuilder=Ia.default;var Aa=yi(gn());me.PostgrestFilterBuilder=Aa.default;var Ra=yi(_r());me.PostgrestTransformBuilder=Ra.default;var Da=yi(fr());me.PostgrestBuilder=Da.default;me.default={PostgrestClient:Ma.default,PostgrestQueryBuilder:Ia.default,PostgrestFilterBuilder:Aa.default,PostgrestTransformBuilder:Ra.default,PostgrestBuilder:Da.default}});var pa=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=ge({type:i}),i.\u0275inj=fe({imports:[he,he]});let r=i;return r})();var hl=["mat-menu-item",""],ml=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],pl=["mat-icon, [matMenuItemIcon]","*"];function fl(r,i){r&1&&(to(),m(0,"svg",2),O(1,"polygon",3),p())}var gl=["*"];function _l(r,i){if(r&1){let t=B();m(0,"div",0),k("keydown",function(n){P(t);let o=C();return j(o._handleKeydown(n))})("click",function(){P(t);let n=C();return j(n.closed.emit("click"))})("@transformMenu.start",function(n){P(t);let o=C();return j(o._onAnimationStart(n))})("@transformMenu.done",function(n){P(t);let o=C();return j(o._onAnimationDone(n))}),m(1,"div",1),Y(2),p()()}if(r&2){let t=C();di(t._classList),w("id",t.panelId)("@transformMenu",t._panelAnimationState),de("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}var dr=new te("MAT_MENU_PANEL"),yt=(()=>{let i=class i{constructor(e,n,o,a,s){this._elementRef=e,this._document=n,this._focusMonitor=o,this._parentMenu=a,this._changeDetectorRef=s,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new L,this._focused=new L,this._highlighted=!1,this._triggersSubmenu=!1,a?.addItem?.(this)}focus(e,n){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,n):this._getHostElement().focus(n),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let e=this._elementRef.nativeElement.cloneNode(!0),n=e.querySelectorAll("mat-icon, .material-icons");for(let o=0;o<n.length;o++)n[o].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}};i.\u0275fac=function(n){return new(n||i)(_(q),_(Oe),_(vt),_(dr,8),_(K))},i.\u0275cmp=S({type:i,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(n,o){n&1&&k("click",function(s){return o._checkDisabled(s)})("mouseenter",function(){return o._handleMouseEnter()}),n&2&&(de("role",o.role)("tabindex",o._getTabIndex())("aria-disabled",o.disabled)("disabled",o.disabled||null),_e("mat-mdc-menu-item-highlighted",o._highlighted)("mat-mdc-menu-item-submenu-trigger",o._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",De],disableRipple:[2,"disableRipple","disableRipple",De]},exportAs:["matMenuItem"],standalone:!0,features:[Lt,T],attrs:hl,ngContentSelectors:pl,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(n,o){n&1&&(ue(ml),Y(0),m(1,"span",0),Y(2,1),p(),O(3,"div",1),R(4,fl,2,0,":svg:svg",2)),n&2&&(g(3),w("matRippleDisabled",o.disableRipple||o.disabled)("matRippleTrigger",o._getHostElement()),g(),G(o._triggersSubmenu?4:-1))},dependencies:[qi],encapsulation:2,changeDetection:0});let r=i;return r})();var vl=new te("MatMenuContent");var dn={transformMenu:qe("transformMenu",[Ce("void",se({opacity:0,transform:"scale(0.8)"})),Se("void => enter",xe("120ms cubic-bezier(0, 0, 0.2, 1)",se({opacity:1,transform:"scale(1)"}))),Se("* => void",xe("100ms 25ms linear",se({opacity:0})))]),fadeInItems:qe("fadeInItems",[Ce("showing",se({opacity:1})),Se("void => *",[se({opacity:0}),xe("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},ju=dn.fadeInItems,Fu=dn.transformMenu,bl=0,yl=new te("mat-menu-default-options",{providedIn:"root",factory:wl});function wl(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var ct=(()=>{let i=class i{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}set panelClass(e){let n=this._previousPanelClass,o=Q({},this._classList);n&&n.length&&n.split(" ").forEach(a=>{o[a]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(a=>{o[a]=!0}),this._elementRef.nativeElement.className=""),this._classList=o}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,n,o,a){this._elementRef=e,this._changeDetectorRef=a,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new Fi,this._classList={},this._panelAnimationState="void",this._animationDone=new L,this.closed=new v,this.close=this.closed,this.panelId=`mat-menu-panel-${bl++}`,this._injector=y(Me),this.overlayPanelClass=o.overlayPanelClass||"",this._xPosition=o.xPosition,this._yPosition=o.yPosition,this.backdropClass=o.backdropClass,this.overlapTrigger=o.overlapTrigger,this.hasBackdrop=o.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Do(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(ze(this._directDescendantItems),ai(e=>Pt(...e.map(n=>n._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{let n=this._keyManager;if(this._panelAnimationState==="enter"&&n.activeItem?._hasFocus()){let o=e.toArray(),a=Math.max(0,Math.min(o.length-1,n.activeItemIndex||0));o[a]&&!o[a].disabled?n.setActiveItem(a):n.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe(ze(this._directDescendantItems),ai(n=>Pt(...n.map(o=>o._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){let n=e.keyCode,o=this._keyManager;switch(n){case 27:Vi(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(n===38||n===40)&&o.setFocusOrigin("keyboard"),o.onKeydown(e);return}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=ci(()=>{let n=null;if(this._directDescendantItems.length&&(n=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!n||!n.contains(document.activeElement)){let o=this._keyManager;o.setFocusOrigin(e).setFirstItemActive(),!o.activeItem&&n&&n.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){if(this._baseElevation===null){let l=(typeof getComputedStyle=="function"?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(l)}let n=Math.min(this._baseElevation+e,24),o=`${this._elevationPrefix}${n}`,a=Object.keys(this._classList).find(s=>s.startsWith(this._elevationPrefix));if(!a||a===this._previousElevation){let s=Q({},this._classList);this._previousElevation&&(s[this._previousElevation]=!1),s[o]=!0,this._previousElevation=o,this._classList=s}}setPositionClasses(e=this.xPosition,n=this.yPosition){this._classList=Dt(Q({},this._classList),{"mat-menu-before":e==="before","mat-menu-after":e==="after","mat-menu-above":n==="above","mat-menu-below":n==="below"}),this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,e.toState==="enter"&&this._keyManager.activeItemIndex===0&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(ze(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(n=>n._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}};i.\u0275fac=function(n){return new(n||i)(_(q),_(J),_(yl),_(K))},i.\u0275cmp=S({type:i,selectors:[["mat-menu"]],contentQueries:function(n,o,a){if(n&1&&(Ie(a,vl,5),Ie(a,yt,5),Ie(a,yt,4)),n&2){let s;$(s=U())&&(o.lazyContent=s.first),$(s=U())&&(o._allItems=s),$(s=U())&&(o.items=s)}},viewQuery:function(n,o){if(n&1&&Z(li,5),n&2){let a;$(a=U())&&(o.templateRef=a.first)}},hostVars:3,hostBindings:function(n,o){n&2&&de("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",De],hasBackdrop:[2,"hasBackdrop","hasBackdrop",e=>e==null?null:De(e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[ve([{provide:dr,useExisting:i}]),Lt,T],ngContentSelectors:gl,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(n,o){n&1&&(ue(),R(0,_l,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-app-surface-container));will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-app-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-app-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[dn.transformMenu,dn.fadeInItems]},changeDetection:0});let r=i;return r})(),va=new te("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let r=y(bt);return()=>r.scrollStrategies.reposition()}});function xl(r){return()=>r.scrollStrategies.reposition()}var Cl={provide:va,deps:[bt],useFactory:xl},fa=Ui({passive:!0});var un=(()=>{let i=class i{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._parentMaterialMenu,this._menuCloseSubscription=e.close.subscribe(n=>{this._destroyMenu(n),(n==="click"||n==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(n)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,n,o,a,s,l,c,d,h){this._overlay=e,this._element=n,this._viewContainerRef=o,this._menuItemInstance=l,this._dir=c,this._focusMonitor=d,this._ngZone=h,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Pi.EMPTY,this._hoverSubscription=Pi.EMPTY,this._menuCloseSubscription=Pi.EMPTY,this._changeDetectorRef=y(K),this._handleTouchStart=b=>{Fo(b)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new v,this.onMenuOpen=this.menuOpened,this.menuClosed=new v,this.onMenuClose=this.menuClosed,this._scrollStrategy=a,this._parentMaterialMenu=s instanceof ct?s:void 0,n.nativeElement.addEventListener("touchstart",this._handleTouchStart,fa)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,fa),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let e=this.menu;if(this._menuOpen||!e)return;let n=this._createOverlay(e),o=n.getConfig(),a=o.positionStrategy;this._setPosition(e,a),o.hasBackdrop=e.hasBackdrop==null?!this.triggersSubmenu():e.hasBackdrop,n.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof ct&&(e._startAnimation(),e._directDescendantItems.changes.pipe(z(e.close)).subscribe(()=>{a.withLockedPosition(!1).reapplyLastPosition(),a.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,n){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,n):this._element.nativeElement.focus(n)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;let n=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&(e==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,n instanceof ct?(n._resetAnimation(),n.lazyContent?n._animationDone.pipe(ne(o=>o.toState==="void"),oi(1),z(n.lazyContent._attached)).subscribe({next:()=>n.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),n?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let n=0,o=e.parentMenu;for(;o;)n++,o=o.parentMenu;e.setElevation(n)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){let n=this._getOverlayConfig(e);this._subscribeToPositions(e,n.positionStrategy),this._overlayRef=this._overlay.create(n),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new nn({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,n){e.setPositionClasses&&n.positionChanges.subscribe(o=>{let a=o.connectionPair.overlayX==="start"?"after":"before",s=o.connectionPair.overlayY==="top"?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(a,s)):e.setPositionClasses(a,s)})}_setPosition(e,n){let[o,a]=e.xPosition==="before"?["end","start"]:["start","end"],[s,l]=e.yPosition==="above"?["bottom","top"]:["top","bottom"],[c,d]=[s,l],[h,b]=[o,a],f=0;if(this.triggersSubmenu()){if(b=o=e.xPosition==="before"?"start":"end",a=h=o==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let I=this._parentMaterialMenu.items.first;this._parentInnerPadding=I?I._getHostElement().offsetTop:0}f=s==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(c=s==="top"?"bottom":"top",d=l==="top"?"bottom":"top");n.withPositions([{originX:o,originY:c,overlayX:h,overlayY:s,offsetY:f},{originX:a,originY:c,overlayX:b,overlayY:s,offsetY:f},{originX:o,originY:d,overlayX:h,overlayY:l,offsetY:-f},{originX:a,originY:d,overlayX:b,overlayY:l,offsetY:-f}])}_menuClosingActions(){let e=this._overlayRef.backdropClick(),n=this._overlayRef.detachments(),o=this._parentMaterialMenu?this._parentMaterialMenu.closed:Jn(),a=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(ne(s=>s!==this._menuItemInstance),ne(()=>this._menuOpen)):Jn();return Pt(e,o,a,n)}_handleMousedown(e){jo(e)||(this._openedBy=e.button===0?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){let n=e.keyCode;(n===13||n===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(n===39&&this.dir==="ltr"||n===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(ne(e=>e===this._menuItemInstance&&!e.disabled),Zn(0,Qn)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof ct&&this.menu._isAnimating?this.menu._animationDone.pipe(oi(1),Zn(0,Qn),z(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new tn(e.templateRef,this._viewContainerRef)),this._portal}};i.\u0275fac=function(n){return new(n||i)(_(bt),_(q),_(co),_(va),_(dr,8),_(yt,10),_(Gi,8),_(vt),_(J))},i.\u0275dir=ce({type:i,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(n,o){n&1&&k("click",function(s){return o._handleClick(s)})("mousedown",function(s){return o._handleMousedown(s)})("keydown",function(s){return o._handleKeydown(s)}),n&2&&de("aria-haspopup",o.menu?"menu":null)("aria-expanded",o.menuOpen)("aria-controls",o.menuOpen?o.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0});let r=i;return r})(),je=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=ge({type:i}),i.\u0275inj=fe({providers:[Cl],imports:[H,tt,he,sr,ui,he]});let r=i;return r})();var hn=class{text="Are you sure you want to delete this item?";title="Confirm deletion";confirmText="Delete"};var Sl=["form"],Fe=(()=>{class r{dialogRef;data;form;complexDeleteTextToReproduceInput="";dialogData;constructor(t,e){this.dialogRef=t,this.data=e,this.dialogData=this.data||new hn}closeDialog(){this.dialogRef.close(!0)}static \u0275fac=function(e){return new(e||r)(_(Qo),_(Jo))};static \u0275cmp=S({type:r,selectors:[["app-are-you-sure-dialog"]],viewQuery:function(e,n){if(e&1&&Z(Sl,7),e&2){let o;$(o=U())&&(n.form=o.first)}},standalone:!0,features:[T],decls:14,vars:3,consts:[["form","ngForm"],["mat-dialog-title",""],["fxLayout","column","mat-dialog-content",""],["mat-dialog-actions",""],["mat-dialog-close","","mat-button","","type","button"],["mat-button","","color","warn","type","button",3,"click"]],template:function(e,n){if(e&1){let o=B();m(0,"section")(1,"form",null,0)(3,"p",1),x(4),p(),m(5,"div",2),x(6),p(),m(7,"div",3),O(8,"div"),m(9,"div")(10,"button",4),x(11,"Cancel"),p(),m(12,"button",5),k("click",function(){return P(o),j(n.closeDialog())}),x(13),p()()()()()}e&2&&(g(4),ee(" ",n.dialogData.title," "),g(2),ee(" ",n.dialogData.text," "),g(7),ee(" ",n.dialogData.confirmText," "))},dependencies:[ta,Yo,Zo,ea,Xo,Ke,W,nt,H,lt,an,rn,on]})}return r})();var wa=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...t)=>import("./chunk-NPJLHOA5.js").then(({default:e})=>e(...t)):i=fetch,(...t)=>i(...t)};var hi=class extends Error{constructor(i,t="FunctionsError",e){super(i),this.name=t,this.context=e}},mn=class extends hi{constructor(i){super("Failed to send a request to the Edge Function","FunctionsFetchError",i)}},pn=class extends hi{constructor(i){super("Relay Error invoking the Edge Function","FunctionsRelayError",i)}},fn=class extends hi{constructor(i){super("Edge Function returned a non-2xx status code","FunctionsHttpError",i)}},ur=function(r){return r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2",r}(ur||{});var kl=function(r,i,t,e){function n(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(d){try{c(e.next(d))}catch(h){a(h)}}function l(d){try{c(e.throw(d))}catch(h){a(h)}}function c(d){d.done?o(d.value):n(d.value).then(s,l)}c((e=e.apply(r,i||[])).next())})},mi=class{constructor(i,{headers:t={},customFetch:e,region:n=ur.Any}={}){this.url=i,this.headers=t,this.region=n,this.fetch=wa(e)}setAuth(i){this.headers.Authorization=`Bearer ${i}`}invoke(i,t={}){var e;return kl(this,void 0,void 0,function*(){try{let{headers:n,method:o,body:a}=t,s={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(s["x-region"]=l);let c;a&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(s["Content-Type"]="application/octet-stream",c=a):typeof a=="string"?(s["Content-Type"]="text/plain",c=a):typeof FormData<"u"&&a instanceof FormData?c=a:(s["Content-Type"]="application/json",c=JSON.stringify(a)));let d=yield this.fetch(`${this.url}/${i}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},s),this.headers),n),body:c}).catch(I=>{throw new mn(I)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new pn(d);if(!d.ok)throw new fn(d);let b=((e=d.headers.get("Content-Type"))!==null&&e!==void 0?e:"text/plain").split(";")[0].trim(),f;return b==="application/json"?f=yield d.json():b==="application/octet-stream"?f=yield d.blob():b==="text/event-stream"?f=d:b==="multipart/form-data"?f=yield d.formData():f=yield d.text(),{data:f,error:null}}catch(n){return{data:null,error:n}}})}};var Pa=nl(Oa(),1),{PostgrestClient:ja,PostgrestQueryBuilder:dh,PostgrestFilterBuilder:uh,PostgrestTransformBuilder:hh,PostgrestBuilder:mh}=Pa.default;var Fa="2.10.2";var La={"X-Client-Info":`realtime-js/${Fa}`},Ba="1.0.0",bn=1e4,Na=1e3,qt=function(r){return r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed",r}(qt||{}),we=function(r){return r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving",r}(we||{}),ke=function(r){return r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token",r}(ke||{}),xr=function(r){return r.websocket="websocket",r}(xr||{}),wt=function(r){return r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed",r}(wt||{});var yn=class{constructor(){this.HEADER_LENGTH=1}decode(i,t){return i.constructor===ArrayBuffer?t(this._binaryDecode(i)):t(typeof i=="string"?JSON.parse(i):{})}_binaryDecode(i){let t=new DataView(i),e=new TextDecoder;return this._decodeBroadcast(i,t,e)}_decodeBroadcast(i,t,e){let n=t.getUint8(1),o=t.getUint8(2),a=this.HEADER_LENGTH+2,s=e.decode(i.slice(a,a+n));a=a+n;let l=e.decode(i.slice(a,a+o));a=a+o;let c=JSON.parse(e.decode(i.slice(a,i.byteLength)));return{ref:null,topic:s,event:l,payload:c}}};var Kt=class{constructor(i,t){this.callback=i,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=i,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var V=function(r){return r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange",r}(V||{}),Sr=(r,i,t={})=>{var e;let n=(e=t.skipTypes)!==null&&e!==void 0?e:[];return Object.keys(i).reduce((o,a)=>(o[a]=Ll(a,r,i,n),o),{})},Ll=(r,i,t,e)=>{let n=i.find(s=>s.name===r),o=n?.type,a=t[r];return o&&!e.includes(o)?$a(o,a):Cr(a)},$a=(r,i)=>{if(r.charAt(0)==="_"){let t=r.slice(1,r.length);return Ul(i,t)}switch(r){case V.bool:return Bl(i);case V.float4:case V.float8:case V.int2:case V.int4:case V.int8:case V.numeric:case V.oid:return Nl(i);case V.json:case V.jsonb:return $l(i);case V.timestamp:return Vl(i);case V.abstime:case V.date:case V.daterange:case V.int4range:case V.int8range:case V.money:case V.reltime:case V.text:case V.time:case V.timestamptz:case V.timetz:case V.tsrange:case V.tstzrange:return Cr(i);default:return Cr(i)}},Cr=r=>r,Bl=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Nl=r=>{if(typeof r=="string"){let i=parseFloat(r);if(!Number.isNaN(i))return i}return r},$l=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(i){return console.log(`JSON parse error: ${i}`),r}return r},Ul=(r,i)=>{if(typeof r!="string")return r;let t=r.length-1,e=r[t];if(r[0]==="{"&&e==="}"){let o,a=r.slice(1,t);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>$a(i,s))}return r},Vl=r=>typeof r=="string"?r.replace(" ","T"):r,wn=r=>{let i=r;return i=i.replace(/^ws/i,"http"),i=i.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),i.replace(/\/+$/,"")};var Wt=class{constructor(i,t,e={},n=bn){this.channel=i,this.event=t,this.payload=e,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(i){this.timeout=i,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(i){this.payload=Object.assign(Object.assign({},this.payload),i)}receive(i,t){var e;return this._hasReceived(i)&&t((e=this.receivedResp)===null||e===void 0?void 0:e.response),this.recHooks.push({status:i,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let i=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},i),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(i,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:i,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:i,response:t}){this.recHooks.filter(e=>e.status===i).forEach(e=>e.callback(t))}_hasReceived(i){return this.receivedResp&&this.receivedResp.status===i}};var wi=class r{constructor(i,t){this.channel=i,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let e=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(e.state,{},n=>{let{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=r.syncState(this.state,n,o,a),this.pendingDiffs.forEach(l=>{this.state=r.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(e.diff,{},n=>{let{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=r.syncDiff(this.state,n,o,a),s())}),this.onJoin((n,o,a)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:o,newPresences:a})}),this.onLeave((n,o,a)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(i,t,e,n){let o=this.cloneDeep(i),a=this.transformState(t),s={},l={};return this.map(o,(c,d)=>{a[c]||(l[c]=d)}),this.map(a,(c,d)=>{let h=o[c];if(h){let b=d.map(E=>E.presence_ref),f=h.map(E=>E.presence_ref),I=d.filter(E=>f.indexOf(E.presence_ref)<0),A=h.filter(E=>b.indexOf(E.presence_ref)<0);I.length>0&&(s[c]=I),A.length>0&&(l[c]=A)}else s[c]=d}),this.syncDiff(o,{joins:s,leaves:l},e,n)}static syncDiff(i,t,e,n){let{joins:o,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return e||(e=()=>{}),n||(n=()=>{}),this.map(o,(s,l)=>{var c;let d=(c=i[s])!==null&&c!==void 0?c:[];if(i[s]=this.cloneDeep(l),d.length>0){let h=i[s].map(f=>f.presence_ref),b=d.filter(f=>h.indexOf(f.presence_ref)<0);i[s].unshift(...b)}e(s,d,l)}),this.map(a,(s,l)=>{let c=i[s];if(!c)return;let d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),i[s]=c,n(s,c,l),c.length===0&&delete i[s]}),i}static map(i,t){return Object.getOwnPropertyNames(i).map(e=>t(e,i[e]))}static transformState(i){return i=this.cloneDeep(i),Object.getOwnPropertyNames(i).reduce((t,e)=>{let n=i[e];return"metas"in n?t[e]=n.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[e]=n,t},{})}static cloneDeep(i){return JSON.parse(JSON.stringify(i))}onJoin(i){this.caller.onJoin=i}onLeave(i){this.caller.onLeave=i}onSync(i){this.caller.onSync=i}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var xi=class r{constructor(i,t={config:{}},e){this.topic=i,this.params=t,this.socket=e,this.bindings={},this.state=we.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=i.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Wt(this,ke.join,this.params,this.timeout),this.rejoinTimer=new Kt(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=we.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=we.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ke.reply,{},(n,o)=>{this._trigger(this._replyEventName(o),n)}),this.presence=new wi(this),this.broadcastEndpointURL=wn(this.socket.endPoint)+"/api/broadcast"}subscribe(i,t=this.timeout){var e,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:o,presence:a,private:s}}=this.params;this._onError(d=>i&&i("CHANNEL_ERROR",d)),this._onClose(()=>i&&i("CLOSED"));let l={},c={broadcast:o,presence:a,postgres_changes:(n=(e=this.bindings.postgres_changes)===null||e===void 0?void 0:e.map(d=>d.filter))!==null&&n!==void 0?n:[],private:s};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:d})=>{var h;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),d===void 0){i&&i("SUBSCRIBED");return}else{let b=this.bindings.postgres_changes,f=(h=b?.length)!==null&&h!==void 0?h:0,I=[];for(let A=0;A<f;A++){let E=b[A],{filter:{event:le,schema:$e,table:Ue,filter:Ee}}=E,pe=d&&d[A];if(pe&&pe.event===le&&pe.schema===$e&&pe.table===Ue&&pe.filter===Ee)I.push(Object.assign(Object.assign({},E),{id:pe.id}));else{this.unsubscribe(),i&&i("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=I,i&&i("SUBSCRIBED");return}}).receive("error",d=>{i&&i("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{i&&i("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(e){return u(this,arguments,function*(i,t={}){return yield this.send({type:"presence",event:"track",payload:i},t.timeout||this.timeout)})}untrack(){return u(this,arguments,function*(i={}){return yield this.send({type:"presence",event:"untrack"},i)})}on(i,t,e){return this._on(i,t,e)}send(e){return u(this,arguments,function*(i,t={}){var n,o;if(!this._canPush()&&i.type==="broadcast"){let{event:a,payload:s}=i,l={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s}]})};try{let c=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return yield(o=c.body)===null||o===void 0?void 0:o.cancel(),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,l,c;let d=this._push(i.type,i,t.timeout||this.timeout);i.type==="broadcast"&&!(!((c=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})})}updateJoinPayload(i){this.joinPush.updatePayload(i)}unsubscribe(i=this.timeout){this.state=we.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ke.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(e=>{let n=new Wt(this,ke.leave,{},i);n.receive("ok",()=>{t(),e("ok")}).receive("timeout",()=>{t(),e("timed out")}).receive("error",()=>{e("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}_fetchWithTimeout(i,t,e){return u(this,null,function*(){let n=new AbortController,o=setTimeout(()=>n.abort(),e),a=yield this.socket.fetch(i,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(o),a})}_push(i,t,e=this.timeout){if(!this.joinedOnce)throw`tried to push '${i}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Wt(this,i,t,e);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(i,t,e){return t}_isMember(i){return this.topic===i}_joinRef(){return this.joinPush.ref}_trigger(i,t,e){var n,o;let a=i.toLocaleLowerCase(),{close:s,error:l,leave:c,join:d}=ke;if(e&&[s,l,c,d].indexOf(a)>=0&&e!==this._joinRef())return;let b=this._onMessage(a,t,e);if(t&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(f=>{var I,A,E;return((I=f.filter)===null||I===void 0?void 0:I.event)==="*"||((E=(A=f.filter)===null||A===void 0?void 0:A.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===a}).map(f=>f.callback(b,e)):(o=this.bindings[a])===null||o===void 0||o.filter(f=>{var I,A,E,le,$e,Ue;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){let Ee=f.id,pe=(I=f.filter)===null||I===void 0?void 0:I.event;return Ee&&((A=t.ids)===null||A===void 0?void 0:A.includes(Ee))&&(pe==="*"||pe?.toLocaleLowerCase()===((E=t.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{let Ee=($e=(le=f?.filter)===null||le===void 0?void 0:le.event)===null||$e===void 0?void 0:$e.toLocaleLowerCase();return Ee==="*"||Ee===((Ue=t?.event)===null||Ue===void 0?void 0:Ue.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof b=="object"&&"ids"in b){let I=b.data,{schema:A,table:E,commit_timestamp:le,type:$e,errors:Ue}=I;b=Object.assign(Object.assign({},{schema:A,table:E,commit_timestamp:le,eventType:$e,new:{},old:{},errors:Ue}),this._getPayloadRecords(I))}f.callback(b,e)})}_isClosed(){return this.state===we.closed}_isJoined(){return this.state===we.joined}_isJoining(){return this.state===we.joining}_isLeaving(){return this.state===we.leaving}_replyEventName(i){return`chan_reply_${i}`}_on(i,t,e){let n=i.toLocaleLowerCase(),o={type:n,filter:t,callback:e};return this.bindings[n]?this.bindings[n].push(o):this.bindings[n]=[o],this}_off(i,t){let e=i.toLocaleLowerCase();return this.bindings[e]=this.bindings[e].filter(n=>{var o;return!(((o=n.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===e&&r.isEqual(n.filter,t))}),this}static isEqual(i,t){if(Object.keys(i).length!==Object.keys(t).length)return!1;for(let e in i)if(i[e]!==t[e])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(i){this._on(ke.close,{},i)}_onError(i){this._on(ke.error,{},t=>i(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(i=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=we.joining,this.joinPush.resend(i))}_getPayloadRecords(i){let t={new:{},old:{}};return(i.type==="INSERT"||i.type==="UPDATE")&&(t.new=Sr(i.columns,i.record)),(i.type==="UPDATE"||i.type==="DELETE")&&(t.old=Sr(i.columns,i.old_record)),t}};var zl=()=>{},Gl=typeof WebSocket<"u",Ci=class{constructor(i,t){var e;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=La,this.params={},this.timeout=bn,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=zl,this.conn=null,this.sendBuffer=[],this.serializer=new yn,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...s)=>import("./chunk-NPJLHOA5.js").then(({default:l})=>l(...s)):a=fetch,(...s)=>a(...s)},this.endPoint=`${i}/${xr.websocket}`,this.httpEndpoint=wn(i),t?.transport?this.transport=t.transport:this.transport=null,t?.params&&(this.params=t.params),t?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);let n=(e=t?.params)===null||e===void 0?void 0:e.apikey;n&&(this.accessToken=n,this.apiKey=n),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=t?.encode?t.encode:(o,a)=>a(JSON.stringify(o)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Kt(()=>u(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Gl){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new kr(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-UHLMCCUZ.js").then(({default:i})=>{this.conn=new i(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(i,t){this.conn&&(this.conn.onclose=function(){},i?this.conn.close(i,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(i){return u(this,null,function*(){let t=yield i.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return u(this,null,function*(){let i=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),i})}log(i,t,e){this.logger(i,t,e)}connectionState(){switch(this.conn&&this.conn.readyState){case qt.connecting:return wt.Connecting;case qt.open:return wt.Open;case qt.closing:return wt.Closing;default:return wt.Closed}}isConnected(){return this.connectionState()===wt.Open}channel(i,t={config:{}}){let e=new xi(`realtime:${i}`,t,this);return this.channels.push(e),e}push(i){let{topic:t,event:e,payload:n,ref:o}=i,a=()=>{this.encode(i,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${t} ${e} (${o})`,n),this.isConnected()?a():this.sendBuffer.push(a)}setAuth(i){this.accessToken=i,this.channels.forEach(t=>{i&&t.updateJoinPayload({access_token:i}),t.joinedOnce&&t._isJoined()&&t._push(ke.access_token,{access_token:i})})}_makeRef(){let i=this.ref+1;return i===this.ref?this.ref=0:this.ref=i,this.ref.toString()}_leaveOpenTopic(i){let t=this.channels.find(e=>e.topic===i&&(e._isJoined()||e._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${i}"`),t.unsubscribe())}_remove(i){this.channels=this.channels.filter(t=>t._joinRef()!==i._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=i=>this._onConnError(i),this.conn.onmessage=i=>this._onConnMessage(i),this.conn.onclose=i=>this._onConnClose(i))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ba}))}_onConnMessage(i){this.decode(i.data,t=>{let{topic:e,event:n,payload:o,ref:a}=t;(a&&a===this.pendingHeartbeatRef||n===o?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${e} ${n} ${a&&"("+a+")"||""}`,o),this.channels.filter(s=>s._isMember(e)).forEach(s=>s._trigger(n,o,a)),this.stateChangeCallbacks.message.forEach(s=>s(t))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(i=>i())}_onConnClose(i){this.log("transport","close",i),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(i))}_onConnError(i){this.log("transport",i.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(i))}_triggerChanError(){this.channels.forEach(i=>i._trigger(ke.error))}_appendParams(i,t){if(Object.keys(t).length===0)return i;let e=i.match(/\?/)?"&":"?",n=new URLSearchParams(t);return`${i}${e}${n}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(i=>i()),this.sendBuffer=[])}_sendHeartbeat(){var i;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(i=this.conn)===null||i===void 0||i.close(Na,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}};var kr=class{constructor(i,t,e){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=qt.connecting,this.send=()=>{},this.url=null,this.url=i,this.close=e.close}};var Qt=class extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}};function X(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var xn=class extends Qt{constructor(i,t){super(i),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}},xt=class extends Qt{constructor(i,t){super(i),this.name="StorageUnknownError",this.originalError=t}};var ql=function(r,i,t,e){function n(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(d){try{c(e.next(d))}catch(h){a(h)}}function l(d){try{c(e.throw(d))}catch(h){a(h)}}function c(d){d.done?o(d.value):n(d.value).then(s,l)}c((e=e.apply(r,i||[])).next())})},Sn=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...t)=>import("./chunk-NPJLHOA5.js").then(({default:e})=>e(...t)):i=fetch,(...t)=>i(...t)},Ua=()=>ql(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-NPJLHOA5.js")).Response:Response}),Cn=r=>{if(Array.isArray(r))return r.map(t=>Cn(t));if(typeof r=="function"||r!==Object(r))return r;let i={};return Object.entries(r).forEach(([t,e])=>{let n=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));i[n]=Cn(e)}),i};var Ct=function(r,i,t,e){function n(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(d){try{c(e.next(d))}catch(h){a(h)}}function l(d){try{c(e.throw(d))}catch(h){a(h)}}function c(d){d.done?o(d.value):n(d.value).then(s,l)}c((e=e.apply(r,i||[])).next())})},Tr=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Kl=(r,i,t)=>Ct(void 0,void 0,void 0,function*(){let e=yield Ua();r instanceof e&&!t?.noResolveJson?r.json().then(n=>{i(new xn(Tr(n),r.status||500))}).catch(n=>{i(new xt(Tr(n),n))}):i(new xt(Tr(r),r))}),Wl=(r,i,t,e)=>{let n={method:r,headers:i?.headers||{}};return r==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},i?.headers),e&&(n.body=JSON.stringify(e)),Object.assign(Object.assign({},n),t))};function Si(r,i,t,e,n,o){return Ct(this,void 0,void 0,function*(){return new Promise((a,s)=>{r(t,Wl(i,e,n,o)).then(l=>{if(!l.ok)throw l;return e?.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>Kl(l,s,e))})})}function Jt(r,i,t,e){return Ct(this,void 0,void 0,function*(){return Si(r,"GET",i,t,e)})}function Le(r,i,t,e,n){return Ct(this,void 0,void 0,function*(){return Si(r,"POST",i,e,n,t)})}function Va(r,i,t,e,n){return Ct(this,void 0,void 0,function*(){return Si(r,"PUT",i,e,n,t)})}function Ha(r,i,t,e){return Ct(this,void 0,void 0,function*(){return Si(r,"HEAD",i,Object.assign(Object.assign({},t),{noResolveJson:!0}),e)})}function kn(r,i,t,e,n){return Ct(this,void 0,void 0,function*(){return Si(r,"DELETE",i,e,n,t)})}var ye=function(r,i,t,e){function n(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(d){try{c(e.next(d))}catch(h){a(h)}}function l(d){try{c(e.throw(d))}catch(h){a(h)}}function c(d){d.done?o(d.value):n(d.value).then(s,l)}c((e=e.apply(r,i||[])).next())})},Ql={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},za={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Tn=class{constructor(i,t={},e,n){this.url=i,this.headers=t,this.bucketId=e,this.fetch=Sn(n)}uploadOrUpdate(i,t,e,n){return ye(this,void 0,void 0,function*(){try{let o,a=Object.assign(Object.assign({},za),n),s=Object.assign(Object.assign({},this.headers),i==="POST"&&{"x-upsert":String(a.upsert)}),l=a.metadata;typeof Blob<"u"&&e instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),o.append("",e),l&&o.append("metadata",this.encodeMetadata(l))):typeof FormData<"u"&&e instanceof FormData?(o=e,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=e,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n?.headers&&(s=Object.assign(Object.assign({},s),n.headers));let c=this._removeEmptyFolders(t),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:i,body:o,headers:s},a?.duplex?{duplex:a.duplex}:{})),b=yield h.json();return h.ok?{data:{path:c,id:b.Id,fullPath:b.Key},error:null}:{data:null,error:b}}catch(o){if(X(o))return{data:null,error:o};throw o}})}upload(i,t,e){return ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",i,t,e)})}uploadToSignedUrl(i,t,e,n){return ye(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(i),a=this._getFinalPath(o),s=new URL(this.url+`/object/upload/sign/${a}`);s.searchParams.set("token",t);try{let l,c=Object.assign({upsert:za.upsert},n),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&e instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",e)):typeof FormData<"u"&&e instanceof FormData?(l=e,l.append("cacheControl",c.cacheControl)):(l=e,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);let h=yield this.fetch(s.toString(),{method:"PUT",body:l,headers:d}),b=yield h.json();return h.ok?{data:{path:o,fullPath:b.Key},error:null}:{data:null,error:b}}catch(l){if(X(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(i,t){return ye(this,void 0,void 0,function*(){try{let e=this._getFinalPath(i),n=Object.assign({},this.headers);t?.upsert&&(n["x-upsert"]="true");let o=yield Le(this.fetch,`${this.url}/object/upload/sign/${e}`,{},{headers:n}),a=new URL(this.url+o.url),s=a.searchParams.get("token");if(!s)throw new Qt("No token returned by API");return{data:{signedUrl:a.toString(),path:i,token:s},error:null}}catch(e){if(X(e))return{data:null,error:e};throw e}})}update(i,t,e){return ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",i,t,e)})}move(i,t,e){return ye(this,void 0,void 0,function*(){try{return{data:yield Le(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:i,destinationKey:t,destinationBucket:e?.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}})}copy(i,t,e){return ye(this,void 0,void 0,function*(){try{return{data:{path:(yield Le(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:i,destinationKey:t,destinationBucket:e?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}})}createSignedUrl(i,t,e){return ye(this,void 0,void 0,function*(){try{let n=this._getFinalPath(i),o=yield Le(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:t},e?.transform?{transform:e.transform}:{}),{headers:this.headers}),a=e?.download?`&download=${e.download===!0?"":e.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}})}createSignedUrls(i,t,e){return ye(this,void 0,void 0,function*(){try{let n=yield Le(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:i},{headers:this.headers}),o=e?.download?`&download=${e.download===!0?"":e.download}`:"";return{data:n.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}})}download(i,t){return ye(this,void 0,void 0,function*(){let n=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),a=o?`?${o}`:"";try{let s=this._getFinalPath(i);return{data:yield(yield Jt(this.fetch,`${this.url}/${n}/${s}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(s){if(X(s))return{data:null,error:s};throw s}})}info(i){return ye(this,void 0,void 0,function*(){let t=this._getFinalPath(i);try{let e=yield Jt(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Cn(e),error:null}}catch(e){if(X(e))return{data:null,error:e};throw e}})}exists(i){return ye(this,void 0,void 0,function*(){let t=this._getFinalPath(i);try{return yield Ha(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(e){if(X(e)&&e instanceof xt){let n=e.originalError;if([400,404].includes(n?.status))return{data:!1,error:e}}throw e}})}getPublicUrl(i,t){let e=this._getFinalPath(i),n=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&n.push(o);let s=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});l!==""&&n.push(l);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${e}${c}`)}}}remove(i){return ye(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:i},{headers:this.headers}),error:null}}catch(t){if(X(t))return{data:null,error:t};throw t}})}list(i,t,e){return ye(this,void 0,void 0,function*(){try{let n=Object.assign(Object.assign(Object.assign({},Ql),t),{prefix:i||""});return{data:yield Le(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},e),error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){let t=[];return i.width&&t.push(`width=${i.width}`),i.height&&t.push(`height=${i.height}`),i.resize&&t.push(`resize=${i.resize}`),i.format&&t.push(`format=${i.format}`),i.quality&&t.push(`quality=${i.quality}`),t.join("&")}};var Ga="2.7.0";var qa={"X-Client-Info":`storage-js/${Ga}`};var Yt=function(r,i,t,e){function n(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(d){try{c(e.next(d))}catch(h){a(h)}}function l(d){try{c(e.throw(d))}catch(h){a(h)}}function c(d){d.done?o(d.value):n(d.value).then(s,l)}c((e=e.apply(r,i||[])).next())})},En=class{constructor(i,t={},e){this.url=i,this.headers=Object.assign(Object.assign({},qa),t),this.fetch=Sn(e)}listBuckets(){return Yt(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(i){if(X(i))return{data:null,error:i};throw i}})}getBucket(i){return Yt(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/bucket/${i}`,{headers:this.headers}),error:null}}catch(t){if(X(t))return{data:null,error:t};throw t}})}createBucket(i,t={public:!1}){return Yt(this,void 0,void 0,function*(){try{return{data:yield Le(this.fetch,`${this.url}/bucket`,{id:i,name:i,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(X(e))return{data:null,error:e};throw e}})}updateBucket(i,t){return Yt(this,void 0,void 0,function*(){try{return{data:yield Va(this.fetch,`${this.url}/bucket/${i}`,{id:i,name:i,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(X(e))return{data:null,error:e};throw e}})}emptyBucket(i){return Yt(this,void 0,void 0,function*(){try{return{data:yield Le(this.fetch,`${this.url}/bucket/${i}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(X(t))return{data:null,error:t};throw t}})}deleteBucket(i){return Yt(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/bucket/${i}`,{},{headers:this.headers}),error:null}}catch(t){if(X(t))return{data:null,error:t};throw t}})}};var ki=class extends En{constructor(i,t={},e){super(i,t,e)}from(i){return new Tn(this.url,this.headers,i,this.fetch)}};var Ka="2.45.4";var Ti="";typeof Deno<"u"?Ti="deno":typeof document<"u"?Ti="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ti="react-native":Ti="node";var Jl={"X-Client-Info":`supabase-js-${Ti}/${Ka}`},Wa={headers:Jl},Qa={schema:"public"},Ja={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ya={};ua();var Yl=function(r,i,t,e){function n(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(d){try{c(e.next(d))}catch(h){a(h)}}function l(d){try{c(e.throw(d))}catch(h){a(h)}}function c(d){d.done?o(d.value):n(d.value).then(s,l)}c((e=e.apply(r,i||[])).next())})},Zl=r=>{let i;return r?i=r:typeof fetch>"u"?i=ca:i=fetch,(...t)=>i(...t)},Xl=()=>typeof Headers>"u"?da:Headers,Za=(r,i,t)=>{let e=Zl(t),n=Xl();return(o,a)=>Yl(void 0,void 0,void 0,function*(){var s;let l=(s=yield i())!==null&&s!==void 0?s:r,c=new n(a?.headers);return c.has("apikey")||c.set("apikey",r),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),e(o,Object.assign(Object.assign({},a),{headers:c}))})};var ec=function(r,i,t,e){function n(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(d){try{c(e.next(d))}catch(h){a(h)}}function l(d){try{c(e.throw(d))}catch(h){a(h)}}function c(d){d.done?o(d.value):n(d.value).then(s,l)}c((e=e.apply(r,i||[])).next())})};function Xa(r){return r.replace(/\/$/,"")}function es(r,i){let{db:t,auth:e,realtime:n,global:o}=r,{db:a,auth:s,realtime:l,global:c}=i,d={db:Object.assign(Object.assign({},a),t),auth:Object.assign(Object.assign({},s),e),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},c),o),accessToken:()=>ec(this,void 0,void 0,function*(){return""})};return r.accessToken?d.accessToken=r.accessToken:delete d.accessToken,d}function ts(r){return Math.round(Date.now()/1e3)+r}function is(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){let i=Math.random()*16|0;return(r=="x"?i:i&3|8).toString(16)})}var Re=()=>typeof document<"u",St={tested:!1,writable:!1},ut=()=>{if(!Re())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(St.tested)return St.writable;let r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),St.tested=!0,St.writable=!0}catch{St.tested=!0,St.writable=!1}return St.writable};function Mn(r){let i={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((n,o)=>{i[o]=n})}catch{}return t.searchParams.forEach((e,n)=>{i[n]=e}),i}var In=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...t)=>import("./chunk-NPJLHOA5.js").then(({default:e})=>e(...t)):i=fetch,(...t)=>i(...t)},ns=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",ht=(r,i,t)=>u(void 0,null,function*(){yield r.setItem(i,JSON.stringify(t))}),Mi=(r,i)=>u(void 0,null,function*(){let t=yield r.getItem(i);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),An=(r,i)=>u(void 0,null,function*(){yield r.removeItem(i)});function tc(r){let i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t="",e,n,o,a,s,l,c,d=0;for(r=r.replace("-","+").replace("_","/");d<r.length;)a=i.indexOf(r.charAt(d++)),s=i.indexOf(r.charAt(d++)),l=i.indexOf(r.charAt(d++)),c=i.indexOf(r.charAt(d++)),e=a<<2|s>>4,n=(s&15)<<4|l>>2,o=(l&3)<<6|c,t=t+String.fromCharCode(e),l!=64&&n!=0&&(t=t+String.fromCharCode(n)),c!=64&&o!=0&&(t=t+String.fromCharCode(o));return t}var Ei=class r{constructor(){this.promise=new r.promiseConstructor((i,t)=>{this.resolve=i,this.reject=t})}};Ei.promiseConstructor=Promise;function Er(r){let i=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=r.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!i.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");let e=t[1];return JSON.parse(tc(e))}function rs(r){return u(this,null,function*(){return yield new Promise(i=>{setTimeout(()=>i(null),r)})})}function os(r,i){return new Promise((e,n)=>{u(this,null,function*(){for(let o=0;o<1/0;o++)try{let a=yield r(o);if(!i(o,null,a)){e(a);return}}catch(a){if(!i(o,a)){n(a);return}}})})}function ic(r){return("0"+r.toString(16)).substr(-2)}function kt(){let i=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",e=t.length,n="";for(let o=0;o<56;o++)n+=t.charAt(Math.floor(Math.random()*e));return n}return crypto.getRandomValues(i),Array.from(i,ic).join("")}function nc(r){return u(this,null,function*(){let t=new TextEncoder().encode(r),e=yield crypto.subtle.digest("SHA-256",t),n=new Uint8Array(e);return Array.from(n).map(o=>String.fromCharCode(o)).join("")})}function rc(r){return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Tt(r){return u(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;let t=yield nc(r);return rc(t)})}var Ii=class extends Error{constructor(i,t){super(i),this.__isAuthError=!0,this.name="AuthError",this.status=t}};function M(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}var Rn=class extends Ii{constructor(i,t){super(i,t),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}};function as(r){return M(r)&&r.name==="AuthApiError"}var Zt=class extends Ii{constructor(i,t){super(i),this.name="AuthUnknownError",this.originalError=t}},We=class extends Ii{constructor(i,t,e){super(i),this.name=t,this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Qe=class extends We{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}},Xt=class extends We{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}},Et=class extends We{constructor(i){super(i,"AuthInvalidCredentialsError",400)}},Mt=class extends We{constructor(i,t=null){super(i,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Ai=class extends We{constructor(i,t=null){super(i,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},ei=class extends We{constructor(i,t){super(i,"AuthRetryableFetchError",t)}};function On(r){return M(r)&&r.name==="AuthRetryableFetchError"}var Dn=class extends We{constructor(i,t,e){super(i,"AuthWeakPasswordError",t),this.reasons=e}};var oc=function(r,i){var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&i.indexOf(e)<0&&(t[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(r);n<e.length;n++)i.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(r,e[n])&&(t[e[n]]=r[e[n]]);return t},ti=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),ac=[502,503,504];function ss(r){return u(this,null,function*(){if(!ns(r))throw new ei(ti(r),0);if(ac.includes(r.status))throw new ei(ti(r),r.status);let i;try{i=yield r.json()}catch(t){throw new Zt(ti(t),t)}throw typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((t,e)=>t&&typeof e=="string",!0)?new Dn(ti(i),r.status,i.weak_password.reasons):new Rn(ti(i),r.status||500)})}var sc=(r,i,t,e)=>{let n={method:r,headers:i?.headers||{}};return r==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},i?.headers),n.body=JSON.stringify(e),Object.assign(Object.assign({},n),t))};function D(r,i,t,e){return u(this,null,function*(){var n;let o=Object.assign({},e?.headers);e?.jwt&&(o.Authorization=`Bearer ${e.jwt}`);let a=(n=e?.query)!==null&&n!==void 0?n:{};e?.redirectTo&&(a.redirect_to=e.redirectTo);let s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=yield lc(r,i,t+s,{headers:o,noResolveJson:e?.noResolveJson},{},e?.body);return e?.xform?e?.xform(l):{data:Object.assign({},l),error:null}})}function lc(r,i,t,e,n,o){return u(this,null,function*(){let a=sc(i,e,n,o),s;try{s=yield r(t,a)}catch(l){throw console.error(l),new ei(ti(l),0)}if(s.ok||(yield ss(s)),e?.noResolveJson)return s;try{return yield s.json()}catch(l){yield ss(l)}})}function mt(r){var i;let t=null;cc(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=ts(r.expires_in)));let e=(i=r.user)!==null&&i!==void 0?i:r;return{data:{session:t,user:e},error:null}}function Mr(r){let i=mt(r);return!i.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,e)=>t&&typeof e=="string",!0)&&(i.data.weak_password=r.weak_password),i}function Be(r){var i;return{data:{user:(i=r.user)!==null&&i!==void 0?i:r},error:null}}function ls(r){return{data:r,error:null}}function cs(r){let{action_link:i,email_otp:t,hashed_token:e,redirect_to:n,verification_type:o}=r,a=oc(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:i,email_otp:t,hashed_token:e,redirect_to:n,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function ds(r){return r}function cc(r){return r.access_token&&r.refresh_token&&r.expires_in}var dc=function(r,i){var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&i.indexOf(e)<0&&(t[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(r);n<e.length;n++)i.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(r,e[n])&&(t[e[n]]=r[e[n]]);return t},ii=class{constructor({url:i="",headers:t={},fetch:e}){this.url=i,this.headers=t,this.fetch=In(e),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(i,t="global"){return u(this,null,function*(){try{return yield D(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:i,noResolveJson:!0}),{data:null,error:null}}catch(e){if(M(e))return{data:null,error:e};throw e}})}inviteUserByEmail(e){return u(this,arguments,function*(i,t={}){try{return yield D(this.fetch,"POST",`${this.url}/invite`,{body:{email:i,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Be})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}})}generateLink(i){return u(this,null,function*(){try{let{options:t}=i,e=dc(i,["options"]),n=Object.assign(Object.assign({},e),t);return"newEmail"in e&&(n.new_email=e?.newEmail,delete n.newEmail),yield D(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:cs,redirectTo:t?.redirectTo})}catch(t){if(M(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(i){return u(this,null,function*(){try{return yield D(this.fetch,"POST",`${this.url}/admin/users`,{body:i,headers:this.headers,xform:Be})}catch(t){if(M(t))return{data:{user:null},error:t};throw t}})}listUsers(i){return u(this,null,function*(){var t,e,n,o,a,s,l;try{let c={nextPage:null,lastPage:0,total:0},d=yield D(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(e=(t=i?.page)===null||t===void 0?void 0:t.toString())!==null&&e!==void 0?e:"",per_page:(o=(n=i?.perPage)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:""},xform:ds});if(d.error)throw d.error;let h=yield d.json(),b=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(I=>{let A=parseInt(I.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(I.split(";")[1].split("=")[1]);c[`${E}Page`]=A}),c.total=parseInt(b)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(M(c))return{data:{users:[]},error:c};throw c}})}getUserById(i){return u(this,null,function*(){try{return yield D(this.fetch,"GET",`${this.url}/admin/users/${i}`,{headers:this.headers,xform:Be})}catch(t){if(M(t))return{data:{user:null},error:t};throw t}})}updateUserById(i,t){return u(this,null,function*(){try{return yield D(this.fetch,"PUT",`${this.url}/admin/users/${i}`,{body:t,headers:this.headers,xform:Be})}catch(e){if(M(e))return{data:{user:null},error:e};throw e}})}deleteUser(i,t=!1){return u(this,null,function*(){try{return yield D(this.fetch,"DELETE",`${this.url}/admin/users/${i}`,{headers:this.headers,body:{should_soft_delete:t},xform:Be})}catch(e){if(M(e))return{data:{user:null},error:e};throw e}})}_listFactors(i){return u(this,null,function*(){try{let{data:t,error:e}=yield D(this.fetch,"GET",`${this.url}/admin/users/${i.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:t,error:e}}catch(t){if(M(t))return{data:null,error:t};throw t}})}_deleteFactor(i){return u(this,null,function*(){try{return{data:yield D(this.fetch,"DELETE",`${this.url}/admin/users/${i.userId}/factors/${i.id}`,{headers:this.headers}),error:null}}catch(t){if(M(t))return{data:null,error:t};throw t}})}};var Pn="2.61.0";var us="http://localhost:9999",hs="supabase.auth.token";var ms={"X-Client-Info":`gotrue-js/${Pn}`},Ir=10;var ps={getItem:r=>ut()?globalThis.localStorage.getItem(r):null,setItem:(r,i)=>{ut()&&globalThis.localStorage.setItem(r,i)},removeItem:r=>{ut()&&globalThis.localStorage.removeItem(r)}};function Ar(r={}){return{getItem:i=>r[i]||null,setItem:(i,t)=>{r[i]=t},removeItem:i=>{delete r[i]}}}function fs(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var uc={debug:!!(globalThis&&ut()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},jn=class extends Error{constructor(i){super(i),this.isAcquireTimeout=!0}};fs();var hc={url:us,storageKey:hs,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ms,flowType:"implicit",debug:!1},Ri=30*1e3,gs=3;function mc(r,i,t){return u(this,null,function*(){return yield t()})}var Rr=(()=>{class r{constructor(t){var e;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=r.nextInstanceID,r.nextInstanceID+=1,this.instanceID>0&&Re()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let n=Object.assign(Object.assign({},hc),t);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new ii({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=In(n.fetch),this.lock=n.lock||mc,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:ut()?this.storage=ps:(this.memoryStorage={},this.storage=Ar(this.memoryStorage)):(this.memoryStorage={},this.storage=Ar(this.memoryStorage)),Re()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(e=this.broadcastChannel)===null||e===void 0||e.addEventListener("message",o=>u(this,null,function*(){this._debug("received broadcast notification from other tab or client",o),yield this._notifyAllSubscribers(o.data.event,o.data.session,!1)}))}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Pn}) ${new Date().toISOString()}`,...t),this}initialize(){return u(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=u(this,null,function*(){return yield this._acquireLock(-1,()=>u(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return u(this,null,function*(){try{let t=Re()?yield this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){let{data:e,error:n}=yield this._getSessionFromURL(t);if(n)return this._debug("#_initialize()","error detecting session from URL",n),n?.message==="Identity is already linked"||n?.message==="Identity is already linked to another user"?{error:n}:(yield this._removeSession(),{error:n});let{session:o,redirectType:a}=e;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),yield this._saveSession(o),setTimeout(()=>u(this,null,function*(){a==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",o):yield this._notifyAllSubscribers("SIGNED_IN",o)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(t){return M(t)?{error:t}:{error:new Zt("Unexpected error during initialization",t)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signUp(t){return u(this,null,function*(){var e,n,o;try{yield this._removeSession();let a;if("email"in t){let{email:h,password:b,options:f}=t,I=null,A=null;if(this.flowType==="pkce"){let E=kt();yield ht(this.storage,`${this.storageKey}-code-verifier`,E),I=yield Tt(E),A=E===I?"plain":"s256"}a=yield D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:h,password:b,data:(e=f?.data)!==null&&e!==void 0?e:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:I,code_challenge_method:A},xform:mt})}else if("phone"in t){let{phone:h,password:b,options:f}=t;a=yield D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:b,data:(n=f?.data)!==null&&n!==void 0?n:{},channel:(o=f?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:mt})}else throw new Et("You must provide either an email or phone number and a password");let{data:s,error:l}=a;if(l||!s)return{data:{user:null,session:null},error:l};let c=s.session,d=s.user;return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(M(a))return{data:{user:null,session:null},error:a};throw a}})}signInWithPassword(t){return u(this,null,function*(){try{yield this._removeSession();let e;if("email"in t){let{email:a,password:s,options:l}=t;e=yield D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Mr})}else if("phone"in t){let{phone:a,password:s,options:l}=t;e=yield D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Mr})}else throw new Et("You must provide either an email or phone number and a password");let{data:n,error:o}=e;return o?{data:{user:null,session:null},error:o}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Xt}:(n.session&&(yield this._saveSession(n.session),yield this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:o})}catch(e){if(M(e))return{data:{user:null,session:null},error:e};throw e}})}signInWithOAuth(t){return u(this,null,function*(){var e,n,o,a;return yield this._removeSession(),yield this._handleProviderSignIn(t.provider,{redirectTo:(e=t.options)===null||e===void 0?void 0:e.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})})}exchangeCodeForSession(t){return u(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>u(this,null,function*(){return this._exchangeCodeForSession(t)}))})}_exchangeCodeForSession(t){return u(this,null,function*(){let e=yield Mi(this.storage,`${this.storageKey}-code-verifier`),[n,o]=(e??"").split("/"),{data:a,error:s}=yield D(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:mt});return yield An(this.storage,`${this.storageKey}-code-verifier`),s?{data:{user:null,session:null,redirectType:null},error:s}:!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Xt}:(a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:s})})}signInWithIdToken(t){return u(this,null,function*(){yield this._removeSession();try{let{options:e,provider:n,token:o,access_token:a,nonce:s}=t,l=yield D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:o,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:e?.captchaToken}},xform:mt}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Xt}:(c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(e){if(M(e))return{data:{user:null,session:null},error:e};throw e}})}signInWithOtp(t){return u(this,null,function*(){var e,n,o,a,s;try{if(yield this._removeSession(),"email"in t){let{email:l,options:c}=t,d=null,h=null;if(this.flowType==="pkce"){let f=kt();yield ht(this.storage,`${this.storageKey}-code-verifier`,f),d=yield Tt(f),h=f===d?"plain":"s256"}let{error:b}=yield D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(e=c?.data)!==null&&e!==void 0?e:{},create_user:(n=c?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in t){let{phone:l,options:c}=t,{data:d,error:h}=yield D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(a=c?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(s=c?.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:h}}throw new Et("You must provide either an email or phone number.")}catch(l){if(M(l))return{data:{user:null,session:null},error:l};throw l}})}verifyOtp(t){return u(this,null,function*(){var e,n;try{t.type!=="email_change"&&t.type!=="phone_change"&&(yield this._removeSession());let o,a;"options"in t&&(o=(e=t.options)===null||e===void 0?void 0:e.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);let{data:s,error:l}=yield D(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:mt});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");let c=s.session,d=s.user;return c?.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(o){if(M(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithSSO(t){return u(this,null,function*(){var e,n,o;try{yield this._removeSession();let a=null,s=null;if(this.flowType==="pkce"){let l=kt();yield ht(this.storage,`${this.storageKey}-code-verifier`,l),a=yield Tt(l),s=l===a?"plain":"s256"}return yield D(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(e=t.options)===null||e===void 0?void 0:e.redirectTo)!==null&&n!==void 0?n:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:ls})}catch(a){if(M(a))return{data:null,error:a};throw a}})}reauthenticate(){return u(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>u(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return u(this,null,function*(){try{return yield this._useSession(t=>u(this,null,function*(){let{data:{session:e},error:n}=t;if(n)throw n;if(!e)throw new Qe;let{error:o}=yield D(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:e.access_token});return{data:{user:null,session:null},error:o}}))}catch(t){if(M(t))return{data:{user:null,session:null},error:t};throw t}})}resend(t){return u(this,null,function*(){try{t.type!="email_change"&&t.type!="phone_change"&&(yield this._removeSession());let e=`${this.url}/resend`;if("email"in t){let{email:n,type:o,options:a}=t,{error:s}=yield D(this.fetch,"POST",e,{headers:this.headers,body:{email:n,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){let{phone:n,type:o,options:a}=t,{data:s,error:l}=yield D(this.fetch,"POST",e,{headers:this.headers,body:{phone:n,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:s?.message_id},error:l}}throw new Et("You must provide either an email or phone number and a type")}catch(e){if(M(e))return{data:{user:null,session:null},error:e};throw e}})}getSession(){return u(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>u(this,null,function*(){return this._useSession(t=>u(this,null,function*(){return t}))}))})}_acquireLock(t,e){return u(this,null,function*(){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=u(this,null,function*(){return yield n,yield e()});return this.pendingInLock.push(u(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,t,()=>u(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let n=e();for(this.pendingInLock.push(u(this,null,function*(){try{yield n}catch{}})),yield n;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(t){return u(this,null,function*(){this._debug("#_useSession","begin");try{let e=yield this.__loadSession();return yield t(e)}finally{this._debug("#_useSession","end")}})}__loadSession(){return u(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,e=yield Mi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",e),e!==null&&(this._isValidSession(e)?t=e:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!t)return{data:{session:null},error:null};let n=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n)return{data:{session:t},error:null};let{session:o,error:a}=yield this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(t){return u(this,null,function*(){return t?yield this._getUser(t):(yield this.initializePromise,this._acquireLock(-1,()=>u(this,null,function*(){return yield this._getUser()})))})}_getUser(t){return u(this,null,function*(){try{return t?yield D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Be}):yield this._useSession(e=>u(this,null,function*(){var n,o;let{data:a,error:s}=e;if(s)throw s;return yield D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&o!==void 0?o:void 0,xform:Be})}))}catch(e){if(M(e))return{data:{user:null},error:e};throw e}})}updateUser(n){return u(this,arguments,function*(t,e={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>u(this,null,function*(){return yield this._updateUser(t,e)}))})}_updateUser(n){return u(this,arguments,function*(t,e={}){try{return yield this._useSession(o=>u(this,null,function*(){let{data:a,error:s}=o;if(s)throw s;if(!a.session)throw new Qe;let l=a.session,c=null,d=null;if(this.flowType==="pkce"&&t.email!=null){let f=kt();yield ht(this.storage,`${this.storageKey}-code-verifier`,f),c=yield Tt(f),d=f===c?"plain":"s256"}let{data:h,error:b}=yield D(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:e?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:Be});if(b)throw b;return l.user=h.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}}))}catch(o){if(M(o))return{data:{user:null},error:o};throw o}})}_decodeJWT(t){return Er(t)}setSession(t){return u(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>u(this,null,function*(){return yield this._setSession(t)}))})}_setSession(t){return u(this,null,function*(){try{if(!t.access_token||!t.refresh_token)throw new Qe;let e=Date.now()/1e3,n=e,o=!0,a=null,s=Er(t.access_token);if(s.exp&&(n=s.exp,o=n<=e),o){let{session:l,error:c}=yield this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{let{data:l,error:c}=yield this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-e,expires_at:n},yield this._saveSession(a),yield this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(e){if(M(e))return{data:{session:null,user:null},error:e};throw e}})}refreshSession(t){return u(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>u(this,null,function*(){return yield this._refreshSession(t)}))})}_refreshSession(t){return u(this,null,function*(){try{return yield this._useSession(e=>u(this,null,function*(){var n;if(!t){let{data:s,error:l}=e;if(l)throw l;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Qe;let{session:o,error:a}=yield this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}}))}catch(e){if(M(e))return{data:{user:null,session:null},error:e};throw e}})}_getSessionFromURL(t){return u(this,null,function*(){try{if(!Re())throw new Mt("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Mt("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new Ai("Not a valid PKCE flow url.");let e=Mn(window.location.href);if(t){if(!e.code)throw new Ai("No code detected.");let{data:Ue,error:Ee}=yield this._exchangeCodeForSession(e.code);if(Ee)throw Ee;let pe=new URL(window.location.href);return pe.searchParams.delete("code"),window.history.replaceState(window.history.state,"",pe.toString()),{data:{session:Ue.session,redirectType:null},error:null}}if(e.error||e.error_description||e.error_code)throw new Mt(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});let{provider_token:n,provider_refresh_token:o,access_token:a,refresh_token:s,expires_in:l,expires_at:c,token_type:d}=e;if(!a||!l||!s||!d)throw new Mt("No session defined in URL");let h=Math.round(Date.now()/1e3),b=parseInt(l),f=h+b;c&&(f=parseInt(c));let I=f-h;I*1e3<=Ri&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${I}s, should have been closer to ${b}s`);let A=f-b;h-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,f,h):h-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",A,f,h);let{data:E,error:le}=yield this._getUser(a);if(le)throw le;let $e={provider_token:n,provider_refresh_token:o,access_token:a,expires_in:b,expires_at:f,refresh_token:s,token_type:d,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:$e,redirectType:e.type},error:null}}catch(e){if(M(e))return{data:{session:null,redirectType:null},error:e};throw e}})}_isImplicitGrantFlow(){let t=Mn(window.location.href);return!!(Re()&&(t.access_token||t.error_description))}_isPKCEFlow(){return u(this,null,function*(){let t=Mn(window.location.href),e=yield Mi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&e)})}signOut(){return u(this,arguments,function*(t={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>u(this,null,function*(){return yield this._signOut(t)}))})}_signOut(){return u(this,arguments,function*({scope:t}={scope:"global"}){return yield this._useSession(e=>u(this,null,function*(){var n;let{data:o,error:a}=e;if(a)return{error:a};let s=(n=o.session)===null||n===void 0?void 0:n.access_token;if(s){let{error:l}=yield this.admin.signOut(s,t);if(l&&!(as(l)&&(l.status===404||l.status===401)))return{error:l}}return t!=="others"&&(yield this._removeSession(),yield An(this.storage,`${this.storageKey}-code-verifier`),yield this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}}))})}onAuthStateChange(t){let e=is(),n={id:e,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",e),this.stateChangeEmitters.delete(e)}};return this._debug("#onAuthStateChange()","registered callback with id",e),this.stateChangeEmitters.set(e,n),u(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>u(this,null,function*(){this._emitInitialSession(e)}))}),{data:{subscription:n}}}_emitInitialSession(t){return u(this,null,function*(){return yield this._useSession(e=>u(this,null,function*(){var n,o;try{let{data:{session:a},error:s}=e;if(s)throw s;yield(n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){yield(o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}}))})}resetPasswordForEmail(n){return u(this,arguments,function*(t,e={}){let o=null,a=null;if(this.flowType==="pkce"){let s=kt();yield ht(this.storage,`${this.storageKey}-code-verifier`,`${s}/PASSWORD_RECOVERY`),o=yield Tt(s),a=s===o?"plain":"s256"}try{return yield D(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:a,gotrue_meta_security:{captcha_token:e.captchaToken}},headers:this.headers,redirectTo:e.redirectTo})}catch(s){if(M(s))return{data:null,error:s};throw s}})}getUserIdentities(){return u(this,null,function*(){var t;try{let{data:e,error:n}=yield this.getUser();if(n)throw n;return{data:{identities:(t=e.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(e){if(M(e))return{data:null,error:e};throw e}})}linkIdentity(t){return u(this,null,function*(){var e;try{let{data:n,error:o}=yield this._useSession(a=>u(this,null,function*(){var s,l,c,d,h;let{data:b,error:f}=a;if(f)throw f;let I=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield D(this.fetch,"GET",I,{headers:this.headers,jwt:(h=(d=b.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})}));if(o)throw o;return Re()&&!(!((e=t.options)===null||e===void 0)&&e.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:t.provider,url:n?.url},error:null}}catch(n){if(M(n))return{data:{provider:t.provider,url:null},error:n};throw n}})}unlinkIdentity(t){return u(this,null,function*(){try{return yield this._useSession(e=>u(this,null,function*(){var n,o;let{data:a,error:s}=e;if(s)throw s;return yield D(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&o!==void 0?o:void 0})}))}catch(e){if(M(e))return{data:null,error:e};throw e}})}_refreshAccessToken(t){return u(this,null,function*(){let e=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(e,"begin");try{let n=Date.now();return yield os(o=>u(this,null,function*(){return yield rs(o*200),this._debug(e,"refreshing attempt",o),yield D(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:mt})}),(o,a,s)=>s&&s.error&&On(s.error)&&Date.now()+(o+1)*200-n<Ri)}catch(n){if(this._debug(e,"error",n),M(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(e,"end")}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,e){return u(this,null,function*(){let n=yield this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:e.redirectTo,scopes:e.scopes,queryParams:e.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",e,"url",n),Re()&&!e.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}})}_recoverAndRefresh(){return u(this,null,function*(){var t;let e="#_recoverAndRefresh()";this._debug(e,"begin");try{let n=yield Mi(this.storage,this.storageKey);if(this._debug(e,"session from storage",n),!this._isValidSession(n)){this._debug(e,"session is not valid"),n!==null&&(yield this._removeSession());return}let o=Math.round(Date.now()/1e3),a=((t=n.expires_at)!==null&&t!==void 0?t:1/0)<o+Ir;if(this._debug(e,`session has${a?"":" not"} expired with margin of ${Ir}s`),a){if(this.autoRefreshToken&&n.refresh_token){let{error:s}=yield this._callRefreshToken(n.refresh_token);s&&(console.error(s),On(s)||(this._debug(e,"refresh failed with a non-retryable error, removing the session",s),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(e,"error",n),console.error(n);return}finally{this._debug(e,"end")}})}_callRefreshToken(t){return u(this,null,function*(){var e,n;if(!t)throw new Qe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ei;let{data:a,error:s}=yield this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new Qe;yield this._saveSession(a.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);let l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(o,"error",a),M(a)){let s={session:null,error:a};return On(a)||(yield this._removeSession(),yield this._notifyAllSubscribers("SIGNED_OUT",null)),(e=this.refreshingDeferred)===null||e===void 0||e.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(t,e,n=!0){return u(this,null,function*(){let o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",e,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:e});let a=[],s=Array.from(this.stateChangeEmitters.values()).map(l=>u(this,null,function*(){try{yield l.callback(t,e)}catch(c){a.push(c)}}));if(yield Promise.all(s),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(o,"end")}})}_saveSession(t){return u(this,null,function*(){this._debug("#_saveSession()",t),yield ht(this.storage,this.storageKey,t)})}_removeSession(){return u(this,null,function*(){this._debug("#_removeSession()"),yield An(this.storage,this.storageKey)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Re()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(e){console.error("removing visibilitychange callback failed",e)}}_startAutoRefresh(){return u(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),Ri);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(()=>u(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return u(this,null,function*(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)})}startAutoRefresh(){return u(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return u(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return u(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>u(this,null,function*(){try{let t=Date.now();try{return yield this._useSession(e=>u(this,null,function*(){let{data:{session:n}}=e;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((n.expires_at*1e3-t)/Ri);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Ri}ms, refresh threshold is ${gs} ticks`),o<=gs&&(yield this._callRefreshToken(n.refresh_token))}))}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(t){if(t.isAcquireTimeout||t instanceof jn)this._debug("auto refresh token tick lock not available");else throw t}})}_handleVisibilityChange(){return u(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Re()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>u(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}})}_onVisibilityChanged(t){return u(this,null,function*(){let e=`#_onVisibilityChanged(${t})`;this._debug(e,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(yield this.initializePromise,yield this._acquireLock(-1,()=>u(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(e,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(t,e,n){return u(this,null,function*(){let o=[`provider=${encodeURIComponent(e)}`];if(n?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&o.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){let a=kt();yield ht(this.storage,`${this.storageKey}-code-verifier`,a);let s=yield Tt(a),l=a===s?"plain":"s256";this._debug("PKCE","code verifier",`${a.substring(0,5)}...`,"code challenge",s,"method",l);let c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});o.push(c.toString())}if(n?.queryParams){let a=new URLSearchParams(n.queryParams);o.push(a.toString())}return n?.skipBrowserRedirect&&o.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${o.join("&")}`})}_unenroll(t){return u(this,null,function*(){try{return yield this._useSession(e=>u(this,null,function*(){var n;let{data:o,error:a}=e;return a?{data:null,error:a}:yield D(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token})}))}catch(e){if(M(e))return{data:null,error:e};throw e}})}_enroll(t){return u(this,null,function*(){try{return yield this._useSession(e=>u(this,null,function*(){var n,o;let{data:a,error:s}=e;if(s)return{data:null,error:s};let{data:l,error:c}=yield D(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(!((o=l?.totp)===null||o===void 0)&&o.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})}))}catch(e){if(M(e))return{data:null,error:e};throw e}})}_verify(t){return u(this,null,function*(){return this._acquireLock(-1,()=>u(this,null,function*(){try{return yield this._useSession(e=>u(this,null,function*(){var n;let{data:o,error:a}=e;if(a)return{data:null,error:a};let{data:s,error:l}=yield D(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:l})}))}catch(e){if(M(e))return{data:null,error:e};throw e}}))})}_challenge(t){return u(this,null,function*(){return this._acquireLock(-1,()=>u(this,null,function*(){try{return yield this._useSession(e=>u(this,null,function*(){var n;let{data:o,error:a}=e;return a?{data:null,error:a}:yield D(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token})}))}catch(e){if(M(e))return{data:null,error:e};throw e}}))})}_challengeAndVerify(t){return u(this,null,function*(){let{data:e,error:n}=yield this._challenge({factorId:t.factorId});return n?{data:null,error:n}:yield this._verify({factorId:t.factorId,challengeId:e.id,code:t.code})})}_listFactors(){return u(this,null,function*(){let{data:{user:t},error:e}=yield this.getUser();if(e)return{data:null,error:e};let n=t?.factors||[],o=n.filter(a=>a.factor_type==="totp"&&a.status==="verified");return{data:{all:n,totp:o},error:null}})}_getAuthenticatorAssuranceLevel(){return u(this,null,function*(){return this._acquireLock(-1,()=>u(this,null,function*(){return yield this._useSession(t=>u(this,null,function*(){var e,n;let{data:{session:o},error:a}=t;if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let s=this._decodeJWT(o.access_token),l=null;s.aal&&(l=s.aal);let c=l;((n=(e=o.user.factors)===null||e===void 0?void 0:e.filter(b=>b.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");let h=s.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}))})}}return r.nextInstanceID=0,r})();var pc=Rr,Dr=pc;var Fn=class extends Dr{constructor(i){super(i)}};var fc=function(r,i,t,e){function n(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(d){try{c(e.next(d))}catch(h){a(h)}}function l(d){try{c(e.throw(d))}catch(h){a(h)}}function c(d){d.done?o(d.value):n(d.value).then(s,l)}c((e=e.apply(r,i||[])).next())})},Ln=class{constructor(i,t,e){var n,o,a;if(this.supabaseUrl=i,this.supabaseKey=t,!i)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");let s=Xa(i);this.realtimeUrl=`${s}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${s}/auth/v1`,this.storageUrl=`${s}/storage/v1`,this.functionsUrl=`${s}/functions/v1`;let l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:Qa,realtime:Ya,auth:Object.assign(Object.assign({},Ja),{storageKey:l}),global:Wa},d=es(e??{},c);this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=Za(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},d.realtime)),this.rest=new ja(`${s}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new mi(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ki(this.storageUrl,this.headers,this.fetch)}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,t={},e={}){return this.rest.rpc(i,t,e)}channel(i,t={config:{}}){return this.realtime.channel(i,t)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var i,t;return fc(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:e}=yield this.auth.getSession();return(t=(i=e.session)===null||i===void 0?void 0:i.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:t,detectSessionInUrl:e,storage:n,storageKey:o,flowType:a,lock:s,debug:l},c,d){var h;let b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Fn({url:this.authUrl,headers:Object.assign(Object.assign({},b),c),storageKey:o,autoRefreshToken:i,persistSession:t,detectSessionInUrl:e,storage:n,flowType:a,lock:s,debug:l,fetch:d,hasCustomAuthorizationHeader:(h="Authorization"in this.headers)!==null&&h!==void 0?h:!1})}_initRealtimeClient(i){return new Ci(this.realtimeUrl,Object.assign(Object.assign({},i),{params:Object.assign({apikey:this.supabaseKey},i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(i,t,e){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==e?(this.realtime.setAuth(e??null),this.changedAccessToken=e):i==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var _s=(r,i,t)=>new Ln(r,i,t);var It={production:!1,supabaseUrl:"https://zbznarraayfwtijhdnmy.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpiem5hcnJhYXlmd3Rpamhkbm15Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjYzNjIxNTgsImV4cCI6MjA0MTkzODE1OH0.BigS8tKoVoJJrrH9fFuZQPoEmSF8Ad8d3NUSf4LBNCU",tinyMicApiKeys:"6itl2lrw0ugmy67fp6yzsyf9l062nsyrmmqkgyb3akm7rtol"};var pt=(()=>{class r{supabase;ngZone=y(J);_session=null;initializeSupabase(){this.supabase=this.ngZone.runOutsideAngular(()=>_s(It.supabaseUrl,It.supabaseKey))}get session(){return this.supabase.auth.getSession().then(({data:t})=>{this._session=t.session}),this._session}get supabaseClient(){return this.supabase}profile(t){return this.supabase.from("profiles").select("username, website, avatar_url").eq("id",t.id).single()}authChanges(t){return this.supabase.auth.onAuthStateChange(t)}signIn(t){return this.supabase.auth.signInWithOtp({email:t})}signInWithGoogle(){return this.supabase.auth.signInWithOAuth({provider:"google"})}signOut(){return this.supabase.auth.signOut()}updateProfile(t){let e=Dt(Q({},t),{updated_at:new Date});return this.supabase.from("profiles").upsert(e)}downLoadImage(t){return this.supabase.storage.from("avatars").download(t)}uploadAvatar(t,e){return this.supabase.storage.from("avatars").upload(t,e)}static \u0275fac=function(e){return new(e||r)};static \u0275prov=N({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Ne=(()=>{class r{supabaseService=y(pt);supabase=this.supabaseService.supabaseClient;isSignedIn=!1;user=gt(null);constructor(){this.supabase.auth.onAuthStateChange((t,e)=>{e&&(this.isSignedIn=!0,this.user.set(e.user))})}signInWithGoogle(){return this.supabase.auth.signInWithOAuth({provider:"google"})}signOut(){return this.supabase.auth.signOut()}static \u0275fac=function(e){return new(e||r)};static \u0275prov=N({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function gc(r,i){if(r&1&&(m(0,"button",5)(1,"mat-icon"),x(2,"account_circle"),p()()),r&2){C();let t=_t(3);w("matMenuTriggerFor",t)}}function _c(r,i){if(r&1&&(m(0,"button",5)(1,"div",6),O(2,"img",7),p()()),r&2){let t=C(),e=_t(3);w("matMenuTriggerFor",e),g(2),w("src",t.user.avatarUrl,si)}}function vc(r,i){if(r&1){let t=B();m(0,"mat-card",3)(1,"mat-card-content")(2,"div",8)(3,"div",9)(4,"span",10),x(5," Welcome, "),p(),m(6,"span",11),x(7),p()(),m(8,"div",12),O(9,"img",13),m(10,"span",14),x(11),p()()(),m(12,"div",15)(13,"a",16),k("click",function(){P(t);let n=C();return j(n.signOut())}),m(14,"mat-icon"),x(15,"logout"),p(),x(16," Sign out "),p()()()()}if(r&2){let t=C();g(7),oe(t.user.fullName),g(2),w("src",t.user.avatarUrl,si),g(2),oe(t.user.email)}}function bc(r,i){if(r&1){let t=B();m(0,"a",17),k("click",function(){P(t);let n=C();return j(n.signInWithGoogle())}),O(1,"mat-icon",18),x(2," Sign in with Google "),p()}}var vs=(()=>{class r{matIconRegistry;domSanitizer;supabaseAuthService=y(Ne);dialog=y(Gt);user=null;constructor(t,e){this.matIconRegistry=t,this.domSanitizer=e,wo(()=>{if(!this.supabaseAuthService.user()?.email&&!this.user){this.user=null;return}this.user={email:this.supabaseAuthService.user()?.email||"",avatarUrl:this.supabaseAuthService.user()?.user_metadata.avatar_url||"",fullName:this.supabaseAuthService.user()?.user_metadata.full_name||""}}),this.matIconRegistry.addSvgIcon("google",this.domSanitizer.bypassSecurityTrustResourceUrl("assets/images/google.svg"))}signInWithGoogle(){return u(this,null,function*(){yield this.supabaseAuthService.signInWithGoogle()})}signOut(){return u(this,null,function*(){(yield this.dialog.open(Fe,{data:{title:"Sign out",text:"Are you sure you want to sign out?",confirmText:"BYE OFF"}}).afterClosed().toPromise())&&(yield this.supabaseAuthService.signOut(),window.location.reload())})}static \u0275fac=function(e){return new(e||r)(_(Ki),_(Xe))};static \u0275cmp=S({type:r,selectors:[["app-auth-sidenav-widget"]],standalone:!0,features:[T],decls:6,vars:4,consts:[["picker","matMenu"],["color","primary","mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],["xPosition","before",1,"sidenav"],["appearance","outlined",1,"color-on-primary-container"],["mat-menu-item","",3,"click",4,"ngIf"],["color","primary","mat-icon-button","",3,"matMenuTriggerFor"],[1,"flex","flex-row","items-center"],[1,"rounded-full",3,"src"],[1,"flex","flex-col","overflow-hidden","mx-8","my-1"],[1,"flex","justify-center","flex-col","gap-1","text-center"],[1,"text-sm"],[1,"text-lg"],[1,"flex","flex-col","items-center","gap-1","text-ellipsis"],[1,"rounded-full","w-24","mat-elevation-z2","my-2",3,"src"],[1,"text-xs"],[1,"flex","justify-center","mt-4"],["color","warn","mat-button","",3,"click"],["mat-menu-item","",3,"click"],["svgIcon","google"]],template:function(e,n){e&1&&(R(0,gc,3,1,"button",1)(1,_c,3,2,"button",1),m(2,"mat-menu",2,0),R(4,vc,17,3,"mat-card",3)(5,bc,3,0,"a",4),p()),e&2&&(w("ngIf",!n.user),g(),w("ngIf",n.user),g(3),G(n.user?4:-1),g(),w("ngIf",!(n.user!=null&&n.user.fullName)))},dependencies:[je,ct,yt,un,W,Ht,Pe,ie,ae,be,H,Ze,at,rt,ot],styles:[".mat-mdc-menu-panel{max-width:100%!important;border-radius:16px!important}  .mat-mdc-menu-panel .mat-mdc-menu-content{padding:0!important}mat-card[_ngcontent-%COMP%]{padding:0!important}"]})}return r})();var Bn=(()=>{class r{_scrollTop=new ji(0);scrollTop$=this._scrollTop.asObservable();setScrollTop(t){this._scrollTop.next(t)}get scrollTop(){return this._scrollTop.value}static \u0275fac=function(e){return new(e||r)};static \u0275prov=N({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),bs=[{label:"labels.sections.about",route:"about",icon:"person"},{label:"labels.sections.resume",route:"resume",icon:"description"},{label:"labels.sections.blog",route:"blog",icon:"lightbulb"}],Rt=function(r){return r.Visible="visible",r.Hidden="hidden",r}(Rt||{}),ft=function(r){return r.Up="Up",r.Down="Down",r}(ft||{});var Te=(()=>{class r{isHandheld$=gt(!1);toggleDrawerSubject=new L;toggleDrawer$=this.toggleDrawerSubject.asObservable();get isHandheld(){return this.isHandheld$()}set isHandheld(t){this.isHandheld$.set(t)}toggleDrawer(){this.toggleDrawerSubject.next()}static \u0275fac=function(e){return new(e||r)};static \u0275prov=N({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var wc=(r,i)=>i.label,xc=r=>({"sidenav-button w-full sidenav-item":r});function Cc(r,i){if(r&1&&(m(0,"mat-icon"),x(1),p()),r&2){let t=C().$implicit;g(),oe(t.icon)}}function Sc(r,i){if(r&1){let t=B();m(0,"a",3),k("click",function(){P(t);let n=C(2);return j(n.onClick())}),m(1,"div",4)(2,"span"),x(3),p(),R(4,Cc,2,1,"mat-icon",5),p()()}if(r&2){let t=i.$implicit,e=C().$implicit,n=C();fo("routerLink",t.route),w("ngClass",Je(4,xc,n.isHandheld)),g(3),oe(e(t.label)),g(),w("ngIf",n.isHandheld)}}function kc(r,i){if(r&1&&(ho(0),m(1,"div",1),Bt(2,Sc,5,6,"a",2,wc),p(),mo()),r&2){let t=C();g(2),Nt(t.sections)}}var Nn=(()=>{class r{isHandheld=!1;sections=bs.filter(t=>!t.hidden);sidenavContainerService=y(Te);onClick(){this.isHandheld&&this.sidenavContainerService.toggleDrawer()}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=S({type:r,selectors:[["app-sections-navigator"]],inputs:{isHandheld:"isHandheld"},standalone:!0,features:[T],decls:1,vars:0,consts:[[4,"transloco"],[1,"flex","flex-row","flex-wrap","items-center"],["mat-button","","routerLinkActive","item-selected",3,"ngClass","routerLink"],["mat-button","","routerLinkActive","item-selected",3,"click","ngClass","routerLink"],[1,"flex","flex-row-reverse","justify-end","items-center","gap-6"],[4,"ngIf"]],template:function(e,n){e&1&&R(0,kc,4,0,"ng-container",0)},dependencies:[be,Qi,Ji,ie,ae,zo,W,Ht,H,$i,Ze],styles:[".sidenav-button[_ngcontent-%COMP%]     .mdc-button__label{width:100%}.sidenav-item[_ngcontent-%COMP%]{height:52px!important}"]})}return r})();var Vn=["*"],Tc=["content"],Ec=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Mc=["mat-drawer","mat-drawer-content","*"];function Ic(r,i){if(r&1){let t=B();m(0,"div",1),k("click",function(){P(t);let n=C();return j(n._onBackdropClicked())}),p()}if(r&2){let t=C();_e("mat-drawer-shown",t._isShowingBackdrop())}}function Ac(r,i){r&1&&(m(0,"mat-drawer-content"),Y(1,2),p())}var Rc=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Dc=["mat-sidenav","mat-sidenav-content","*"];function Oc(r,i){if(r&1){let t=B();m(0,"div",1),k("click",function(){P(t);let n=C();return j(n._onBackdropClicked())}),p()}if(r&2){let t=C();_e("mat-drawer-shown",t._isShowingBackdrop())}}function Pc(r,i){r&1&&(m(0,"mat-sidenav-content"),Y(1,2),p())}var jc='.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-app-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-app-background));box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-app-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color, var(--mat-app-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}',ys={transformDrawer:qe("transform",[Ce("open, open-instant",se({transform:"none",visibility:"visible"})),Ce("void",se({"box-shadow":"none",visibility:"hidden"})),Se("void => open-instant",xe("0ms")),Se("void <=> open, open-instant => void",xe("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])};var Fc=new te("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:Lc}),jr=new te("MAT_DRAWER_CONTAINER");function Lc(){return!1}var $n=(()=>{let i=class i extends zt{constructor(e,n,o,a,s){super(o,a,s),this._changeDetectorRef=e,this._container=n}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}};i.\u0275fac=function(n){return new(n||i)(_(K),_(jt(()=>xs)),_(q),_(rr),_(J))},i.\u0275cmp=S({type:i,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(n,o){n&2&&Bi("margin-left",o._container._contentMargins.left,"px")("margin-right",o._container._contentMargins.right,"px")},standalone:!0,features:[ve([{provide:zt,useExisting:i}]),Ge,T],ngContentSelectors:Vn,decls:1,vars:0,template:function(n,o){n&1&&(ue(),Y(0))},encapsulation:2,changeDetection:0});let r=i;return r})(),ws=(()=>{let i=class i{get position(){return this._position}set position(e){e=e==="end"?"end":"start",e!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Ae(e)}get autoFocus(){let e=this._autoFocus;return e??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(e){(e==="true"||e==="false"||e==null)&&(e=Ae(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Ae(e))}constructor(e,n,o,a,s,l,c,d){this._elementRef=e,this._focusTrapFactory=n,this._focusMonitor=o,this._platform=a,this._ngZone=s,this._interactivityChecker=l,this._doc=c,this._container=d,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new L,this._animationEnd=new L,this._animationState="void",this.openedChange=new v(!0),this._openedStream=this.openedChange.pipe(ne(h=>h),He(()=>{})),this.openedStart=this._animationStarted.pipe(ne(h=>h.fromState!==h.toState&&h.toState.indexOf("open")===0),Yn(void 0)),this._closedStream=this.openedChange.pipe(ne(h=>!h),He(()=>{})),this.closedStart=this._animationStarted.pipe(ne(h=>h.fromState!==h.toState&&h.toState==="void"),Yn(void 0)),this._destroyed=new L,this.onPositionChanged=new v,this._modeChanged=new L,this._injector=y(Me),this._changeDetectorRef=y(K),this.openedChange.pipe(z(this._destroyed)).subscribe(h=>{h?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Ot(this._elementRef.nativeElement,"keydown").pipe(ne(h=>h.keyCode===27&&!this.disableClose&&!Vi(h)),z(this._destroyed)).subscribe(h=>this._ngZone.run(()=>{this.close(),h.stopPropagation(),h.preventDefault()}))}),this._animationEnd.pipe(qr((h,b)=>h.fromState===b.fromState&&h.toState===b.toState)).subscribe(h=>{let{fromState:b,toState:f}=h;(f.indexOf("open")===0&&b==="void"||f==="void"&&b.indexOf("open")===0)&&this.openedChange.emit(this._opened)})}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{e.removeEventListener("blur",o),e.removeEventListener("mousedown",o),e.removeAttribute("tabindex")};e.addEventListener("blur",o),e.addEventListener("mousedown",o)})),e.focus(n)}_focusByCssSelector(e,n){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,n)}_takeFocus(){if(!this._focusTrap)return;let e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":ci(()=>{!this._focusTrap.focusInitialElement()&&typeof e.focus=="function"&&e.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(e){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,n){e&&n&&(this._openedVia=n);let o=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),o}_setOpen(e,n,o){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",n&&this._restoreFocus(o)),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(a=>{this.openedChange.pipe(oi(1)).subscribe(s=>a(s?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(e){if(!this._platform.isBrowser)return;let n=this._elementRef.nativeElement,o=n.parentNode;e==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),o.insertBefore(this._anchor,n)),o.appendChild(n)):this._anchor&&this._anchor.parentNode.insertBefore(n,this._anchor)}};i.\u0275fac=function(n){return new(n||i)(_(q),_(Po),_(vt),_(et),_(J),_(Oo),_(Oe,8),_(jr,8))},i.\u0275cmp=S({type:i,selectors:[["mat-drawer"]],viewQuery:function(n,o){if(n&1&&Z(Tc,5),n&2){let a;$(a=U())&&(o._content=a.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(n,o){n&1&&Ni("@transform.start",function(s){return o._animationStarted.next(s)})("@transform.done",function(s){return o._animationEnd.next(s)}),n&2&&($t("@transform",o._animationState),de("align",null),_e("mat-drawer-end",o.position==="end")("mat-drawer-over",o.mode==="over")("mat-drawer-push",o.mode==="push")("mat-drawer-side",o.mode==="side")("mat-drawer-opened",o.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[T],ngContentSelectors:Vn,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(n,o){n&1&&(ue(),m(0,"div",1,0),Y(2),p())},dependencies:[zt],encapsulation:2,data:{animation:[ys.transformDrawer]},changeDetection:0});let r=i;return r})(),xs=(()=>{let i=class i{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Ae(e)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(e){this._backdropOverride=e==null?null:Ae(e)}get scrollable(){return this._userContent||this._content}constructor(e,n,o,a,s,l=!1,c){this._dir=e,this._element=n,this._ngZone=o,this._changeDetectorRef=a,this._animationMode=c,this._drawers=new Fi,this.backdropClick=new v,this._destroyed=new L,this._doCheckSubject=new L,this._contentMargins={left:null,right:null},this._contentMarginChanges=new L,this._injector=y(Me),e&&e.change.pipe(z(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe(z(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=l}ngAfterContentInit(){this._allDrawers.changes.pipe(ze(this._allDrawers),z(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(n=>!n._container||n._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(ze(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Gr(10),z(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,n=0;if(this._left&&this._left.opened){if(this._left.mode=="side")e+=this._left._getWidth();else if(this._left.mode=="push"){let o=this._left._getWidth();e+=o,n-=o}}if(this._right&&this._right.opened){if(this._right.mode=="side")n+=this._right._getWidth();else if(this._right.mode=="push"){let o=this._right._getWidth();n+=o,e-=o}}e=e||null,n=n||null,(e!==this._contentMargins.left||n!==this._contentMargins.right)&&(this._contentMargins={left:e,right:n},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(ne(n=>n.fromState!==n.toState),z(this._drawers.changes)).subscribe(n=>{n.toState!=="open-instant"&&this._animationMode!=="NoopAnimations"&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),e.mode!=="side"&&e.openedChange.pipe(z(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe(z(this._drawers.changes)).subscribe(()=>{ci(()=>{this._validateDrawers()},{injector:this._injector,phase:lo.Read})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(z(Pt(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){let n=this._element.nativeElement.classList,o="mat-drawer-container-has-open";e?n.add(o):n.remove(o)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{e.position=="end"?(this._end!=null,this._end=e):(this._start!=null,this._start=e)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._drawerHasBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(e){return e!=null&&e.opened}_drawerHasBackdrop(e){return this._backdropOverride==null?!!e&&e.mode!=="side":this._backdropOverride}};i.\u0275fac=function(n){return new(n||i)(_(Gi,8),_(q),_(J),_(K),_(Ko),_(Fc),_(Li,8))},i.\u0275cmp=S({type:i,selectors:[["mat-drawer-container"]],contentQueries:function(n,o,a){if(n&1&&(Ie(a,$n,5),Ie(a,ws,5)),n&2){let s;$(s=U())&&(o._content=s.first),$(s=U())&&(o._allDrawers=s)}},viewQuery:function(n,o){if(n&1&&Z($n,5),n&2){let a;$(a=U())&&(o._userContent=a.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(n,o){n&2&&_e("mat-drawer-container-explicit-backdrop",o._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[ve([{provide:jr,useExisting:i}]),T],ngContentSelectors:Mc,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(n,o){n&1&&(ue(Ec),R(0,Ic,1,2,"div",0),Y(1),Y(2,1),R(3,Ac,2,0,"mat-drawer-content")),n&2&&(G(o.hasBackdrop?0:-1),g(3),G(o._content?-1:3))},dependencies:[$n],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-app-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-app-background));box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-app-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color, var(--mat-app-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0});let r=i;return r})(),Un=(()=>{let i=class i extends $n{constructor(e,n,o,a,s){super(e,n,o,a,s)}};i.\u0275fac=function(n){return new(n||i)(_(K),_(jt(()=>Lr)),_(q),_(rr),_(J))},i.\u0275cmp=S({type:i,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(n,o){n&2&&Bi("margin-left",o._container._contentMargins.left,"px")("margin-right",o._container._contentMargins.right,"px")},standalone:!0,features:[ve([{provide:zt,useExisting:i}]),Ge,T],ngContentSelectors:Vn,decls:1,vars:0,template:function(n,o){n&1&&(ue(),Y(0))},encapsulation:2,changeDetection:0});let r=i;return r})(),Fr=(()=>{let i=class i extends ws{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=Ae(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=Hi(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=Hi(e)}};i.\u0275fac=(()=>{let e;return function(o){return(e||(e=er(i)))(o||i)}})(),i.\u0275cmp=S({type:i,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(n,o){n&2&&(de("align",null),Bi("top",o.fixedInViewport?o.fixedTopGap:null,"px")("bottom",o.fixedInViewport?o.fixedBottomGap:null,"px"),_e("mat-drawer-end",o.position==="end")("mat-drawer-over",o.mode==="over")("mat-drawer-push",o.mode==="push")("mat-drawer-side",o.mode==="side")("mat-drawer-opened",o.opened)("mat-sidenav-fixed",o.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],standalone:!0,features:[Ge,T],ngContentSelectors:Vn,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(n,o){n&1&&(ue(),m(0,"div",1,0),Y(2),p())},dependencies:[zt],encapsulation:2,data:{animation:[ys.transformDrawer]},changeDetection:0});let r=i;return r})(),Lr=(()=>{let i=class i extends xs{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}};i.\u0275fac=(()=>{let e;return function(o){return(e||(e=er(i)))(o||i)}})(),i.\u0275cmp=S({type:i,selectors:[["mat-sidenav-container"]],contentQueries:function(n,o,a){if(n&1&&(Ie(a,Un,5),Ie(a,Fr,5)),n&2){let s;$(s=U())&&(o._content=s.first),$(s=U())&&(o._allDrawers=s)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(n,o){n&2&&_e("mat-drawer-container-explicit-backdrop",o._backdropOverride)},exportAs:["matSidenavContainer"],standalone:!0,features:[ve([{provide:jr,useExisting:i}]),Ge,T],ngContentSelectors:Dc,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(n,o){n&1&&(ue(Rc),R(0,Oc,1,2,"div",0),Y(1),Y(2,1),R(3,Pc,2,0,"mat-sidenav-content")),n&2&&(G(o.hasBackdrop?0:-1),g(3),G(o._content?-1:3))},dependencies:[Un],styles:[jc],encapsulation:2,changeDetection:0});let r=i;return r})(),Cs=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=ge({type:i}),i.\u0275inj=fe({imports:[he,ui,ui,he]});let r=i;return r})();var Nc=["drawer"],$c=["*"];function Uc(r,i){if(r&1){let t=B();m(0,"button",8),k("click",function(){P(t);let n=C();return j(n.startListening())}),m(1,"mat-icon"),x(2,"mic"),p()()}}var Ss=(()=>{class r{breakpointObserver=y(zi);destroy$=new L;displayListenButton=!1;emptySpaceClickedNumber=0;isHandheld$=this.breakpointObserver.observe(["(max-width: 640px)"]).pipe(z(this.destroy$),He(t=>t.matches),ze(!0),Xn(t=>{this.sidenavContainerService.isHandheld=t,!t&&this.sidenav?.opened&&this.sidenav.close()}));sidenav;sidenavContainerService=y(Te);toggleDrawer$=this.sidenavContainerService.toggleDrawer$.pipe(z(this.destroy$),Xn(()=>{this.sidenav&&this.sidenav.toggle()}));version=qo;emptySpaceClicked(){this.emptySpaceClickedNumber++,this.emptySpaceClickedNumber>=7&&(this.displayListenButton=!0)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}ngOnInit(){zr([this.isHandheld$,this.toggleDrawer$]).subscribe()}redirectToPage(){window.location.href="/heart-love"}startListening(){let t=new window.webkitSpeechRecognition||new window.SpeechRecognition;t.lang="en-US",t.interimResults=!1,t.maxAlternatives=1,t.start(),t.onresult=e=>{e.results[0][0].transcript.trim().toLowerCase()==="i love you"?this.redirectToPage():alert("Please try again.")},t.onerror=e=>{console.error("Speech recognition error",e.error),alert("Error with speech recognition. Please try again.")}}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=S({type:r,selectors:[["app-sidenav-container"]],viewQuery:function(e,n){if(e&1&&Z(Nc,5),e&2){let o;$(o=U())&&(n.sidenav=o.first)}},standalone:!0,features:[T],ngContentSelectors:$c,decls:10,vars:6,consts:[["drawer",""],[1,"app-background"],["fixedInViewport","",1,"sidenav",3,"mode","opened","autoFocus"],[1,"flex","flex-col","justify-between","h-full","overflow-hidden"],[3,"isHandheld"],["mat-button","",1,"flex","flex-1","justify-center","items-center",3,"click"],["mat-icon-button","",1,"mic-button"],[1,"overflow-y-auto","overflow-x-hidden"],["mat-icon-button","",1,"mic-button",3,"click"]],template:function(e,n){if(e&1){let o=B();ue(),m(0,"mat-sidenav-container",1)(1,"mat-sidenav",2,0)(3,"div",3),O(4,"app-sections-navigator",4),m(5,"div",5),k("click",function(){return P(o),j(n.emptySpaceClickedNumber>=7?null:n.emptySpaceClicked())}),R(6,Uc,3,0,"button",6),p(),O(7,"app-footer",4),p()(),m(8,"mat-sidenav-content",7),Y(9),p()()}e&2&&(g(),w("mode","over")("opened",!1)("autoFocus",!1),g(3),w("isHandheld",!0),g(2),G(n.displayListenButton?6:-1),g(),w("isHandheld",!0))},dependencies:[H,Cs,Fr,Lr,Un,tt,ie,ae,W,Pe,be,Nn,Zi],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:250px;border-radius:0}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mic-button[_ngcontent-%COMP%]{transform:scale(4)}"]})}return r})();var Vc=["button"],Hc=["*"];function zc(r,i){if(r&1&&O(0,"mat-pseudo-checkbox",3),r&2){let t=C();w("disabled",t.disabled)}}function Gc(r,i){if(r&1&&O(0,"mat-pseudo-checkbox",3),r&2){let t=C();w("disabled",t.disabled)}}var qc=new te("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:Kc});function Kc(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1,disabledInteractive:!1}}var Wc=new te("MatButtonToggleGroup");var Qc=0,Br=class{constructor(i,t){this.source=i,this.value=t}};var Jc=(()=>{let i=class i{get buttonId(){return`${this.id}-button`}get tabIndex(){return this._tabIndex}set tabIndex(e){this._tabIndex=e,this._markForCheck()}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=e}get disabledInteractive(){return this._disabledInteractive||this.buttonToggleGroup!==null&&this.buttonToggleGroup.disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e}constructor(e,n,o,a,s,l){this._changeDetectorRef=n,this._elementRef=o,this._focusMonitor=a,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new v;let c=Number(s);this.tabIndex=c||c===0?c:null,this.buttonToggleGroup=e,this.appearance=l&&l.appearance?l.appearance:"standard",this.disabledInteractive=l?.disabledInteractive??!1}ngOnInit(){let e=this.buttonToggleGroup;this.id=this.id||`mat-button-toggle-${Qc++}`,e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){let e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){if(this.disabled)return;let e=this.isSingleSelector()?!0:!this._checked;if(e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){let n=this.buttonToggleGroup._buttonToggles.find(o=>o.tabIndex===0);n&&(n.tabIndex=-1),this.tabIndex=0}this.change.emit(new Br(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}};i.\u0275fac=function(n){return new(n||i)(_(Wc,8),_(K),_(q),_(vt),io("tabindex"),_(qc,8))},i.\u0275cmp=S({type:i,selectors:[["mat-button-toggle"]],viewQuery:function(n,o){if(n&1&&Z(Vc,5),n&2){let a;$(a=U())&&(o._buttonElement=a.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:14,hostBindings:function(n,o){n&1&&k("focus",function(){return o.focus()}),n&2&&(de("aria-label",null)("aria-labelledby",null)("id",o.id)("name",null),_e("mat-button-toggle-standalone",!o.buttonToggleGroup)("mat-button-toggle-checked",o.checked)("mat-button-toggle-disabled",o.disabled)("mat-button-toggle-disabled-interactive",o.disabledInteractive)("mat-button-toggle-appearance-standard",o.appearance==="standard"))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",De],appearance:"appearance",checked:[2,"checked","checked",De],disabled:[2,"disabled","disabled",De],disabledInteractive:[2,"disabledInteractive","disabledInteractive",De]},outputs:{change:"change"},exportAs:["matButtonToggle"],standalone:!0,features:[Lt,T],ngContentSelectors:Hc,decls:8,vars:14,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-label-content"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(n,o){if(n&1){let a=B();ue(),m(0,"button",1,0),k("click",function(){return P(a),j(o._onButtonClick())}),m(2,"span",2),R(3,zc,1,1,"mat-pseudo-checkbox",3)(4,Gc,1,1,"mat-pseudo-checkbox",3),Y(5),p()(),O(6,"span",4)(7,"span",5)}if(n&2){let a=_t(1);w("id",o.buttonId)("disabled",o.disabled&&!o.disabledInteractive||null),de("role",o.isSingleSelector()?"radio":"button")("tabindex",o.disabled&&!o.disabledInteractive?-1:o.tabIndex)("aria-pressed",o.isSingleSelector()?null:o.checked)("aria-checked",o.isSingleSelector()?o.checked:null)("name",o._getButtonName())("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledby)("aria-disabled",o.disabled&&o.disabledInteractive?"true":null),g(3),G(o.buttonToggleGroup&&o.checked&&!o.buttonToggleGroup.multiple&&!o.buttonToggleGroup.hideSingleSelectionIndicator?3:-1),g(),G(o.buttonToggleGroup&&o.checked&&o.buttonToggleGroup.multiple&&!o.buttonToggleGroup.hideMultipleSelectionIndicator?4:-1),g(3),w("matRippleTrigger",a)("matRippleDisabled",o.disableRipple||o.disabled)}},dependencies:[qi,$o],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-legacy-button-toggle-selected-state-text-color)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle .mat-pseudo-checkbox{margin-right:12px}[dir=rtl] .mat-button-toggle .mat-pseudo-checkbox{margin-right:0;margin-left:12px}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{pointer-events:none;color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-legacy-button-toggle-disabled-state-text-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-disabled-interactive{pointer-events:auto}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color, var(--mat-app-on-surface));background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-label-text-font, var(--mat-app-label-large-font));font-size:var(--mat-standard-button-toggle-label-text-size, var(--mat-app-label-large-size));line-height:var(--mat-standard-button-toggle-label-text-line-height, var(--mat-app-label-large-line-height));font-weight:var(--mat-standard-button-toggle-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mat-standard-button-toggle-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container));background-color:var(--mat-standard-button-toggle-selected-state-background-color, var(--mat-app-secondary-container))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-standard-button-toggle-disabled-selected-state-text-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color, var(--mat-app-on-surface))}.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-button-toggle-appearance-standard.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}@media(hover: none){.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}"],encapsulation:2,changeDetection:0});let r=i;return r})(),ks=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=ge({type:i}),i.\u0275inj=fe({imports:[he,tt,Jc,he]});let r=i;return r})();var Ts=(()=>{class r{document;constructor(t){this.document=t}createLinkElementWithKey(t){let e=this.document.createElement("link");return e.setAttribute("rel","stylesheet"),e.classList.add(this.getClassNameForKey(t)),this.document.head.appendChild(e),e}getClassNameForKey(t){return`style-manager-${t}`}getExistingLinkElementByKey(t){return this.document.head.querySelector(`link[rel="stylesheet"].${this.getClassNameForKey(t)}`)}getLinkElementForKey(t){return this.getExistingLinkElementByKey(t)||this.createLinkElementWithKey(t)}removeStyle(t){let e=this.getExistingLinkElementByKey(t);e&&this.document.head.removeChild(e)}setStyle(t){this.getLinkElementForKey("theme").setAttribute("href",t)}static \u0275fac=function(e){return new(e||r)(re(Oe))};static \u0275prov=N({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Es=(()=>{class r{isLocalStorageAvailable=typeof localStorage<"u";clear(){this.isLocalStorageAvailable&&localStorage.clear()}get(t){return this.isLocalStorageAvailable?localStorage.getItem(t):null}remove(t){this.isLocalStorageAvailable&&localStorage.removeItem(t)}set(t,e){this.isLocalStorageAvailable&&localStorage.setItem(t,e)}static \u0275fac=function(e){return new(e||r)};static \u0275prov=N({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Ms="theme-type",Is=(()=>{class r{browserStorage=y(Es);getStoredThemeType(){return this.browserStorage.get(Ms)}storeThemeType(t){this.browserStorage.set(Ms,t)}static \u0275fac=function(e){return new(e||r)};static \u0275prov=N({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Hn=(()=>{class r{styleManager;_themeStorage;themeType="light";theme="black-theme";constructor(t,e){this.styleManager=t,this._themeStorage=e}initializeTheme(){return u(this,null,function*(){let t=this._themeStorage.getStoredThemeType()||"light";this.themeType=t,this.updateTheme()})}updateTheme(){let t=this.themeType,e=`${this.theme}-${t}.css`;this.styleManager.setStyle(e)}selectThemeType(t){this.themeType=t,this._themeStorage.storeThemeType(t),this.updateTheme()}toggleThemeType(){let t=this.themeType==="light"?"dark":"light";this.selectThemeType(t)}static \u0275fac=function(e){return new(e||r)(re(Ts),re(Is))};static \u0275prov=N({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var As=(()=>{class r{sidenavContainerService=y(Te);themeService=y(Hn);toggleDrawer(){this.sidenavContainerService.toggleDrawer()}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=S({type:r,selectors:[["theme-navbar-widget"]],standalone:!0,features:[T],decls:3,vars:1,consts:[["mat-icon-button","","color","primary",3,"click"],[1,"small"]],template:function(e,n){e&1&&(m(0,"button",0),k("click",function(){return n.themeService.toggleThemeType()}),m(1,"mat-icon",1),x(2),p()()),e&2&&(g(2),ee(" ",n.themeService.themeType==="light"?"dark_mode":"light_mode"," "))},dependencies:[W,Pe,ma,je,ie,ae,H,ks,ha,tt]})}return r})();var zn=(()=>{class r{isLocalStorageAvailable=typeof localStorage<"u";translocoService=y(Yi);activeLang=gt("en");allTranslations=gt({});firstInit=!0;changeLanguage(t){this.activeLang.set(t),this.setLocalStorageLang(t),this.translocoService.setActiveLang(t),this.translocoService.setDefaultLang(t)}initializeTranslation(){let t=this.getLocalStorageLang();this.activeLang.set(t),this.translocoService.setActiveLang(t)}getLocalStorageLang(){return this.isLocalStorageAvailable?localStorage?.getItem(Ds)??Rs:Rs}setLocalStorageLang(t){this.isLocalStorageAvailable&&localStorage?.setItem(Ds,t)}static \u0275fac=function(e){return new(e||r)};static \u0275prov=N({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Os=["en","es"],Rs="es",Ds="activeLang";function Xc(r,i){if(r&1){let t=B();m(0,"button",4),k("click",function(){let n=P(t).$implicit,o=C();return j(o.translationService.changeLanguage(n))}),m(1,"span",5),x(2),p()()}if(r&2){let t=i.$implicit,e=C();di(e.translationService.activeLang()===t?"item-selected":""),g(2),oe(t)}}var Ps=(()=>{class r{fullLanguagesMap={en:"English",es:"Espa\xF1ol"};languages=Os;sidenavContainerService=y(Te);translationService=y(zn);static \u0275fac=function(e){return new(e||r)};static \u0275cmp=S({type:r,selectors:[["translation-navbar-widget"]],standalone:!0,features:[T],decls:10,vars:4,consts:[["languagePicker","matMenu"],["mat-button","",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item","",3,"class"],["mat-menu-item","",3,"click"],[1,"uppercase"]],template:function(e,n){if(e&1&&(m(0,"button",1)(1,"span"),x(2),Ye(3,"uppercase"),p(),m(4,"mat-icon"),x(5,"language"),p()(),m(6,"mat-menu",2,0),Bt(8,Xc,3,3,"button",3,uo),p()),e&2){let o=_t(7);w("matMenuTriggerFor",o),g(2),oe(_o(3,2,n.translationService.activeLang())),g(6),Nt(n.languages)}},dependencies:[W,nt,je,ct,yt,un,ie,ae,H,Co]})}return r})();function ed(r,i){if(r&1){let t=B();m(0,"button",3),k("click",function(){P(t);let n=C();return j(n.toggleDrawer())}),m(1,"mat-icon",4),x(2,"menu"),p()()}}function td(r,i){r&1&&O(0,"app-sections-navigator")}var js=(()=>{class r{router=y(it);sidenavContainerService=y(Te);navbarService=y(Bn);showAuthButton=!0;isVisible=!0;get toggle(){return this.sidenavContainerService.isHandheld?this.isVisible?Rt.Visible:Rt.Hidden:Rt.Visible}toggleDrawer(){this.sidenavContainerService.toggleDrawer()}ngAfterViewInit(){this.triggerNavbarVisibilityBasedOnScroll()}triggerNavbarVisibilityBasedOnScroll(){let t=this.navbarService.scrollTop$.pipe(Yr(10),Wr(),He(([o,a])=>{if(this.navbarService.scrollTop<=10)return ft.Up;let s=Math.abs(a-o),l=a<o?ft.Up:ft.Down;return l==ft.Down||s>3?l:null}),Qr()),e=t.pipe(ne(o=>o===ft.Up)),n=t.pipe(ne(o=>o===ft.Down));e.subscribe(()=>this.isVisible=!0),n.subscribe(()=>this.isVisible=!1)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=S({type:r,selectors:[["app-navbar"]],hostVars:1,hostBindings:function(e,n){e&2&&$t("@toggle",n.toggle)},standalone:!0,features:[T],decls:7,vars:2,consts:[[1,"flex","p-1","flex-row","flex-wrap","items-center","justify-between","navbar"],["mat-icon-button",""],[1,"flex","flex-row","items-center"],["mat-icon-button","",3,"click"],["color","primary"]],template:function(e,n){e&1&&(m(0,"nav",0),R(1,ed,3,0,"button",1)(2,td,1,0,"app-sections-navigator"),m(3,"div",2),O(4,"theme-navbar-widget")(5,"translation-navbar-widget")(6,"app-auth-sidenav-widget"),p()()),e&2&&(g(),G(n.sidenavContainerService.isHandheld?1:-1),g(),G(n.sidenavContainerService.isHandheld?-1:2))},dependencies:[Ps,As,ie,ae,W,Pe,be,Nn,vs,pa],styles:["[_nghost-%COMP%]{position:sticky;top:0;z-index:50;margin-bottom:.25rem;width:100%;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}"],data:{animation:[qe("toggle",[Ce(Rt.Hidden,se({transform:"translateY(-100%)"})),Ce(Rt.Visible,se({transform:"translateY(0)"})),Se("* => *",xe("600ms cubic-bezier(.22,.92,.22,.92)"))])]}})}return r})();var Fs=(()=>{class r{el;placeholderText="";constructor(t){this.el=t}ngOnInit(){this.el.nativeElement.placeholder=this.placeholderText}onFocus(){this.el.nativeElement.placeholder=""}onBlur(){this.el.nativeElement.placeholder=this.placeholderText}static \u0275fac=function(e){return new(e||r)(_(q))};static \u0275dir=ce({type:r,selectors:[["","appTogglablePlaceholder",""]],hostBindings:function(e,n){e&1&&k("focus",function(){return n.onFocus()})("blur",function(){return n.onBlur()})},inputs:{placeholderText:[0,"appTogglablePlaceholder","placeholderText"]},standalone:!0})}return r})();var id=["container"];function nd(r,i){r&1&&O(0,"app-footer")}var Ls=(()=>{class r{container;sidenavContainerService=y(Te);router=y(it);navbarService=y(Bn);matIconRegistry=y(Ki);ngOnInit(){this.router.events.subscribe(t=>{t instanceof Uo&&this.container&&(this.container.nativeElement.scrollTop=0)}),this.matIconRegistry.setDefaultFontSetClass("material-symbols-outlined")}ngAfterViewInit(){this.container.nativeElement.addEventListener("scroll",()=>{this.navbarService.setScrollTop(this.container.nativeElement.scrollTop)})}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=S({type:r,selectors:[["app-root"]],viewQuery:function(e,n){if(e&1&&Z(id,5),e&2){let o;$(o=U())&&(n.container=o.first)}},standalone:!0,features:[ve([]),T],decls:7,vars:1,consts:[["container",""],[1,"app-container","overflow-y-scroll","overflow-x-hidden","h-screen-dvh","flex","flex-col"],[1,"grow"]],template:function(e,n){e&1&&(m(0,"app-sidenav-container")(1,"div",1,0),O(3,"app-navbar"),m(4,"div",2),O(5,"router-outlet"),p(),R(6,nd,1,0,"app-footer"),p()()),e&2&&(g(6),G(n.sidenavContainerService.isHandheld?-1:6))},dependencies:[Vo,js,Zi,Ss,H],styles:[".app-container[_ngcontent-%COMP%]{height:100dvh}#container[_ngcontent-%COMP%]{scroll-behavior:smooth}"]})}return r})();function rd(r,i){if(r&1){let t=B();m(0,"div",1)(1,"button",2),k("click",function(){P(t);let n=C();return j(n.action())}),x(2),p()()}if(r&2){let t=C();g(2),ee(" ",t.data.action," ")}}var od=["label"];function ad(r,i){}var sd=Math.pow(2,31)-1,Oi=class{constructor(i,t){this._overlayRef=t,this._afterDismissed=new L,this._afterOpened=new L,this._onAction=new L,this._dismissedByAction=!1,this.containerInstance=i,i._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(i){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(i,sd))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},Bs=new te("MatSnackBarData"),ni=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}},ld=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275dir=ce({type:i,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0});let r=i;return r})(),cd=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275dir=ce({type:i,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0});let r=i;return r})(),dd=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275dir=ce({type:i,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0});let r=i;return r})(),ud=(()=>{let i=class i{constructor(e,n){this.snackBarRef=e,this.data=n}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}};i.\u0275fac=function(n){return new(n||i)(_(Oi),_(Bs))},i.\u0275cmp=S({type:i,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[T],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(n,o){n&1&&(m(0,"div",0),x(1),p(),R(2,rd,3,1,"div",1)),n&2&&(g(),ee(" ",o.data.message,`
`),g(),G(o.hasAction?2:-1))},dependencies:[nt,ld,cd,dd],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0});let r=i;return r})(),hd={snackBarState:qe("state",[Ce("void, hidden",se({transform:"scale(0.8)",opacity:0})),Ce("visible",se({transform:"scale(1)",opacity:1})),Se("* => visible",xe("150ms cubic-bezier(0, 0, 0.2, 1)")),Se("* => void, * => hidden",xe("75ms cubic-bezier(0.4, 0.0, 1, 1)",se({opacity:0})))])},md=0,pd=(()=>{let i=class i extends Wo{constructor(e,n,o,a,s){super(),this._ngZone=e,this._elementRef=n,this._changeDetectorRef=o,this._platform=a,this.snackBarConfig=s,this._document=y(Oe),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new L,this._onExit=new L,this._onEnter=new L,this._animationState="void",this._liveElementId=`mat-snack-bar-container-live-${md++}`,this.attachDomPortal=l=>{this._assertNotAttached();let c=this._portalOutlet.attachDomPortal(l);return this._afterPortalAttached(),c},s.politeness==="assertive"&&!s.announcementMessage?this._live="assertive":s.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();let n=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),n}attachTemplatePortal(e){this._assertNotAttached();let n=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),n}onAnimationEnd(e){let{fromState:n,toState:o}=e;if((o==="void"&&n!=="void"||o==="hidden")&&this._completeExit(),o==="visible"){let a=this._onEnter;this._ngZone.run(()=>{a.next(),a.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(s=>e.classList.add(s)):e.classList.add(n)),this._exposeToModals();let o=this._label.nativeElement,a="mdc-snackbar__label";o.classList.toggle(a,!o.querySelector(`.${a}`))}_exposeToModals(){let e=this._liveElementId,n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<n.length;o++){let a=n[o],s=a.getAttribute("aria-owns");this._trackedModals.add(a),s?s.indexOf(e)===-1&&a.setAttribute("aria-owns",s+" "+e):a.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let n=e.getAttribute("aria-owns");if(n){let o=n.replace(this._liveElementId,"").trim();o.length>0?e.setAttribute("aria-owns",o):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),n=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&n){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(o=document.activeElement),e.removeAttribute("aria-hidden"),n.appendChild(e),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}};i.\u0275fac=function(n){return new(n||i)(_(J),_(q),_(K),_(et),_(ni))},i.\u0275cmp=S({type:i,selectors:[["mat-snack-bar-container"]],viewQuery:function(n,o){if(n&1&&(Z(ar,7),Z(od,7)),n&2){let a;$(a=U())&&(o._portalOutlet=a.first),$(a=U())&&(o._label=a.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(n,o){n&1&&Ni("@state.done",function(s){return o.onAnimationEnd(s)}),n&2&&$t("@state",o._animationState)},standalone:!0,features:[Ge,T],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,o){n&1&&(m(0,"div",1)(1,"div",2,0)(3,"div",3),R(4,ad,0,0,"ng-template",4),p(),O(5,"div"),p()()),n&2&&(g(5),de("aria-live",o._live)("role",o._role)("id",o._liveElementId))},dependencies:[ar],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-app-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-app-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-app-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-app-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-app-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color, var(--mat-app-inverse-primary));--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[hd.snackBarState]}});let r=i;return r})();function fd(){return new ni}var Nr=new te("mat-snack-bar-default-options",{providedIn:"root",factory:fd}),Gn=(()=>{let i=class i{get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,n,o,a,s,l){this._overlay=e,this._live=n,this._injector=o,this._breakpointObserver=a,this._parentSnackBar=s,this._defaultConfig=l,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=ud,this.snackBarContainerComponent=pd,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(e,n){return this._attach(e,n)}openFromTemplate(e,n){return this._attach(e,n)}open(e,n="",o){let a=Q(Q({},this._defaultConfig),o);return a.data={message:e,action:n},a.announcementMessage===e&&(a.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,a)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,n){let o=n&&n.viewContainerRef&&n.viewContainerRef.injector,a=Me.create({parent:o||this._injector,providers:[{provide:ni,useValue:n}]}),s=new or(this.snackBarContainerComponent,n.viewContainerRef,a),l=e.attach(s);return l.instance.snackBarConfig=n,l.instance}_attach(e,n){let o=Q(Q(Q({},new ni),this._defaultConfig),n),a=this._createOverlay(o),s=this._attachSnackBarContainer(a,o),l=new Oi(s,a);if(e instanceof li){let c=new tn(e,null,{$implicit:o.data,snackBarRef:l});l.instance=s.attachTemplatePortal(c)}else{let c=this._createInjector(o,l),d=new or(e,void 0,c),h=s.attachComponentPortal(d);l.instance=h.instance}return this._breakpointObserver.observe(Ro.HandsetPortrait).pipe(z(a.detachments())).subscribe(c=>{a.overlayElement.classList.toggle(this.handsetCssClass,c.matches)}),o.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(l,o),this._openedSnackBarRef=l,this._openedSnackBarRef}_animateSnackBar(e,n){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),n.duration&&n.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(n.duration))}_createOverlay(e){let n=new nn;n.direction=e.direction;let o=this._overlay.position().global(),a=e.direction==="rtl",s=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!a||e.horizontalPosition==="end"&&a,l=!s&&e.horizontalPosition!=="center";return s?o.left("0"):l?o.right("0"):o.centerHorizontally(),e.verticalPosition==="top"?o.top("0"):o.bottom("0"),n.positionStrategy=o,this._overlay.create(n)}_createInjector(e,n){let o=e&&e.viewContainerRef&&e.viewContainerRef.injector;return Me.create({parent:o||this._injector,providers:[{provide:Oi,useValue:n},{provide:Bs,useValue:e.data}]})}};i.\u0275fac=function(n){return new(n||i)(re(bt),re(Lo),re(Me),re(zi),re(i,12),re(Nr))},i.\u0275prov=N({token:i,factory:i.\u0275fac,providedIn:"root"});let r=i;return r})();var gd="@",_d=(()=>{let i=class i{constructor(e,n,o,a,s){this.doc=e,this.delegate=n,this.zone=o,this.animationType=a,this.moduleImpl=s,this._rendererFactoryPromise=null,this.scheduler=y(oo,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-LCQLHIVJ.js").then(n=>n)).catch(n=>{throw new Zr(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:o})=>{this._engine=n(this.animationType,this.doc);let a=new o(this.delegate,this._engine,this.zone);return this.delegate=a,a})}createRenderer(e,n){let o=this.delegate.createRenderer(e,n);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let a=new $r(o);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let l=s.createRenderer(e,n);a.use(l),this.scheduler?.notify(9)}).catch(s=>{a.use(o)}),a}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};i.\u0275fac=function(n){ro()},i.\u0275prov=N({token:i,factory:i.\u0275fac});let r=i;return r})(),$r=class{constructor(i){this.delegate=i,this.replay=[],this.\u0275type=1}use(i){if(this.delegate=i,this.replay!==null){for(let t of this.replay)t(i);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(i,t){return this.delegate.createElement(i,t)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}get destroyNode(){return this.delegate.destroyNode}appendChild(i,t){this.delegate.appendChild(i,t)}insertBefore(i,t,e,n){this.delegate.insertBefore(i,t,e,n)}removeChild(i,t,e){this.delegate.removeChild(i,t,e)}selectRootElement(i,t){return this.delegate.selectRootElement(i,t)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,t,e,n){this.delegate.setAttribute(i,t,e,n)}removeAttribute(i,t,e){this.delegate.removeAttribute(i,t,e)}addClass(i,t){this.delegate.addClass(i,t)}removeClass(i,t){this.delegate.removeClass(i,t)}setStyle(i,t,e,n){this.delegate.setStyle(i,t,e,n)}removeStyle(i,t,e){this.delegate.removeStyle(i,t,e)}setProperty(i,t,e){this.shouldReplay(t)&&this.replay.push(n=>n.setProperty(i,t,e)),this.delegate.setProperty(i,t,e)}setValue(i,t){this.delegate.setValue(i,t)}listen(i,t,e){return this.shouldReplay(t)&&this.replay.push(n=>n.listen(i,t,e)),this.delegate.listen(i,t,e)}shouldReplay(i){return this.replay!==null&&i.startsWith(gd)}};function Ns(r="animations"){return so("NgAsyncAnimations"),Xr([{provide:ao,useFactory:(i,t,e)=>new _d(i,t,e,r),deps:[Oe,Mo,J]},{provide:Li,useValue:r==="noop"?"NoopAnimations":"BrowserAnimations"}])}var $s=Ui({passive:!0}),Us=(()=>{let i=class i{constructor(e,n){this._platform=e,this._ngZone=n,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Hr;let n=nr(e),o=this._monitoredElements.get(n);if(o)return o.subject;let a=new L,s="cdk-text-field-autofilled",l=c=>{c.animationName==="cdk-text-field-autofill-start"&&!n.classList.contains(s)?(n.classList.add(s),this._ngZone.run(()=>a.next({target:c.target,isAutofilled:!0}))):c.animationName==="cdk-text-field-autofill-end"&&n.classList.contains(s)&&(n.classList.remove(s),this._ngZone.run(()=>a.next({target:c.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",l,$s),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:a,unlisten:()=>{n.removeEventListener("animationstart",l,$s)}}),a}stopMonitoring(e){let n=nr(e),o=this._monitoredElements.get(n);o&&(o.unlisten(),o.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((e,n)=>this.stopMonitoring(n))}};i.\u0275fac=function(n){return new(n||i)(re(et),re(J))},i.\u0275prov=N({token:i,factory:i.\u0275fac,providedIn:"root"});let r=i;return r})();var Vs=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=ge({type:i}),i.\u0275inj=fe({});let r=i;return r})();var bd=new te("MAT_INPUT_VALUE_ACCESSOR"),yd=["button","checkbox","file","hidden","image","radio","range","reset","submit"],wd=0,Hs=(()=>{let i=class i{get disabled(){return this._disabled}set disabled(e){this._disabled=Ae(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(st.required)??!1}set required(e){this._required=Ae(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&ir().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Ae(e)}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,n,o,a,s,l,c,d,h,b){this._elementRef=e,this._platform=n,this.ngControl=o,this._autofillMonitor=d,this._ngZone=h,this._formField=b,this._uid=`mat-input-${wd++}`,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new L,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(A=>ir().has(A)),this._iOSKeyupListener=A=>{let E=A.target;!E.value&&E.selectionStart===0&&E.selectionEnd===0&&(E.setSelectionRange(1,1),E.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};let f=this._elementRef.nativeElement,I=f.nodeName.toLowerCase();this._inputValueAccessor=c||f,this._previousNativeValue=this.value,this.id=this.id,n.IOS&&h.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Bo(l,o,s,a,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=I==="select",this._isTextarea=I==="textarea",this._isInFormField=!!b,this._isNativeSelect&&(this.controlType=f.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let n=this._elementRef.nativeElement;this._previousPlaceholder=e,e?n.setAttribute("placeholder",e):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){yd.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,n=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&n&&n.label)}else return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&this._type!=="number"&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}};i.\u0275fac=function(n){return new(n||i)(_(q),_(et),_(ra,10),_(on,8),_(sn,8),_(No),_(bd,10),_(Us),_(J),_(la,8))},i.\u0275dir=ce({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(n,o){n&1&&k("focus",function(){return o._focusChanged(!0)})("blur",function(){return o._focusChanged(!1)})("input",function(){return o._onInput()}),n&2&&(po("id",o.id)("disabled",o.disabled)("required",o.required),de("name",o.name||null)("readonly",o.readonly&&!o._isNativeSelect||null)("aria-invalid",o.empty&&o.required?null:o.errorState)("aria-required",o.required)("id",o.id),_e("mat-input-server",o._isServer)("mat-mdc-form-field-textarea-control",o._isInFormField&&o._isTextarea)("mat-mdc-form-field-input-control",o._isInFormField)("mdc-text-field__input",o._isInFormField)("mat-mdc-native-select-inline",o._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[ve([{provide:sa,useExisting:i}]),eo]});let r=i;return r})(),qn=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=ge({type:i}),i.\u0275inj=fe({imports:[he,Ke,Ke,Vs,he]});let r=i;return r})();var Kn=()=>{let r=typeof window<"u"?window:void 0;return r&&r.tinymce?r.tinymce:null},Cd=(()=>{class r{onBeforePaste=new v;onBlur=new v;onClick=new v;onCompositionEnd=new v;onCompositionStart=new v;onCompositionUpdate=new v;onContextMenu=new v;onCopy=new v;onCut=new v;onDblclick=new v;onDrag=new v;onDragDrop=new v;onDragEnd=new v;onDragGesture=new v;onDragOver=new v;onDrop=new v;onFocus=new v;onFocusIn=new v;onFocusOut=new v;onKeyDown=new v;onKeyPress=new v;onKeyUp=new v;onMouseDown=new v;onMouseEnter=new v;onMouseLeave=new v;onMouseMove=new v;onMouseOut=new v;onMouseOver=new v;onMouseUp=new v;onPaste=new v;onSelectionChange=new v;onActivate=new v;onAddUndo=new v;onBeforeAddUndo=new v;onBeforeExecCommand=new v;onBeforeGetContent=new v;onBeforeRenderUI=new v;onBeforeSetContent=new v;onChange=new v;onClearUndos=new v;onDeactivate=new v;onDirty=new v;onExecCommand=new v;onGetContent=new v;onHide=new v;onInit=new v;onInput=new v;onInitNgModel=new v;onLoadContent=new v;onNodeChange=new v;onPostProcess=new v;onPostRender=new v;onPreInit=new v;onPreProcess=new v;onProgressState=new v;onRedo=new v;onRemove=new v;onReset=new v;onResizeEditor=new v;onSaveContent=new v;onSetAttrib=new v;onObjectResizeStart=new v;onObjectResized=new v;onObjectSelected=new v;onSetContent=new v;onShow=new v;onSubmit=new v;onUndo=new v;onVisualAid=new v;static \u0275fac=function(e){return new(e||r)};static \u0275dir=ce({type:r,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onCompositionEnd:"onCompositionEnd",onCompositionStart:"onCompositionStart",onCompositionUpdate:"onCompositionUpdate",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInput:"onInput",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}})}return r})(),zs=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onCompositionEnd","onCompositionStart","onCompositionUpdate","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],Wn=(r,i,t)=>Ot(r,i).pipe(z(t)),Sd=(r,i,t)=>{kd(r).forEach(n=>{let o=r[n];Wn(i,n.substring(2),t).subscribe(a=>{Id(o)&&r.ngZone.run(()=>o.emit({event:a,editor:i}))})})},kd=r=>{let i=Gs(r.ignoreEvents,[]);return Gs(r.allowedEvents,zs).filter(e=>zs.includes(e)&&!i.includes(e))},Gs=(r,i)=>typeof r=="string"?r.split(",").map(t=>t.trim()):Array.isArray(r)?r:i,qs=0,Td=r=>{let t=new Date().getTime(),e=Math.floor(Math.random()*1e9);return qs++,r+"_"+e+qs+String(t)},Ks=r=>typeof r<"u"&&r.tagName.toLowerCase()==="textarea",Ws=r=>typeof r>"u"||r===""?[]:Array.isArray(r)?r:r.split(" "),Ed=(r,i)=>Ws(r).concat(Ws(i)),Md=()=>{},Qs=r=>r==null,Id=r=>r.observed||r.observers?.length>0,Ad=()=>r=>r.pipe(Kr(),He(()=>{})),Rd=()=>{let r=new ji(null),i=r.pipe(ne(Boolean),ai(([t,e])=>{let n=t.createElement("script");return n.referrerPolicy="origin",n.type="application/javascript",n.src=e,t.head.appendChild(n),Ot(n,"load").pipe(Ad())}),Jr({bufferSize:1,refCount:!0}));return{load:(...t)=>(r.getValue()||r.next(t),i),reinitialize:()=>{r.next(null)}}},Dd=Rd(),Od=new te("TINYMCE_SCRIPT_SRC"),Pd={provide:ia,useExisting:jt(()=>Ur),multi:!0},Ur=(()=>{class r extends Cd{cdRef;platformId;tinymceScriptSrc;cloudChannel="7";apiKey="no-api-key";licenseKey;init;id="";initialValue;outputFormat;inline;tagName;plugins;toolbar;modelEvents="change input undo redo";allowedEvents;ignoreEvents;set disabled(t){this._disabled=t,this._editor&&this._editor.initialized&&(typeof this._editor.mode?.set=="function"?this._editor.mode.set(t?"readonly":"design"):this._editor.setMode(t?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}ngZone;_elementRef;_element;_disabled;_editor;onTouchedCallback=Md;onChangeCallback;destroy$=new L;constructor(t,e,n,o,a){super(),this.cdRef=n,this.platformId=o,this.tinymceScriptSrc=a,this._elementRef=t,this.ngZone=e}writeValue(t){this._editor&&this._editor.initialized?this._editor.setContent(Qs(t)?"":t):this.initialValue=t===null?void 0:t}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}setDisabledState(t){this.disabled=t}ngAfterViewInit(){So(this.platformId)&&(this.id=this.id||Td("tiny-angular"),this.inline=this.inline!==void 0?this.inline!==!1:!!this.init?.inline,this.createElement(),Kn()!==null?this.initialise():this._element&&this._element.ownerDocument&&Dd.load(this._element.ownerDocument,this.getScriptSrc()).pipe(z(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),Kn()!==null&&Kn().remove(this._editor)}createElement(){let t=typeof this.tagName=="string"?this.tagName:"div";if(this._element=document.createElement(this.inline?t:"textarea"),this._element){let e=document.getElementById(this.id);e&&e!==this._elementRef.nativeElement&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,Ks(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element)}}initialise=()=>{let t=Dt(Q({},this.init),{selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,license_key:this.licenseKey,plugins:Ed(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:e=>{this._editor=e,Wn(e,"init",this.destroy$).subscribe(()=>{this.initEditor(e)}),Sd(this,e,this.destroy$),this.init&&typeof this.init.setup=="function"&&this.init.setup(e)}});Ks(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{Kn().init(t)})};getScriptSrc(){return Qs(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(t){Wn(t,"blur",this.destroy$).subscribe(()=>{this.cdRef.markForCheck(),this.ngZone.run(()=>this.onTouchedCallback())}),Wn(t,this.modelEvents,this.destroy$).subscribe(()=>{this.cdRef.markForCheck(),this.ngZone.run(()=>this.emitOnChange(t))}),typeof this.initialValue=="string"&&this.ngZone.run(()=>{t.setContent(this.initialValue),t.getContent()!==this.initialValue&&this.emitOnChange(t),this.onInitNgModel!==void 0&&this.onInitNgModel.emit(t)})}emitOnChange(t){this.onChangeCallback&&this.onChangeCallback(t.getContent({format:this.outputFormat}))}static \u0275fac=function(e){return new(e||r)(_(q),_(J),_(K),_(no),_(Od,8))};static \u0275cmp=S({type:r,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",licenseKey:"licenseKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},standalone:!0,features:[ve([Pd]),Ge,T],decls:0,vars:0,template:function(e,n){},dependencies:[H,lt],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return r})();var ri=(()=>{class r{_supabaseService=y(pt);_supabaseAuthService=y(Ne);supabase=this._supabaseService.supabaseClient;constructor(){}post(t){return t.user_id=this._supabaseAuthService.user()?.id,this.supabase.from("articles").upsert(t).select("*,profiles(*)")}put(t,e){return this.supabase.from("articles").update(e).eq("id",t).select("*,profiles(*)")}delete(t){return this.supabase.from("articles").delete().eq("id",t)}get(t){return this.supabase.from("articles").select("*,profiles(*)").eq("id",t)}getAll(){return this.supabase.from("articles").select("*,profiles(*)")}static \u0275fac=function(e){return new(e||r)};static \u0275prov=N({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var jd=["editor"],Fd=(r,i)=>({"opacity-100":r,"opacity-0":i}),Ld=(r,i)=>({"opacity-50":r,"opacity-0":i}),Bd=r=>({"opacity-0":r});function Nd(r,i){if(r&1&&(m(0,"div",18)(1,"span",19),x(2),p(),m(3,"div",20)(4,"div",21)(5,"span"),x(6),p(),x(7," ~ "),m(8,"span"),x(9),Ye(10,"date"),p()()()()),r&2){let t,e=C(2);g(2),go(" ",e.title==null?null:e.title.value," ",e.articleForm.dirty?"*":""," "),g(4),oe((t=e.article.profiles==null?null:e.article.profiles.full_name)!==null&&t!==void 0?t:e.article.profiles==null?null:e.article.profiles.email),g(3),ee(" ",Ut(10,4,e.article.inserted_at,"longDate")," ")}}function $d(r,i){if(r&1&&(m(0,"div",22)(1,"span",23),x(2," * "),p(),m(3,"span",24),x(4),p()()),r&2){let t,e=C(2);g(),w("ngClass",tr(2,Ld,e.articleForm.dirty,e.articleForm.pristine)),g(3),ee(" ",(t=e.title==null||e.title.value==null?null:e.title.value.length)!==null&&t!==void 0?t:0," / 100 ")}}function Ud(r,i){if(r&1&&O(0,"editor",25),r&2){let t=C(2);w("ngClass",Je(3,Bd,!t.editorInitialized))("apiKey",t.editorApiKey)("init",t.init)}}function Vd(r,i){if(r&1&&O(0,"div",26,1),r&2){let t=C(2);w("innerHTML",t.article.contentSafeHtml,Ft)}}function Hd(r,i){if(r&1){let t=B();m(0,"button",33),k("click",function(){P(t);let n=C(3);return j(n.onDelete())}),x(1," Delete "),p()}}function zd(r,i){if(r&1){let t=B();m(0,"button",34),k("click",function(){P(t);let n=C(3);return j(n.onRestore())}),x(1," Restore "),p()}if(r&2){let t=C(3);w("disabled",t.articleForm.pristine)}}function Gd(r,i){if(r&1){let t=B();m(0,"div",15)(1,"div",27),R(2,Hd,2,0,"button",28)(3,zd,2,1,"button",29),p(),m(4,"div",30)(5,"button",31),k("click",function(){P(t);let n=C(2);return j(n.toggleEdit())}),x(6," Preview "),p(),m(7,"button",32),x(8," Save "),p()()()}if(r&2){let t=C(2);g(2),w("ngIf",t.id),g(),w("ngIf",t.id),g(4),w("disabled",t.articleForm.pristine)}}function qd(r,i){if(r&1){let t=B();m(0,"div",35)(1,"button",31),k("click",function(){P(t);let n=C(2);return j(n.toggleEdit())}),x(2,"Edit"),p()()}}function Kd(r,i){if(r&1&&(m(0,"p",38),x(1),p()),r&2){let t=i.$implicit;g(),ee(" * ",t," ")}}function Wd(r,i){if(r&1&&(m(0,"div",36),R(1,Kd,2,1,"p",37),p()),r&2){let t=C(2);g(),w("ngForOf",t.errorMessages)}}function Qd(r,i){if(r&1){let t=B();m(0,"form",4),k("ngSubmit",function(){P(t);let n=C();return j(n.onSubmit())}),m(1,"mat-card-header")(2,"mat-card-title")(3,"div",5)(4,"button",6),k("click",function(){P(t);let n=C();return j(n.back())}),m(5,"mat-icon"),x(6,"arrow_back"),p(),m(7,"span",7),x(8,"back"),p()(),m(9,"textarea",8,0),x(11,"            "),p(),R(12,Nd,11,7,"div",9)(13,$d,5,5,"div",10),p()()(),m(14,"div",11),R(15,Ud,1,5,"editor",12)(16,Vd,2,1,"div",13),m(17,"span",14),x(18),p(),R(19,Gd,9,3,"div",15),p(),m(20,"div"),R(21,qd,3,0,"div",16)(22,Wd,2,1,"div",17),p()()}if(r&2){let t,e,n,o=C();w("formGroup",o.articleForm),g(9),w("appTogglablePlaceholder","Title")("maxLength",100)("hidden",!o.enableEditing),g(3),w("ngIf",!o.enableEditing),g(),w("ngIf",o.enableEditing),g(2),w("ngIf",o.enableEditing),g(),w("ngIf",!o.enableEditing),g(),w("ngClass",tr(13,Fd,o.enableEditing,!o.enableEditing)),g(),ee(" ",(t=o.content==null||o.content.value==null?null:o.content.value.length)!==null&&t!==void 0?t:0," / 2048 "),g(),G(o.enableEditing?19:-1),g(2),w("ngIf",!o.enableEditing&&(!o.id||o.supabaseAuthService.user()&&(o.article.profiles==null?null:o.article.profiles.email)===((e=o.supabaseAuthService.user())==null?null:e.email))),g(),w("ngIf",(n=o.articleForm.get("title"))==null?null:n.invalid)}}var Vr=(()=>{class r{editor;articleService=y(ri);route=y(Wi);formBuilder=y(ln);matDialog=y(Gt);router=y(it);snackBar=y(Gn);sanitizer=y(Xe);cdRef=y(K);supabaseAuthService=y(Ne);get article(){return this._article}set article(t){this.sanitizeHtml(t),this._article=t}_article={};enableEditing=!1;editorInitialized=!1;articleForm;init={plugins:"lists link image table code wordcount",navbar:!1,statusbar:!1,setup:t=>{t.on("init",()=>{setTimeout(()=>{this.editorInitialized=!0,this.cdRef.detectChanges()},250)})}};editorApiKey=It.tinyMicApiKeys;errorMessages=[];id=+this.route.snapshot.params.id;get content(){return this.articleForm.get("content")}get title(){return this.articleForm.get("title")}ngOnInit(){this.enableEditing=this.route.snapshot.url.toString().includes("edit")||this.route.snapshot.url.toString().includes("new"),this.id=+this.route.snapshot.params.id,this.getArticle(!0)}initializeData(){return u(this,null,function*(){})}back(t=!1){return u(this,null,function*(){this.articleForm.dirty&&!t&&!(yield this.matDialog.open(Fe,{data:{title:"Unsaved changes",text:"Are you sure you want to leave this page?",confirmText:"Leave"}}).afterClosed().toPromise())||this.router.navigate(["/blog"])})}createForm(t={}){this.articleForm=this.formBuilder.group({title:[t?.title,st.required],content:[t?.content,st.required]})}getArticle(t=!1){return u(this,null,function*(){if(!this.id){this.createForm();return}let e=(yield this.articleService.get(this.id)).data?.[0];e&&(this.article=e??{},t&&this.createForm(e))})}sanitizeHtml(t){t.contentSafeHtml=this.sanitizer.bypassSecurityTrustHtml(t.content||"")}onDelete(){return u(this,null,function*(){(yield this.matDialog.open(Fe).afterClosed().toPromise())&&(yield this.articleService.delete(this.id),this.openSnackBar("Article deleted"),this.back(!0))})}onRestore(){return u(this,null,function*(){(yield this.matDialog.open(Fe,{data:{title:"Restore article",text:"Are you sure you want to restore this article?",confirmText:"Restore"}}).afterClosed().toPromise())&&(yield this.getArticle(!0),this.openSnackBar("Article restored"))})}openSnackBar(t){this.snackBar.open(t,"")}onSubmit(){return u(this,null,function*(){this.errorMessages=[],this.articleForm.get("title")?.patchValue(this.title?.value?.trim()),this.articleForm.get("content")?.patchValue(this.content?.value?.trim());let t=this.articleForm.errors;if(t&&(this.errorMessages=Object.keys(t).map(e=>t[e])),!this.articleForm.invalid){if(this.article.title=this.title?.value,this.article.content=this.content?.value,this.id)yield this.articleService.put(this.id,this.articleForm.value),this.openSnackBar("Article saved");else{let e=yield this.articleService.post(this.articleForm.value);e&&(this.id=e.data?.[0].id),this.router.navigate(["/blog/"+this.id+"/edit"]),this.openSnackBar("Article created")}this.articleForm.reset(this.articleForm.value)}})}toggleEdit(){this.articleForm.dirty&&(this.article=Q(Q({},this.articleForm.value),this.article)),this.enableEditing=!this.enableEditing}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=S({type:r,selectors:[["app-blog-article"]],viewQuery:function(e,n){if(e&1&&Z(jd,5),e&2){let o;$(o=U())&&(n.editor=o.first)}},standalone:!0,features:[T],decls:3,vars:2,consts:[["input",""],["editor",""],[1,"h-full",3,"appearance"],["class","flex flex-col h-full",3,"formGroup","ngSubmit",4,"ngIf"],[1,"flex","flex-col","h-full",3,"ngSubmit","formGroup"],[1,"flex","sm:flex-row","sm:items-center","items-start","flex-col","justify-between","flex-wrap"],["type","button","mat-icon-button","",1,"xs:mb-0","mb-2",3,"click"],[1,"sm:","hidden"],["type","text","matInput","","formControlName","title",1,"page-title","post-input","self-center","text-center","flex-1","text-3xl","font-light",3,"appTogglablePlaceholder","maxLength","hidden"],["class","flex-col flex-1 w-full",4,"ngIf"],["class","flex flex-col text-end items-end justify-between",4,"ngIf"],[1,"grow"],["formControlName","content",3,"ngClass","apiKey","init",4,"ngIf"],["class","content-text grow",3,"innerHTML",4,"ngIf"],[1,"self-end","text-xs","text-end","block","mb-6",3,"ngClass"],[1,"flex","sm:flex-row","flex-col-reverse","justify-between","gap-4","pt-4"],["class","flex justify-end pt-4",4,"ngIf"],["class","flex flex-col items-end justify-end pt-4",4,"ngIf"],[1,"flex-col","flex-1","w-full"],[1,"flex","page-title","justify-center","text-3xl","font-light"],[1,"flex","justify-end"],[1,"flex","gap-1","justify-end","items-center","text-xs","font-light"],[1,"flex","flex-col","text-end","items-end","justify-between"],[3,"ngClass"],[1,"self-end","text-xs","opacity-50"],["formControlName","content",3,"ngClass","apiKey","init"],[1,"content-text","grow",3,"innerHTML"],[1,"flex","sm:flex-row","flex-col-reverse","justify-start","gap-4"],["color","warn","mat-button","","type","button",3,"click",4,"ngIf"],["mat-button","","type","button",3,"disabled","click",4,"ngIf"],[1,"flex","sm:flex-row","flex-col-reverse","justify-end","gap-4"],["mat-button","","type","button",3,"click"],["mat-flat-button","",3,"disabled"],["color","warn","mat-button","","type","button",3,"click"],["mat-button","","type","button",3,"click","disabled"],[1,"flex","justify-end","pt-4"],[1,"flex","flex-col","items-end","justify-end","pt-4"],["class","color-error",4,"ngFor","ngForOf"],[1,"color-error"]],template:function(e,n){e&1&&(m(0,"mat-card",2)(1,"mat-card-content"),R(2,Qd,23,16,"form",3),p()()),e&2&&(w("appearance","outlined"),g(2),w("ngIf",n.articleForm&&n.article))},dependencies:[Ke,lt,an,na,oa,rn,W,nt,Pe,ie,ae,qn,Hs,cn,sn,aa,H,$i,xo,Ze,Vt,at,rt,ot,en,Xi,Fs,je,be,Ur]})}return r})();var Jd=(r,i)=>i.id,Js=r=>["/blog",r],Yd=r=>["/blog",r,"edit"];function Zd(r,i){r&1&&(m(0,"mat-icon"),x(1,"add"),p())}function Xd(r,i){r&1&&(m(0,"span"),x(1,"New article"),p())}function eu(r,i){r&1&&(m(0,"span"),x(1,"Login to write an article"),p())}function tu(r,i){if(r&1&&(m(0,"a",13),x(1," Read more... "),p()),r&2){let t=C().$implicit;w("routerLink",Je(1,Js,t.id))}}function iu(r,i){if(r&1&&(m(0,"div",14)(1,"a",15),x(2," Edit "),p()()),r&2){let t=C().$implicit;g(),w("routerLink",Je(1,Yd,t.id))}}function nu(r,i){if(r&1&&(m(0,"mat-card-content",6)(1,"mat-card-header")(2,"mat-card-title",7)(3,"span"),x(4),p()()(),m(5,"div",8)(6,"span"),x(7),p(),x(8," ~ "),m(9,"span"),x(10),Ye(11,"date"),p()(),O(12,"div",9),R(13,tu,2,3,"a",10)(14,iu,3,3,"div",11),p(),O(15,"div",12)),r&2){let t,e,n=i.$implicit,o=C();g(2),w("routerLink",Je(10,Js,n.id)),g(2),oe(n.title),g(3),oe((t=n.profiles==null?null:n.profiles.full_name)!==null&&t!==void 0?t:n.profiles==null?null:n.profiles.email),g(3),ee(" ",Ut(11,7,n.inserted_at,"longDate")," "),g(2),w("innerHTML",n.contentSafeHtmlPreview,Ft),g(),w("ngIf",(n.content==null?null:n.content.length)>500),g(),w("ngIf",o.supabaseAuthService.user()&&(n.profiles==null?null:n.profiles.email)===((e=o.supabaseAuthService.user())==null?null:e.email))}}var Ys=(()=>{class r{blogService=y(ri);sanitizer=y(Xe);supabaseAuthService=y(Ne);articles=[];loaded=!1;ngOnInit(){this.getAllArticles()}getAllArticles(){return u(this,null,function*(){let t=(yield this.blogService.getAll()).data;t?.forEach(e=>{e.contentSafeHtmlPreview=this.sanitizer.bypassSecurityTrustHtml(e.content||"")}),this.articles=t?.sort((e,n)=>e.updated_at>n.updated_at?-1:1)||[],this.loaded=!0})}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=S({type:r,selectors:[["app-blog-article-list"]],standalone:!0,features:[T],decls:11,vars:4,consts:[[1,"flex","flex-col"],[1,"flex","flex-col","items-center","pt-4","gap-12"],[1,"flex","justify-end","mb-6","w-full"],["color","tertiary","routerLink","new","mat-button","",3,"disabled"],[4,"ngIf"],["appearance","outlined"],[1,"mb-4"],["mat-button","",1,"cursor-pointer","hover:underline",3,"routerLink"],[1,"flex","gap-1","justify-start","mt-2","items-center","text-xs","font-light"],[1,"content-text","mt-8","mb-4",3,"innerHTML"],["routerLinkActive","item-selected","class","hover:underline color-primary pt-8",3,"routerLink",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[1,"outline-dashed","outline-1","outline-primary-container","z-10"],["routerLinkActive","item-selected",1,"hover:underline","color-primary","pt-8",3,"routerLink"],[1,"flex","justify-end"],["routerLinkActive","item-selected","mat-button","",3,"routerLink"]],template:function(e,n){e&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),R(4,Zd,2,0,"mat-icon",4)(5,Xd,2,0,"span",4)(6,eu,2,0,"span",4),p()()(),m(7,"div",0)(8,"mat-card",5),Bt(9,nu,16,12,null,null,Jd),p()()()),e&2&&(g(3),w("disabled",!n.supabaseAuthService.user()),g(),w("ngIf",n.supabaseAuthService.user()),g(),w("ngIf",n.supabaseAuthService.user()),g(),w("ngIf",!n.supabaseAuthService.user()),g(3),Nt(n.articles))},dependencies:[at,rt,ot,en,Xi,H,Ze,Vt,W,Ht,be,Qi,Ji,ie,ae],styles:["mat-card-header[_ngcontent-%COMP%]{border:0px!important}.no-underline[_ngcontent-%COMP%]{text-decoration-line:none!important}.content-text[_ngcontent-%COMP%]{line-height:1.6em;height:8em;overflow:hidden}"]})}return r})();var ru=["editor"],Zs=(()=>{class r{editor;articleService=y(ri);route=y(Wi);formBuilder=y(ln);matDialog=y(Gt);router=y(it);snackBar=y(Gn);sanitizer=y(Xe);cdRef=y(K);supabaseAuthService=y(Ne);get article(){return this._article}set article(t){this.sanitizeHtml(t),this._article=t}_article={};editorInitialized=!1;articleForm;init={plugins:"lists link image table code wordcount",navbar:!1,statusbar:!1,setup:t=>{t.on("init",()=>{setTimeout(()=>{this.editorInitialized=!0,this.cdRef.detectChanges()},250)})}};editorApiKey=It.tinyMicApiKeys;errorMessages=[];id=+this.route.snapshot.params.id;get content(){return this.articleForm.get("content")}get title(){return this.articleForm.get("title")}ngOnInit(){this.id=+this.route.snapshot.params.id,this.getArticle(!0)}initializeData(){return u(this,null,function*(){})}back(t=!1){return u(this,null,function*(){this.articleForm.dirty&&!t&&!(yield this.matDialog.open(Fe,{data:{title:"Unsaved changes",text:"Are you sure you want to leave this page?",confirmText:"Leave"}}).afterClosed().toPromise())||this.router.navigate(["/blog"])})}createForm(t={}){this.articleForm=this.formBuilder.group({title:[t?.title,st.required],content:[t?.content,st.required]})}getArticle(t=!1){return u(this,null,function*(){if(!this.id){this.createForm();return}let e=(yield this.articleService.get(this.id)).data?.[0];e&&(this.article=e??{},t&&this.createForm(e))})}sanitizeHtml(t){t.contentSafeHtml=this.sanitizer.bypassSecurityTrustHtml(t.content||"")}onDelete(){return u(this,null,function*(){(yield this.matDialog.open(Fe).afterClosed().toPromise())&&(yield this.articleService.delete(this.id),this.openSnackBar("Article deleted"),this.back(!0))})}onRestore(){return u(this,null,function*(){(yield this.matDialog.open(Fe,{data:{title:"Restore article",text:"Are you sure you want to restore this article?",confirmText:"Restore"}}).afterClosed().toPromise())&&(yield this.getArticle(!0),this.openSnackBar("Article restored"))})}openSnackBar(t){this.snackBar.open(t,"")}onSubmit(){return u(this,null,function*(){this.errorMessages=[],this.articleForm.get("title")?.patchValue(this.title?.value?.trim()),this.articleForm.get("content")?.patchValue(this.content?.value?.trim());let t=this.articleForm.errors;if(t&&(this.errorMessages=Object.keys(t).map(e=>t[e])),!this.articleForm.invalid){if(this.article.title=this.title?.value,this.article.content=this.content?.value,this.id)yield this.articleService.put(this.id,this.articleForm.value),this.openSnackBar("Article saved");else{let e=yield this.articleService.post(this.articleForm.value);e&&(this.id=e.data?.[0].id),this.router.navigate(["/blog/"+this.id+"/edit"]),this.openSnackBar("Article created")}this.articleForm.reset(this.articleForm.value)}})}toggleEdit(){this.articleForm.dirty&&(this.article=Q(Q({},this.articleForm.value),this.article))}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=S({type:r,selectors:[["app-blog-article"]],viewQuery:function(e,n){if(e&1&&Z(ru,5),e&2){let o;$(o=U())&&(n.editor=o.first)}},standalone:!0,features:[T],decls:14,vars:9,consts:[[1,"h-full",3,"appearance"],[1,"flex","flex-col","justify-start","gap-4","mb-16","w-full"],[1,"flex","page-title","justify-start"],[1,"flex","flex-row","items","gap-2","items-center","text-ellipsis"],[1,"rounded-full","w-16","mat-elevation-z2",3,"src"],[1,"flex","flex-col"],[1,"font-light","text-sm"],[1,"content-text",3,"innerHTML"]],template:function(e,n){if(e&1&&(m(0,"mat-card",0)(1,"mat-card-content")(2,"div",1)(3,"h1",2),x(4),p(),m(5,"div",3),O(6,"img",4),m(7,"div",5)(8,"span"),x(9),p(),m(10,"span",6),x(11),Ye(12,"date"),p()()()(),O(13,"div",7),p()()),e&2){let o;w("appearance","outlined"),g(4),ee(" ",n.article.title," "),g(2),w("src",n.article.profiles==null?null:n.article.profiles.avatar_url,si),g(3),oe((o=n.article.profiles==null?null:n.article.profiles.full_name)!==null&&o!==void 0?o:n.article.profiles==null?null:n.article.profiles.email),g(2),ee(" ",Ut(12,6,n.article.inserted_at,"longDate")," "),g(2),w("innerHTML",n.article.contentSafeHtml,Ft)}},dependencies:[Ke,lt,W,ie,qn,cn,H,Vt,at,rt,ot,je,be],styles:["mat-card-content[_ngcontent-%COMP%]{padding-bottom:0!important}mat-card-header[_ngcontent-%COMP%]{border:0px!important}"]})}return r})();var Xs=[{path:"",redirectTo:"about",pathMatch:"full"},{path:"resume",loadComponent:()=>import("./chunk-QKPN5GHQ.js").then(r=>r.ResumeComponent),pathMatch:"full"},{path:"about",loadComponent:()=>import("./chunk-FMA5EQO6.js").then(r=>r.AboutComponent),pathMatch:"full"},{path:"blog",loadComponent:()=>import("./chunk-O7VUWHHB.js").then(r=>r.BlogComponent),children:[{path:"",component:Ys},{path:"new",component:Vr},{path:":id/edit",component:Vr},{path:":id",component:Zs},{path:"**",redirectTo:""}]},{path:"heart-love",loadComponent:()=>import("./chunk-QI3JRQOE.js").then(r=>r.HeartLoveComponent),pathMatch:"full"},{path:"**",redirectTo:"about",pathMatch:"full"}];var el=(()=>{class r{http=y(ko);getTranslation(t){return this.http.get(`/assets/i18n/${t}.json`)}static \u0275fac=function(e){return new(e||r)};static \u0275prov=N({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var tl=["en","es"],il={providers:[Go({config:{availableLangs:tl,defaultLang:"en",reRenderOnLangChange:!0,prodMode:!yo()},loader:el}),bo({eventCoalescing:!0}),Ho(Xs),Ao(),To(Eo()),Ns(),{provide:vo,useFactory:(r,i,t,e)=>()=>u(void 0,null,function*(){e.initializeSupabase(),tl.forEach(n=>t.load(n).subscribe()),r.initializeTranslation(),i.initializeTheme()}),deps:[zn,Hn,Yi,pt],multi:!0},{provide:Nr,useValue:{duration:2e3}}]};Io(Ls,il).catch(r=>console.error(r));
