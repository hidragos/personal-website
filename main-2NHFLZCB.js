import{a as Rn,b as me}from"./chunk-6Q5S2C2N.js";import"./chunk-DIBWM2VE.js";import"./chunk-Y53NEXKW.js";import{A as kt,B as j,C as bn,D as Cn,E as wn,F as xn,G as Sn,H as In,I as An,J as kn,K as le,L as En,M as Mn,N as Tn,O as Fn,P as de,Q as pe,R as On,S as Dn,a as $i,b as on,c as an,d as rn,e as cn,f as ie,g as sn,h as ne,i as ut,j as oe,k as ln,l as dn,m as pn,n as mn,o as hn,p as un,q as _n,r as gn,s as fn,t as ae,v as vn,w as yn,x as re,y as ce,z as se}from"./chunk-646TYEBQ.js";import"./chunk-X5YLR3NI.js";import{$ as it,B as Pi,D as et,F as Bi,G as Li,I as Vi,K as ji,L as Ni,M as zi,N as Xt,O as Hi,P as qi,Q as Ae,R as Qi,S as St,V as Zt,X as It,Z as Wi,_ as At,aa as Gi,ba as nt,d as Ci,da as Ki,ea as Ui,fa as ot,ga as te,h as wi,ha as at,i as Ut,ia as Ji,ja as ee,ka as rt,l as xi,m as Si,ma as tn,n as Ii,o as $t,q as Fi,qa as en,r as Oi,s as Ie,t as Yt,ta as Pt,u as Di,ua as nn,v as Ri}from"./chunk-RQO3APZL.js";import{c as Yi,d as Jt,e as Xi,g as Rt,h as Zi,i as ke}from"./chunk-2J4O7ELU.js";import{a as Ai,b as xt,c as ki,d as J,e as Ei,f as Mi,g as Ti,h as tt}from"./chunk-MKT6AYFA.js";import{a as _i,b as gi,c as fi,d as vi,e as yi,g as Z,h as bi}from"./chunk-LUYJJVFE.js";import{d as wt,f as hi,h as ui,k as Wt,l as Gt,m as X,p as Kt,r as E}from"./chunk-F6VEFF7R.js";import{Aa as D,Ab as Ft,Ba as yt,Bb as R,Bc as mi,Cb as qt,Cc as Y,D as Ce,Da as Q,Db as pt,Ea as Ue,Eb as mt,F as qe,Fb as r,Gb as s,Hb as b,Hc as T,Ib as G,Ic as Se,Ja as zt,Jb as K,Kb as S,Lb as oi,Pb as f,R as _t,Rb as d,S as gt,Sb as Ot,T as Et,Tb as ht,U as Qe,Ub as xe,W as We,Wa as $e,Wb as P,Xa as dt,Xb as V,Y as we,Yb as I,Z as L,Za as Ye,Zb as A,_ as ft,a as Lt,aa as z,ab as c,ac as Dt,bb as _,bc as h,c as je,cb as Xe,cc as k,da as u,db as Ze,dc as C,eb as Je,ec as ai,f as lt,fc as ri,gb as ti,gc as ci,ha as w,hc as si,ia as vt,ib as ei,ic as U,ja as Mt,jc as x,k as Ne,kc as $,la as Ge,lb as Ht,lc as B,mb as ii,o as ze,oc as Ct,pc as li,qa as Tt,qb as ni,qc as Qt,ra as v,sa as y,sb as W,t as He,uc as di,v as Vt,va as Ke,vb as g,w as q,wb as H,x as jt,xa as Nt,xb as p,zb as bt,zc as pi}from"./chunk-TLNYMMAR.js";import{i as M}from"./chunk-ODN5LVDJ.js";var lo=["container"],Pn=(()=>{class n{matIconRegistry;domSanitizer;container;sidenavContainerService=u(Cn);router=u(J);navbarService=u(bn);scrollPersistenceService=u(En);routerSubscription;customIcons=["github","linkedin","stackoverflow","cow","heart","heart_fill"];constructor(e,t){this.matIconRegistry=e,this.domSanitizer=t,this.customIcons.forEach(i=>{this.matIconRegistry.addSvgIcon(i,this.domSanitizer.bypassSecurityTrustResourceUrl(`assets/images/${i}.svg`))})}get scrollKey(){return this.router.url}ngOnInit(){this.router.events.subscribe(e=>{if(e instanceof Ai&&this.container){let t=this.scrollPersistenceService.getScrollPosition(this.scrollKey);t!==null?this.container.nativeElement.scrollTop=t:this.container.nativeElement.scrollTop=0}}),this.matIconRegistry.setDefaultFontSetClass("material-symbols-outlined")}ngAfterViewInit(){this.container.nativeElement.addEventListener("scroll",()=>{let e=this.container.nativeElement.scrollTop;this.navbarService.setScrollTop(e)})}static \u0275fac=function(t){return new(t||n)(_(Wi),_(Z))};static \u0275cmp=w({type:n,selectors:[["app-root"]],viewQuery:function(t,i){if(t&1&&V(lo,5),t&2){let o;I(o=A())&&(i.container=o.first)}},standalone:!0,features:[U([]),x],decls:8,vars:0,consts:[["container",""],["appScrollToEnd","",1,"app-container","overflow-y-scroll","overflow-x-hidden","h-screen-dvh","flex","flex-col"],[1,"grow"]],template:function(t,i){t&1&&(r(0,"app-sidenav-container")(1,"div",1,0),b(3,"app-navbar"),r(4,"div",2)(5,"app-page-container"),b(6,"router-outlet"),s()(),b(7,"app-footer"),s()())},dependencies:[ki,An,$i,wn,E,le,Ii,Tn],styles:[".app-container[_ngcontent-%COMP%]{height:100dvh}#container[_ngcontent-%COMP%]{scroll-behavior:smooth}"]})}return n})();var po="@",mo=(()=>{let a=class a{constructor(t,i,o,l,m){this.doc=t,this.delegate=i,this.zone=o,this.animationType=l,this.moduleImpl=m,this._rendererFactoryPromise=null,this.scheduler=u(Je,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-GHOF7KRO.js").then(i=>i)).catch(i=>{throw new We(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:o})=>{this._engine=i(this.animationType,this.doc);let l=new o(this.delegate,this._engine,this.zone);return this.delegate=l,l})}createRenderer(t,i){let o=this.delegate.createRenderer(t,i);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let l=new Me(o);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(m=>{let st=m.createRenderer(t,i);l.use(st),this.scheduler?.notify(9)}).catch(m=>{l.use(o)}),l}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};a.\u0275fac=function(i){Xe()},a.\u0275prov=L({token:a,factory:a.\u0275fac});let n=a;return n})(),Me=class{constructor(a){this.delegate=a,this.replay=[],this.\u0275type=1}use(a){if(this.delegate=a,this.replay!==null){for(let e of this.replay)e(a);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(a,e){return this.delegate.createElement(a,e)}createComment(a){return this.delegate.createComment(a)}createText(a){return this.delegate.createText(a)}get destroyNode(){return this.delegate.destroyNode}appendChild(a,e){this.delegate.appendChild(a,e)}insertBefore(a,e,t,i){this.delegate.insertBefore(a,e,t,i)}removeChild(a,e,t){this.delegate.removeChild(a,e,t)}selectRootElement(a,e){return this.delegate.selectRootElement(a,e)}parentNode(a){return this.delegate.parentNode(a)}nextSibling(a){return this.delegate.nextSibling(a)}setAttribute(a,e,t,i){this.delegate.setAttribute(a,e,t,i)}removeAttribute(a,e,t){this.delegate.removeAttribute(a,e,t)}addClass(a,e){this.delegate.addClass(a,e)}removeClass(a,e){this.delegate.removeClass(a,e)}setStyle(a,e,t,i){this.delegate.setStyle(a,e,t,i)}removeStyle(a,e,t){this.delegate.removeStyle(a,e,t)}setProperty(a,e,t){this.shouldReplay(e)&&this.replay.push(i=>i.setProperty(a,e,t)),this.delegate.setProperty(a,e,t)}setValue(a,e){this.delegate.setValue(a,e)}listen(a,e,t){return this.shouldReplay(e)&&this.replay.push(i=>i.listen(a,e,t)),this.delegate.listen(a,e,t)}shouldReplay(a){return this.replay!==null&&a.startsWith(po)}};function Bn(n="animations"){return ei("NgAsyncAnimations"),Ge([{provide:ti,useFactory:(a,e,t)=>new mo(a,e,t,n),deps:[wt,vi,yt]},{provide:zt,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var go=["panel"],fo=["*"];function vo(n,a){if(n&1){let e=S();r(0,"div",1,0),f("@panelAnimation.done",function(i){v(e);let o=d();return y(o._animationDone.next(i))}),ht(2),s()}if(n&2){let e=a.id,t=d();Ft(t._classList),bt("mat-mdc-autocomplete-visible",t.showPanel)("mat-mdc-autocomplete-hidden",!t.showPanel)("mat-primary",t._color==="primary")("mat-accent",t._color==="accent")("mat-warn",t._color==="warn"),p("id",t.id)("@panelAnimation",t.isOpen?"visible":"hidden"),H("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby(e))}}var yo=Yi("panelAnimation",[Zi("void, hidden",Rt({opacity:0,transform:"scaleY(0.8)"})),ke(":enter, hidden => visible",[Xi([Jt("0.03s linear",Rt({opacity:1})),Jt("0.12s cubic-bezier(0, 0, 0.2, 1)",Rt({transform:"scaleY(1)"}))])]),ke(":leave, visible => hidden",[Jt("0.075s linear",Rt({opacity:0}))])]),bo=0,Te=class{constructor(a,e){this.source=a,this.option=e}},jn=new z("mat-autocomplete-default-options",{providedIn:"root",factory:Co});function Co(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}var Nn=(()=>{let a=class a{get isOpen(){return this._isOpen&&this.showPanel}_setColor(t){this._color=t,this._changeDetectorRef.markForCheck()}set classList(t){this._classList=t,this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(let t of this.options)t._changeDetectorRef.markForCheck()}constructor(t,i,o,l){this._changeDetectorRef=t,this._elementRef=i,this._defaults=o,this._activeOptionChanges=Lt.EMPTY,this._animationDone=new D,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new D,this.opened=new D,this.closed=new D,this.optionActivated=new D,this.id=`mat-autocomplete-${bo++}`,this.inertGroups=l?.SAFARI||!1,this.autoActiveFirstOption=!!o.autoActiveFirstOption,this.autoSelectActiveOption=!!o.autoSelectActiveOption,this.requireSelection=!!o.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new Di(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(t=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[t]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){let i=new Te(this,t);this.optionSelected.emit(i)}_getPanelAriaLabelledby(t){if(this.ariaLabel)return null;let i=t?t+" ":"";return this.ariaLabelledby?i+this.ariaLabelledby:t}_skipPredicate(){return!1}};a.\u0275fac=function(i){return new(i||a)(_(Y),_(Q),_(jn),_(Ci))},a.\u0275cmp=w({type:a,selectors:[["mat-autocomplete"]],contentQueries:function(i,o,l){if(i&1&&(P(l,Xt,5),P(l,Ni,5)),i&2){let m;I(m=A())&&(o.options=m),I(m=A())&&(o.optionGroups=m)}},viewQuery:function(i,o){if(i&1&&(V(Ze,7),V(go,5)),i&2){let l;I(l=A())&&(o.template=l.first),I(l=A())&&(o.panel=l.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",T],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",T],requireSelection:[2,"requireSelection","requireSelection",T],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",T],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",T]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],standalone:!0,features:[U([{provide:ji,useExisting:a}]),W,x],ngContentSelectors:fo,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(i,o){i&1&&(Ot(),g(0,vo,3,16,"ng-template"))},styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape, var(--mat-app-corner-extra-small));box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[yo]},changeDetection:0});let n=a;return n})();var wo={provide:sn,useExisting:we(()=>Fe),multi:!0};var zn=new z("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let n=u(Pt);return()=>n.scrollStrategies.reposition()}});function xo(n){return()=>n.scrollStrategies.reposition()}var So={provide:zn,deps:[Pt],useFactory:xo},Fe=(()=>{let a=class a{constructor(t,i,o,l,m,st,be,oo,ao,ro,co){this._element=t,this._overlay=i,this._viewContainerRef=o,this._zone=l,this._changeDetectorRef=m,this._dir=be,this._formField=oo,this._document=ao,this._viewportRuler=ro,this._defaults=co,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=Lt.EMPTY,this._breakpointObserver=u(Fi),this._handsetLandscapeSubscription=Lt.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new lt,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._initialized=new lt,this._injector=u(Nt),this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=He(()=>{let O=this.autocomplete?this.autocomplete.options:null;return O?O.changes.pipe(_t(O),gt(()=>q(...O.map(so=>so.onSelectionChange)))):this._initialized.pipe(gt(()=>this.optionSelections))}),this._handlePanelKeydown=O=>{(O.keyCode===27&&!$t(O)||O.keyCode===38&&$t(O,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),O.stopPropagation(),O.preventDefault())},this._trackedModal=null,this._scrollStrategy=st}ngAfterViewInit(){this._initialized.next(),this._initialized.complete();let t=this._getWindow();typeof t<"u"&&this._zone.runOutsideAngular(()=>t.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){let t=this._getWindow();typeof t<"u"&&t.removeEventListener("blur",this._windowBlurHandler),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&Yt(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return q(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(jt(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(jt(()=>this._overlayAttached)):Ne()).pipe(ze(t=>t instanceof zi?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return q(Vt(this._document,"click"),Vt(this._document,"auxclick"),Vt(this._document,"touchend")).pipe(jt(t=>{let i=wi(t),o=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,l=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&i!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!o||!o.contains(i))&&(!l||!l.contains(i))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(i)}))}writeValue(t){Promise.resolve(null).then(()=>this._assignOptionValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){let i=t.keyCode,o=$t(t);if(i===27&&!o&&t.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&i===13&&this.panelOpen&&!o)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){let l=this.autocomplete._keyManager.activeItem,m=i===38||i===40;i===9||m&&!o&&this.panelOpen?this.autocomplete._keyManager.onKeydown(t):m&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(m||this.autocomplete._keyManager.activeItem!==l)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(t){let i=t.target,o=i.value;if(i.type==="number"&&(o=o==""?null:parseFloat(o)),this._previousValue!==o){if(this._previousValue=o,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(o),!o)this._clearPreviousSelectedOption(null,!1);else if(this.panelOpen&&!this.autocomplete.requireSelection){let l=this.autocomplete.options?.find(m=>m.selected);if(l){let m=this._getDisplayValue(l.value);o!==m&&l.deselect(!1)}}if(this._canOpen()&&this._document.activeElement===t.target){let l=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(l)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(t=!1){this._formField&&this._formField.floatLabel==="auto"&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){let t=new je(o=>{Ht(()=>{o.next()},{injector:this._injector})}),i=this.autocomplete.options.changes.pipe(Qe(()=>this._positionStrategy.reapplyLastPosition()),qe(0));return q(t,i).pipe(gt(()=>this._zone.run(()=>{let o=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),o!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),Ce(1)).subscribe(o=>this._setValueAndClose(o))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(t){let i=this.autocomplete;return i&&i.displayWith?i.displayWith(t):t}_assignOptionValue(t){let i=this._getDisplayValue(t);t==null&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(i??"")}_updateNativeInputValue(t){this._formField?this._formField._control.value=t:this._element.nativeElement.value=t,this._previousValue=t}_setValueAndClose(t){let i=this.autocomplete,o=t?t.source:this._pendingAutoselectedOption;o?(this._clearPreviousSelectedOption(o),this._assignOptionValue(o.value),this._onChange(o.value),i._emitSelectEvent(o),this._element.nativeElement.focus()):i.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),i._animationDone?i._animationDone.pipe(Ce(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(t,i){this.autocomplete?.options?.forEach(o=>{o!==t&&o.selected&&o.deselect(i)})}_openPanelInternal(t=this._element.nativeElement.value){if(this._attachOverlay(t),this._floatLabel(),this._trackedModal){let i=this.autocomplete.id;Ie(this._trackedModal,"aria-owns",i)}}_attachOverlay(t){this.autocomplete;let i=this._overlayRef;i?(this._positionStrategy.setOrigin(this._getConnectedElement()),i.updateSize({width:this._getPanelWidth()})):(this._portal=new tn(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),i=this._overlay.create(this._getOverlayConfig()),this._overlayRef=i,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&i&&i.updateSize({width:this._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe(Oi.HandsetLandscape).subscribe(l=>{l.matches?this._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):this._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),i&&!i.hasAttached()&&(i.attach(this._portal),this._valueOnAttach=t,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());let o=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&o!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){let t=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=t.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=t.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new en({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){let t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){let i=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],o=this._aboveClass,l=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:o},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:o}],m;this.position==="above"?m=l:this.position==="below"?m=i:m=[...i,...l],t.withPositions(m)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){let t=this.autocomplete;if(t.autoActiveFirstOption){let i=-1;for(let o=0;o<t.options.length;o++)if(!t.options.get(o).disabled){i=o;break}t._keyManager.setActiveItem(i)}else t._keyManager.setActiveItem(-1)}_canOpen(){let t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(t){let i=this.autocomplete,o=Hi(t,i.options,i.optionGroups);if(t===0&&o===1)i._setScrollTop(0);else if(i.panel){let l=i.options.toArray()[t];if(l){let m=l._getHostElement(),st=qi(m.offsetTop,m.offsetHeight,i._getScrollTop(),i.panel.nativeElement.offsetHeight);i._setScrollTop(st)}}}_applyModalPanelOwnership(){let t=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;let i=this.autocomplete.id;this._trackedModal&&Yt(this._trackedModal,"aria-owns",i),Ie(t,"aria-owns",i),this._trackedModal=t}_clearFromModal(){if(this._trackedModal){let t=this.autocomplete.id;Yt(this._trackedModal,"aria-owns",t),this._trackedModal=null}}};a.\u0275fac=function(i){return new(i||a)(_(Q),_(Pt),_(ii),_(yt),_(Y),_(zn),_(Ut,8),_(yn,9),_(wt,8),_(xi),_(jn,8))},a.\u0275dir=Mt({type:a,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(i,o){i&1&&f("focusin",function(){return o._handleFocus()})("blur",function(){return o._onTouched()})("input",function(m){return o._handleInput(m)})("keydown",function(m){return o._handleKeydown(m)})("click",function(){return o._handleClick()}),i&2&&H("autocomplete",o.autocompleteAttribute)("role",o.autocompleteDisabled?null:"combobox")("aria-autocomplete",o.autocompleteDisabled?null:"list")("aria-activedescendant",o.panelOpen&&o.activeOption?o.activeOption.id:null)("aria-expanded",o.autocompleteDisabled?null:o.panelOpen.toString())("aria-controls",o.autocompleteDisabled||!o.panelOpen||o.autocomplete==null?null:o.autocomplete.id)("aria-haspopup",o.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",T]},exportAs:["matAutocompleteTrigger"],standalone:!0,features:[U([wo]),W,Tt]});let n=a;return n})(),Hn=(()=>{let a=class a{};a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=vt({type:a}),a.\u0275inj=ft({providers:[So],imports:[nn,Ae,et,E,Si,Ae,et]});let n=a;return n})();var Eo=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],Mo=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function To(n,a){n&1&&(r(0,"span",3),ht(1,1),s())}function Fo(n,a){n&1&&(r(0,"span",6),ht(1,2),s())}var Oo=["*"];var Do=new z("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})}),qn=new z("MatChipAvatar"),Qn=new z("MatChipTrailingIcon"),Oe=new z("MatChipRemove"),Wn=new z("MatChip"),De=(()=>{let a=class a{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(t){this._disabled=t}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(t,i){this._elementRef=t,this._parentChip=i,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this.tabIndex=-1,this._allowFocusWhenDisabled=!1,t.nativeElement.nodeName==="BUTTON"&&t.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(t){!this.disabled&&this.isInteractive&&this._isPrimary&&(t.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(t){(t.keyCode===13||t.keyCode===32)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(t.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}};a.\u0275fac=function(i){return new(i||a)(_(Q),_(Wn))},a.\u0275dir=Mt({type:a,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(i,o){i&1&&f("click",function(m){return o._handleClick(m)})("keydown",function(m){return o._handleKeydown(m)}),i&2&&(H("tabindex",o._getTabindex())("disabled",o._getDisabledAttribute())("aria-disabled",o.disabled),bt("mdc-evolution-chip__action--primary",o._isPrimary)("mdc-evolution-chip__action--presentational",!o.isInteractive)("mdc-evolution-chip__action--trailing",!o._isPrimary))},inputs:{isInteractive:"isInteractive",disabled:[2,"disabled","disabled",T],tabIndex:[2,"tabIndex","tabIndex",t=>t==null?-1:Se(t)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},standalone:!0,features:[W]});let n=a;return n})();var Gn=(()=>{let a=class a extends De{constructor(){super(...arguments),this._isPrimary=!1}_handleClick(t){this.disabled||(t.stopPropagation(),t.preventDefault(),this._parentChip.remove())}_handleKeydown(t){(t.keyCode===13||t.keyCode===32)&&!this.disabled&&(t.stopPropagation(),t.preventDefault(),this._parentChip.remove())}};a.\u0275fac=(()=>{let t;return function(o){return(t||(t=Ke(a)))(o||a)}})(),a.\u0275dir=Mt({type:a,selectors:[["","matChipRemove",""]],hostAttrs:["role","button",1,"mat-mdc-chip-remove","mat-mdc-chip-trailing-icon","mat-mdc-focus-indicator","mdc-evolution-chip__icon","mdc-evolution-chip__icon--trailing"],hostVars:1,hostBindings:function(i,o){i&2&&H("aria-hidden",null)},standalone:!0,features:[U([{provide:Oe,useExisting:a}]),ni]});let n=a;return n})(),Ro=0,Re=(()=>{let a=class a{_hasFocus(){return this._hasFocusInternal}get value(){return this._value!==void 0?this._value:this._textElement.textContent.trim()}set value(t){this._value=t}get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}constructor(t,i,o,l,m,st,be){this._changeDetectorRef=t,this._elementRef=i,this._ngZone=o,this._focusMonitor=l,this._globalRippleOptions=be,this._onFocus=new lt,this._onBlur=new lt,this.role=null,this._hasFocusInternal=!1,this.id=`mat-mdc-chip-${Ro++}`,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this.removable=!0,this.highlighted=!1,this.disableRipple=!1,this.disabled=!1,this.removed=new D,this.destroyed=new D,this.basicChipAttrName="mat-basic-chip",this._rippleLoader=u(Qi),this._injector=u(Nt),this._document=m,this._animationsDisabled=st==="NoopAnimations",this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){let t=this._elementRef.nativeElement;this._isBasicChip=t.hasAttribute(this.basicChipAttrName)||t.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=q(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!!(this.trailingIcon||this.removeIcon)}_handleKeydown(t){(t.keyCode===8&&!t.repeat||t.keyCode===46)&&(t.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(t){return this._getActions().find(i=>{let o=i._elementRef.nativeElement;return o===t||o.contains(t)})}_getActions(){let t=[];return this.primaryAction&&t.push(this.primaryAction),this.removeIcon&&t.push(this.removeIcon),this.trailingIcon&&t.push(this.trailingIcon),t}_handlePrimaryActionInteraction(){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{let i=t!==null;i!==this._hasFocusInternal&&(this._hasFocusInternal=i,i?this._onFocus.next({chip:this}):Ht(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})),{injector:this._injector}))})}};a.\u0275fac=function(i){return new(i||a)(_(Y),_(Q),_(yt),_(Pi),_(wt),_(zt,8),_(Li,8))},a.\u0275cmp=w({type:a,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(i,o,l){if(i&1&&(P(l,qn,5),P(l,Qn,5),P(l,Oe,5),P(l,qn,5),P(l,Qn,5),P(l,Oe,5)),i&2){let m;I(m=A())&&(o.leadingIcon=m.first),I(m=A())&&(o.trailingIcon=m.first),I(m=A())&&(o.removeIcon=m.first),I(m=A())&&(o._allLeadingIcons=m),I(m=A())&&(o._allTrailingIcons=m),I(m=A())&&(o._allRemoveIcons=m)}},viewQuery:function(i,o){if(i&1&&V(De,5),i&2){let l;I(l=A())&&(o.primaryAction=l.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:31,hostBindings:function(i,o){i&1&&f("keydown",function(m){return o._handleKeydown(m)}),i&2&&(oi("id",o.id),H("role",o.role)("aria-label",o.ariaLabel),Ft("mat-"+(o.color||"primary")),bt("mdc-evolution-chip",!o._isBasicChip)("mdc-evolution-chip--disabled",o.disabled)("mdc-evolution-chip--with-trailing-action",o._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",o.leadingIcon)("mdc-evolution-chip--with-primary-icon",o.leadingIcon)("mdc-evolution-chip--with-avatar",o.leadingIcon)("mat-mdc-chip-with-avatar",o.leadingIcon)("mat-mdc-chip-highlighted",o.highlighted)("mat-mdc-chip-disabled",o.disabled)("mat-mdc-basic-chip",o._isBasicChip)("mat-mdc-standard-chip",!o._isBasicChip)("mat-mdc-chip-with-trailing-icon",o._hasTrailingIcon())("_mat-animation-noopable",o._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaDescription:[0,"aria-description","ariaDescription"],value:"value",color:"color",removable:[2,"removable","removable",T],highlighted:[2,"highlighted","highlighted",T],disableRipple:[2,"disableRipple","disableRipple",T],disabled:[2,"disabled","disabled",T]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],standalone:!0,features:[U([{provide:Wn,useExisting:a}]),W,x],ngContentSelectors:Mo,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(i,o){i&1&&(Ot(Eo),b(0,"span",0),r(1,"span",1)(2,"span",2),g(3,To,2,0,"span",3),r(4,"span",4),ht(5),b(6,"span",5),s()()(),g(7,Fo,2,0,"span",6)),i&2&&(c(2),p("isInteractive",!1),c(),R(o.leadingIcon?3:-1),c(4),R(o._hasTrailingIcon()?7:-1))},dependencies:[De],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width);border-radius:var(--mdc-chip-container-shape-radius);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color, var(--mat-app-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-app-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font, var(--mat-app-label-large-font));line-height:var(--mdc-chip-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mdc-chip-label-text-size, var(--mat-app-label-large-size));font-weight:var(--mdc-chip-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mdc-chip-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size);height:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-app-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.cdk-high-contrast-active .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-app-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius);width:var(--mdc-chip-with-icon-icon-size);height:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-app-on-surface))}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-app-on-secondary-container));--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-app-secondary-container));--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color, var(--mat-app-on-secondary-container));--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-app-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color, var(--mat-app-on-surface-variant));opacity:var(--mdc-chip-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color, var(--mat-app-on-secondary-container));opacity:var(--mdc-chip-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-app-on-surface-variant));opacity:var(--mdc-chip-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-app-on-secondary-container));opacity:var(--mdc-chip-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-app-on-surface))}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background:var(--mat-chip-trailing-action-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-2px;bottom:-2px;left:6px;right:6px;border-radius:50%}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let n=a;return n})();var Kn=(()=>{let a=class a{get chipFocusChanges(){return this._getChipStream(t=>t._onFocus)}get chipDestroyedChanges(){return this._getChipStream(t=>t.destroyed)}get chipRemovedChanges(){return this._getChipStream(t=>t.removed)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._syncChipsState()}get empty(){return!this._chips||this._chips.length===0}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(t){this._explicitRole=t}get focused(){return this._hasFocusedChip()}constructor(t,i,o){this._elementRef=t,this._changeDetectorRef=i,this._dir=o,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new lt,this._defaultRole="presentation",this._disabled=!1,this.tabIndex=0,this._explicitRole=null,this._chipActions=new Ue}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(t=>t._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(t=>{t.disabled=this._disabled,t._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(t){this._originatesFromChip(t)&&this._keyManager.onKeydown(t)}_isValidIndex(t){return t>=0&&t<this._chips.length}_allowFocusEscape(){if(this.tabIndex!==-1){let t=this.tabIndex;this.tabIndex=-1,this._changeDetectorRef.markForCheck(),setTimeout(()=>{this.tabIndex=t,this._changeDetectorRef.markForCheck()})}}_getChipStream(t){return this._chips.changes.pipe(_t(null),gt(()=>q(...this._chips.map(t))))}_originatesFromChip(t){let i=t.target;for(;i&&i!==this._elementRef.nativeElement;){if(i.classList.contains("mat-mdc-chip"))return!0;i=i.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(_t(this._chips)).subscribe(t=>{let i=[];t.forEach(o=>o._getActions().forEach(l=>i.push(l))),this._chipActions.reset(i),this._chipActions.notifyOnChanges()}),this._keyManager=new Ri(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(t=>this._skipPredicate(t)),this.chipFocusChanges.pipe(Et(this._destroyed)).subscribe(({chip:t})=>{let i=t._getSourceAction(document.activeElement);i&&this._keyManager.updateActiveItem(i)}),this._dir?.change.pipe(Et(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t))}_skipPredicate(t){return!t.isInteractive||t.disabled}_trackChipSetChanges(){this._chips.changes.pipe(_t(null),Et(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(Et(this._destroyed)).subscribe(t=>{let o=this._chips.toArray().indexOf(t.chip);this._isValidIndex(o)&&t.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=o)})}_redirectDestroyedChipFocus(){if(this._lastDestroyedFocusedChipIndex!=null){if(this._chips.length){let t=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),i=this._chips.toArray()[t];i.disabled?this._chips.length===1?this.focus():this._keyManager.setPreviousItemActive():i.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}};a.\u0275fac=function(i){return new(i||a)(_(Q),_(Y),_(Ut,8))},a.\u0275cmp=w({type:a,selectors:[["mat-chip-set"]],contentQueries:function(i,o,l){if(i&1&&P(l,Re,5),i&2){let m;I(m=A())&&(o._chips=m)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(i,o){i&1&&f("keydown",function(m){return o._handleKeydown(m)}),i&2&&H("role",o.role)},inputs:{disabled:[2,"disabled","disabled",T],role:"role",tabIndex:[2,"tabIndex","tabIndex",t=>t==null?0:Se(t)]},standalone:!0,features:[W,x],ngContentSelectors:Oo,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(i,o){i&1&&(Ot(),r(0,"div",0),ht(1),s())},styles:[".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0});let n=a;return n})();var he=(()=>{let a=class a{};a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=vt({type:a}),a.\u0275inj=ft({providers:[Bi,{provide:Do,useValue:{separatorKeyCodes:[13]}}],imports:[et,Vi,et]});let n=a;return n})();var _e=(()=>{class n{sanitizer=u(Z);article={};sanitizeHtml(){this.article.contentSafeHtml=this.sanitizer.bypassSecurityTrustHtml(this.article.content||"")}ngOnChanges(){this.sanitizeHtml()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["app-blog-article-view"]],inputs:{article:"article"},standalone:!0,features:[Tt,x],decls:14,vars:9,consts:[[1,"h-full",3,"appearance"],[1,"flex","flex-col","justify-start","gap-12","mb-12","w-full"],[1,"flex","justify-start"],[1,"flex","flex-row","items","gap-2","items-center","text-ellipsis"],[1,"rounded-full","w-16","mat-elevation-z2",3,"src"],[1,"flex","flex-col"],[1,"content-text",3,"innerHTML"],[1,"font-light","text-sm","pt-6"]],template:function(t,i){if(t&1&&(r(0,"mat-card",0)(1,"mat-card-content")(2,"div",1)(3,"h1",2),h(4),s(),r(5,"div",3),b(6,"img",4),r(7,"div",5)(8,"span"),h(9),s()()()(),b(10,"div",6),s(),r(11,"span",7),h(12),Ct(13,"date"),s()()),t&2){let o;p("appearance","outlined"),c(4),C(" ",i.article.title," "),c(2),p("src",i.article.profiles==null?null:i.article.profiles.avatar_url,dt),c(3),k((o=i.article.profiles==null?null:i.article.profiles.full_name)!==null&&o!==void 0?o:i.article.profiles==null?null:i.article.profiles.email),c(),p("innerHTML",i.article.contentSafeHtml,$e),c(2),C(" ",Qt(13,6,i.article.inserted_at,"longDate")," ")}},dependencies:[E,Kt,rt,ot,at,it],styles:["mat-card-content[_ngcontent-%COMP%]{padding-bottom:0!important}mat-card-header[_ngcontent-%COMP%]{border:0px!important}"]})}return n})();var N=function(n){return n.PendingApproval="pendingApproval",n.Public="public",n.Draft="draft",n}(N||{});var ct=(()=>{class n{relation="articles";_supabaseService=u(kt);_supabaseAuthService=u(j);supabase=this._supabaseService.supabaseClient;constructor(){}post(e){return e.user_id=this._supabaseAuthService.user()?.id,this.supabase.from(this.relation).upsert(e).select("*,profiles(*)")}put(e,t){return this.supabase.from(this.relation).update(t).eq("id",e).select("*,profiles(*)")}delete(e){return this.supabase.from(this.relation).delete().eq("id",e)}getByUrl(e){return this.supabase.from(this.relation).select("*,comments(*,profiles(*)),profiles(*)").eq("url",e)}getById(e){return this.supabase.from("articles").select("*,comments(*,profiles(*)),profiles(*)").eq("id",e)}getAll(e,t){let i=this.supabase.from(this.relation).select("*,comments(*,profiles(*)),profiles(*)").order("updated_at",{ascending:!1});return(t?.userId?.length||t?.tag?.length)&&(t?.userId?.length&&i.eq("user_id",t.userId),t?.tag?.length&&i.contains("tags",[t.tag])),i.eq("status",t?.status||N.Public),e&&i.range(e.offset,e.offset+e.limit-1),i}getAuthors(){return this.supabase.from("unique_authors").select("*,profiles(*)")}getExisingTags(e){let t=this.supabase.from("unique_tags").select("tag");return e&&t.eq("author_id",e),t}static \u0275fac=function(t){return new(t||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var jo=["editor"],No=n=>({"opacity-0":n}),zo=()=>({standalone:!0});function Ho(n,a){if(n&1&&(r(0,"mat-option",17),h(1),s()),n&2){let e=a.$implicit;p("value",e),c(),k(e)}}function qo(n,a){if(n&1){let e=S();r(0,"mat-chip",29),f("click",function(){let i=v(e).$implicit,o=d(3);return y(o.onRemoveTag(i))}),r(1,"div",30)(2,"span",31),h(3),s(),r(4,"button",32),f("click",function(){let i=v(e).$implicit,o=d(3);return y(o.onRemoveTag(i))}),r(5,"mat-icon"),h(6,"cancel"),s()()()()}if(n&2){let e=a.$implicit;c(3),k(e)}}function Qo(n,a){if(n&1){let e=S();r(0,"button",33),f("click",function(){v(e);let i=d(3);return y(i.onDelete())}),h(1),s()}if(n&2){let e=d(2).$implicit;c(),C(" ",e("blog.edit.delete")," ")}}function Wo(n,a){if(n&1){let e=S();r(0,"button",34),f("click",function(){v(e);let i=d(3);return y(i.onRestore())}),h(1),s()}if(n&2){let e=d(2).$implicit,t=d();p("disabled",t.articleForm.pristine),c(),C(" ",e("blog.edit.restore")," ")}}function Go(n,a){if(n&1&&(r(0,"p",37),h(1),s()),n&2){let e=a.$implicit;c(),C(" * ",e," ")}}function Ko(n,a){if(n&1&&(r(0,"div",35),g(1,Go,2,1,"p",36),s()),n&2){let e=d(3);c(),p("ngForOf",e.errorMessages)}}function Uo(n,a){if(n&1){let e=S();r(0,"form",6),f("ngSubmit",function(){v(e);let i=d(2);return y(i.onSubmit())}),r(1,"mat-card-header")(2,"mat-card-title")(3,"div",7)(4,"span",8),h(5," * "),s(),r(6,"mat-form-field",9),b(7,"textarea",10,0),s()()()(),r(9,"div",11),b(10,"app-wysiwyg-editor",12),r(11,"mat-form-field",9),b(12,"textarea",13),s(),r(13,"div",14)(14,"div")(15,"mat-form-field",15)(16,"input",16),si("ngModelChange",function(i){v(e);let o=d(2);return ci(o.newTag,i)||(o.newTag=i),y(i)}),f("keydown",function(i){v(e);let o=d(2);return y(o.onAddTag(i))}),s(),r(17,"mat-autocomplete",null,1),pt(19,Ho,2,2,"mat-option",17,qt),s(),r(21,"button",18),f("click",function(){v(e);let i=d(2);return y(i.onAddTag())}),r(22,"mat-icon"),h(23,"add"),s()()()(),r(24,"mat-chip-set",19),g(25,qo,7,1,"mat-chip",20),s()(),r(26,"div",21)(27,"div",22),g(28,Qo,2,1,"button",23)(29,Wo,2,2,"button",24),s(),r(30,"div",25)(31,"button",26),f("click",function(){v(e);let i=d(2);return y(i.togglePreview())}),h(32),s(),r(33,"button",27),h(34),s()()()(),g(35,Ko,2,1,"div",28),s()}if(n&2){let e,t=Dt(18),i=d().$implicit,o=d();p("formGroup",o.articleForm),c(4),p("ngClass",B(18,No,o.articleForm.pristine)),c(3),p("placeholder",i("blog.edit.titlePlaceholder"))("maxLength",100),c(3),p("placeholder",i("blog.edit.contentPlaceholder")),c(2),p("placeholder",i("blog.edit.descriptionPlaceholder"))("maxLength",200),c(4),p("appTogglablePlaceholder",i("blog.edit.tagsPlaceholder")),ri("ngModel",o.newTag),p("ngModelOptions",$(20,zo))("matAutocomplete",t),c(3),mt(o.filteredExistingTags()),c(6),p("ngForOf",o.tags==null?null:o.tags.value),c(3),p("ngIf",o.id),c(),p("ngIf",o.id),c(3),C(" ",i("blog.edit.preview")," "),c(),p("disabled",o.articleForm.pristine),c(),C(" ",i("blog.edit.save")," "),c(),p("ngIf",(e=o.articleForm.get("title"))==null?null:e.invalid)}}function $o(n,a){if(n&1){let e=S();r(0,"div"),b(1,"app-blog-article-view",38),r(2,"div",39)(3,"button",40),f("click",function(){v(e);let i=d(2);return y(i.togglePreview())}),h(4),s()()()}if(n&2){let e=d().$implicit,t=d();c(),p("article",t.articleForm.value),c(3),C(" ",e("blog.edit.backToEdit")," ")}}function Yo(n,a){if(n&1&&(G(0),r(1,"mat-card",3)(2,"mat-card-content"),g(3,Uo,36,21,"form",4)(4,$o,5,2,"div",5),s()(),K()),n&2){let e=d();c(),p("appearance","outlined"),c(2),p("ngIf",e.articleForm&&e.article&&!e.previewMode),c(),p("ngIf",e.previewMode)}}var Be=(()=>{class n{editor;articleService=u(ct);route=u(xt);formBuilder=u(gn);matDialog=u(on);router=u(J);snackBar=u(me);sanitizer=u(Z);cdRef=u(Y);newTag="";previewMode=!1;supabaseAuthService=u(j);existingTags=[];filteredExistingTags=()=>this.existingTags.filter(e=>!this.tags?.value.includes(e.toLocaleLowerCase())&&e.toLowerCase().includes(this.newTag.toLocaleLowerCase()));article={};articleForm;errorMessages=[];id=+this.route.snapshot.params.id;get content(){return this.articleForm.get("content")}get title(){return this.articleForm.get("title")}get tags(){return this.articleForm.get("tags")}get description(){return this.articleForm.get("description")}ngOnInit(){this.id=+this.route.snapshot.params.id,this.getArticle(),this.getExistingTags()}unloadNotification(e){this.articleForm&&this.articleForm.dirty&&!this.previewMode&&(e.returnValue=!0)}getExistingTags(){return M(this,null,function*(){let e=(yield this.articleService.getExisingTags()).data;this.existingTags=e?.map(t=>t.tag)||[]})}getArticle(){return M(this,null,function*(){if(!this.id){this.createForm();return}let e=(yield this.articleService.getById(this.id)).data?.[0];e&&(this.article=e??{},this.createForm(e))})}createForm(e={}){this.articleForm=this.formBuilder.group({title:[e?.title,ut.required],content:[e?.content,ut.required],tags:[e?.tags||[]],description:[e?.description,[ut.required,ut.maxLength(200)]]})}togglePreview(){this.previewMode=!this.previewMode}onAddTag(e){if(e?.key&&!["Enter",","," "].includes(e.key))return;e?.preventDefault();let t=this.tags?.value.map(o=>o.toLocaleLowerCase())||[];if(!this.newTag||t.includes(this.newTag.toLocaleLowerCase()))return;this.newTag.split(",").forEach(o=>{o=o.trim();let l=t.includes(o)?[]:[o];t.push(...l)}),this.tags?.patchValue(t),this.articleForm.markAsDirty(),this.newTag=""}onRemoveTag(e){let t=this.tags?.value||[],i=t.indexOf(e);i!==-1&&(t.splice(i,1),this.tags?.patchValue(t),this.articleForm.markAsDirty())}onDelete(){return M(this,null,function*(){(yield this.matDialog.open(se).afterClosed().toPromise())&&(yield this.articleService.delete(this.id),this.openSnackBar("Article deleted"),this.back(!0))})}onRestore(){return M(this,null,function*(){(yield this.matDialog.open(se,{data:{title:"Restore article",text:"Are you sure you want to restore this article?",confirmText:"Restore"}}).afterClosed().toPromise())&&(yield this.getArticle(),this.openSnackBar("Article restored"))})}openSnackBar(e){this.snackBar.open(e,"")}onSubmit(){return M(this,null,function*(){this.errorMessages=[],this.articleForm.get("title")?.patchValue(this.title?.value?.trim());let e=this.articleForm.errors;if(e&&(this.errorMessages=Object.keys(e).map(t=>e[t])),!this.articleForm.invalid){if(this.article.title=this.title?.value,this.article.content=this.content?.value,this.article.tags=this.tags?.value,this.article.description=this.articleForm.get("description")?.value,this.id)yield this.articleService.put(this.id,this.article),this.openSnackBar("Article saved");else{let t=yield this.articleService.post(this.article);t&&(this.id=t.data?.[0].id),this.router.navigate(["/blog/"+this.id+"/edit"]),this.openSnackBar("Article created")}this.articleForm.reset(this.articleForm.value),this.articleForm.markAsPristine()}})}onSaveDraft(){return M(this,null,function*(){this.errorMessages=[],this.articleForm.get("title")?.patchValue(this.title?.value?.trim());let e=this.articleForm.errors;if(e&&(this.errorMessages=Object.keys(e).map(t=>e[t])),!this.articleForm.invalid){if(this.article.title=this.title?.value,this.article.content=this.content?.value,this.article.tags=this.tags?.value,this.article.description=this.articleForm.get("description")?.value,this.article.status=N.Draft,this.id)yield this.articleService.put(this.id,this.article),this.openSnackBar("Draft saved");else{let t=yield this.articleService.post(this.article);t&&(this.id=t.data?.[0].id),this.router.navigate(["/blog/"+this.id+"/edit"]),this.openSnackBar("Draft created")}this.articleForm.reset(this.articleForm.value),this.articleForm.markAsPristine()}})}back(e=!1){if(this.articleForm.dirty&&!e){this.confirmExit().toPromise().then(t=>{t&&this.router.navigate(["/blog"])});return}this.router.navigate(["/blog"])}confirmExit(){return this.matDialog.open(se,{data:{title:"Unsaved changes",text:"Are you sure you want to leave this page?",confirmText:"Leave"}}).afterClosed()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["app-blog-article"]],viewQuery:function(t,i){if(t&1&&V(jo,5),t&2){let o;I(o=A())&&(i.editor=o.first)}},hostBindings:function(t,i){t&1&&f("beforeunload",function(l){return i.unloadNotification(l)},!1,Ye)},standalone:!0,features:[x],decls:1,vars:0,consts:[["input",""],["auto","matAutocomplete"],[4,"transloco"],[1,"h-full",3,"appearance"],["class","flex flex-col h-full",3,"formGroup","ngSubmit",4,"ngIf"],[4,"ngIf"],[1,"flex","flex-col","h-full",3,"ngSubmit","formGroup"],[1,"flex","sm:flex-row","items-start","gap-1","flex-col","justify-between","flex-wrap"],[1,"text-end","w-full","text-2xl",3,"ngClass"],["appearance","outline",1,"w-full"],["cdkTextareaAutosize","","matInput","","formControlName","title",3,"placeholder","maxLength"],[1,"grow"],["formControlName","content",3,"placeholder"],["cdkTextareaAutosize","","rows","2","matInput","","formControlName","description",3,"placeholder","maxLength"],[1,"mt-8","flex","flex-col"],["appearance","outline"],["matInput","",3,"ngModelChange","keydown","appTogglablePlaceholder","ngModel","ngModelOptions","matAutocomplete"],[3,"value"],["matSuffix","","mat-icon-button","","type","button",1,"mr-2",3,"click"],[1,"pt-2"],[3,"click",4,"ngFor","ngForOf"],[1,"flex","sm:flex-row","flex-col-reverse","justify-between","gap-4","pt-4"],[1,"flex","sm:flex-row","flex-col-reverse","justify-start","gap-4"],["color","warn","mat-button","","type","button",3,"click",4,"ngIf"],["mat-button","","type","button",3,"disabled","click",4,"ngIf"],[1,"flex","sm:flex-row","flex-col-reverse","justify-end","gap-4"],["mat-button","","type","button",3,"click"],["mat-flat-button","",3,"disabled"],["class","flex flex-col items-end justify-end pt-4",4,"ngIf"],[3,"click"],[1,"flex","flex-row","justify-start","items-center"],[1,"text-xs"],["matChipRemove","","type","button",3,"click"],["color","warn","mat-button","","type","button",3,"click"],["mat-button","","type","button",3,"click","disabled"],[1,"flex","flex-col","items-end","justify-end","pt-4"],["class","color-error",4,"ngFor","ngForOf"],[1,"color-error"],[3,"article"],[1,"flex","justify-end","mt-16"],["mat-button","",3,"click"]],template:function(t,i){t&1&&g(0,Yo,5,3,"ng-container",2)},dependencies:[E,Wt,Gt,X,fn,mn,ne,oe,ln,pn,ae,un,_n,It,St,Zt,it,At,pe,de,re,vn,Fn,rt,ot,at,ee,te,ce,ie,Hn,Nn,Xt,Fe,he,Re,Gn,Kn,On,kn,tt,nt,_e],styles:["mat-card-header[_ngcontent-%COMP%]{padding-right:0;padding-top:0}"]})}return n})(),Le=(()=>{class n{canDeactivate(e){return e.articleForm.dirty&&!e.previewMode?e.confirmExit():!0}static \u0275fac=function(t){return new(t||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var $n=(()=>{let a=class a{};a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=vt({type:a}),a.\u0275inj=ft({imports:[E,et]});let n=a;return n})();var Xo=(n,a)=>a.id,Ve=n=>["/blog",n];function Zo(n,a){if(n&1&&b(0,"img",11),n&2){let e=d().$implicit;p("appFallbackImage","account_circle")("src",e.profiles==null?null:e.profiles.avatar_url,dt)}}function Jo(n,a){if(n&1&&(r(0,"a",8),h(1),s()),n&2){let e=d().$implicit,t=d().$implicit;p("routerLink",B(3,Ve,e.url)),c(),ai(" ",e.comments.length," ",t("blog.list.comments")," ")}}function ta(n,a){if(n&1){let e=S();r(0,"div",1)(1,"a",2)(2,"h3"),h(3),s()(),r(4,"div",3),g(5,Zo,1,2,"img",4),r(6,"span",5),f("click",function(){let i=v(e).$implicit,o=d(2);return y(o.authorClicked(i.profiles==null?null:i.profiles.id))}),h(7),s()(),r(8,"div",6),h(9),s(),r(10,"div",7)(11,"a",8),h(12),Ct(13,"date"),s(),g(14,Jo,2,5,"a",9),s()(),b(15,"div",10)}if(n&2){let e,t=a.$implicit,i=d(2);c(),p("routerLink",B(11,Ve,t.url)),c(2),k(t.title),c(2),p("ngIf",t.profiles==null?null:t.profiles.avatar_url),c(2),k((e=t.profiles==null?null:t.profiles.full_name)!==null&&e!==void 0?e:t.profiles==null?null:t.profiles.email),c(2),C(" ",t.description," "),c(2),p("routerLink",B(13,Ve,t.url)),c(),C(" ",Qt(13,8,t.inserted_at,"longDate")," "),c(2),p("ngIf",i.options==null?null:i.options.displayComments)}}function ea(n,a){if(n&1&&(G(0),pt(1,ta,16,15,null,null,Xo),K()),n&2){let e=d();c(),mt(e.articles)}}var ge=(()=>{class n{articles=[];authorClickedEvent=new D;options={displayComments:!0};authorClicked(e){this.authorClickedEvent.emit(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["app-blog-article-list-view"]],inputs:{articles:"articles",options:"options"},outputs:{authorClickedEvent:"authorClickedEvent"},standalone:!0,features:[x],decls:1,vars:0,consts:[[4,"transloco"],[1,"mb-4","flex","flex-col","gap-6"],[1,"cursor-pointer","block","link",3,"routerLink"],[1,"flex","gap-2","items-center","justify-start","color-secondary"],["class","rounded-full w-[24px] h-[24px]",3,"appFallbackImage","src",4,"ngIf"],[1,"cursor-pointer","link",3,"click"],[1,"content-text","mb-16","mt-8"],[1,"flex","justify-between"],["routerLinkActive","item-selected",1,"color-secondary","pt-8","link",3,"routerLink"],["class","color-secondary pt-8 link","routerLinkActive","item-selected",3,"routerLink",4,"ngIf"],[1,"post-separator","z-10"],[1,"rounded-full","w-[24px]","h-[24px]",3,"appFallbackImage","src"]],template:function(t,i){t&1&&g(0,ea,3,0,"ng-container",0)},dependencies:[tt,Ei,Mi,Mn,E,X,Kt,nt,Ki],encapsulation:2})}return n})();var ia=(n,a)=>a.id,na=()=>({displayComments:!1}),fe=n=>({"underline font-semibold":n});function oa(n,a){n&1&&(r(0,"mat-icon"),h(1,"expand_more"),s())}function aa(n,a){if(n&1&&(r(0,"span"),h(1),s()),n&2){let e=d().$implicit;c(),k(e("blog.list.viewFilters"))}}function ra(n,a){if(n&1&&(r(0,"span"),h(1),s()),n&2){let e=d(2);c(),C(" (",e.getNumberOfFiltersApplied(),") ")}}function ca(n,a){n&1&&(r(0,"mat-icon"),h(1,"expand_less"),s())}function sa(n,a){if(n&1&&(r(0,"span"),h(1),s()),n&2){let e=d().$implicit;c(),k(e("blog.list.hideFilters"))}}function la(n,a){if(n&1){let e=S();r(0,"span",16),f("click",function(){let i=v(e).$implicit,o=d(3);return y(o.selectTag(i))}),h(1),s()}if(n&2){let e=a.$implicit,t=d(3);p("ngClass",B(2,fe,t.filters.tag===e)),c(),k(e)}}function da(n,a){if(n&1){let e=S();r(0,"span",16),f("click",function(){let i=v(e).$implicit,o=d(3);return y(o.selectAuthor(i.id))}),h(1),s()}if(n&2){let e,t=a.$implicit,i=d(3);p("ngClass",B(2,fe,i.filters.userId===t.id)),c(),k((e=t.full_name)!==null&&e!==void 0?e:t.email)}}function pa(n,a){if(n&1){let e=S();r(0,"button",17),f("click",function(){v(e);let i=d(3);return y(i.viewDrafts())}),h(1),s()}if(n&2){let e=d(2).$implicit,t=d();p("ngClass",B(2,fe,t.filters.userId===t.supabaseAuthService.user().id)),c(),C(" ",e("blog.list.myDrafts")," ")}}function ma(n,a){if(n&1){let e=S();r(0,"button",17),f("click",function(){v(e);let i=d(3);return y(i.viewPublicPosts())}),h(1),s()}if(n&2){let e=d(2).$implicit,t=d();p("ngClass",B(2,fe,!t.filters.userId)),c(),C(" ",e("blog.list.allPosts")," ")}}function ha(n,a){if(n&1){let e=S();r(0,"button",18),f("click",function(){v(e);let i=d(3);return y(i.resetFilters())}),r(1,"mat-icon"),h(2,"clear"),s(),h(3),s()}if(n&2){let e=d(2).$implicit;c(3),C(" ",e("blog.list.resetFilters")," ")}}function ua(n,a){if(n&1&&(r(0,"div",5)(1,"div",8)(2,"span",9),h(3),s(),pt(4,la,2,4,"span",10,qt),s(),r(6,"div",11)(7,"span",9),h(8),s(),pt(9,da,2,4,"span",10,ia),s(),r(11,"div",12),g(12,pa,2,4,"button",13)(13,ma,2,4,"button",13),s(),r(14,"div",14),g(15,ha,4,1,"button",15),s()()),n&2){let e=d().$implicit,t=d();c(3),C("",e("blog.list.tags"),":"),c(),mt(t.tags),c(4),C("",e("blog.list.authors"),":"),c(),mt(t.authors),c(3),p("ngIf",!t.filters.status),c(),p("ngIf",t.filters.status===t.ArticleStatus.Draft),c(2),p("ngIf",t.filters.tag||t.filters.userId)}}function _a(n,a){if(n&1&&(r(0,"span",7),h(1),s()),n&2){let e=d().$implicit;c(),k(e("blog.list.noResults"))}}function ga(n,a){if(n&1){let e=S();G(0),r(1,"mat-card",1)(2,"div",2)(3,"button",3),f("click",function(){v(e);let i=d();return y(i.toggleFiltersVisibility())}),g(4,oa,2,0,"mat-icon",4)(5,aa,2,1,"span",4)(6,ra,2,1,"span",4)(7,ca,2,0,"mat-icon",4)(8,sa,2,1,"span",4),s()(),g(9,ua,16,5,"div",5),r(10,"mat-card-content")(11,"app-blog-article-list-view",6),f("authorClickedEvent",function(i){v(e);let o=d();return y(o.selectAuthor(i))}),s(),g(12,_a,2,1,"span",7),s()(),K()}if(n&2){let e=d();c(4),p("ngIf",!e.filtersVisible),c(),p("ngIf",!e.filtersVisible),c(),p("ngIf",!e.filtersVisible&&e.getNumberOfFiltersApplied()),c(),p("ngIf",e.filtersVisible),c(),p("ngIf",e.filtersVisible),c(),R(e.filtersVisible?9:-1),c(2),p("options",$(9,na))("articles",e.articles),c(),R(!e.articles.length&&!e.loading&&(e.filters.tag||e.filters.userId)?12:-1)}}var Yn=(()=>{class n{articleService=u(ct);sanitizer=u(Z);supabaseAuthService=u(j);scrollToEndService=u(le);router=u(J);ArticleStatus=N;route=u(xt);articles=[];authors=[];_authors=[];tags=[];_tags=[];filters={userId:"",tag:""};page=0;pageSize=5;loading=!1;allLoaded=!1;error=null;filtersVisible=!1;ngOnInit(){this.getAuthors(),this.getExistingTags(),this.restoreFiltersFromUrl(),this.scrollToEndService.scrolledToEnd.subscribe(()=>this.getArticles()),this.scrollToEndService.scrolledToEnd.emit()}getArticles(){if(this.loading||this.allLoaded)return;this.loading=!0;let e=this.page*this.pageSize;this.articleService.getAll({limit:this.pageSize,offset:e},this.filters).then(t=>{let i=t.data||[];this.articles=[...this.articles,...i],i.length<this.pageSize?this.allLoaded=!0:this.page++,this.loading=!1})}toggleFiltersVisibility(){this.filtersVisible=!this.filtersVisible}getAuthors(){return M(this,null,function*(){try{let t=(yield this.articleService.getAuthors()).data?.map(i=>i.profiles);this.authors=this._authors=t||[]}catch(e){console.error("Error fetching authors:",e),this.error="Failed to load authors."}})}getExistingTags(){return M(this,null,function*(){try{let t=(yield this.articleService.getExisingTags()).data?.map(i=>i.tag);this.tags=this._tags=t||[]}catch(e){console.error("Error fetching tags:",e),this.error="Failed to load tags."}})}selectTag(e){this.filters.tag=this.filters.tag===e?"":e,this.tags=this._tags.filter(t=>t!==e),e&&this.tags.unshift(e),this.page=0,this.articles=[],this.allLoaded=!1,this.updateUrl(),this.getArticles()}viewDrafts(){this.setStatusFilter(N.Draft),this.filters.userId="",this.selectAuthor(this.supabaseAuthService.user().id)}viewPublicPosts(){this.setStatusFilter(void 0)}selectAuthor(e,t=!0){this.filtersVisible=!0,this.filters.userId=this.filters.userId===e?"":e,this.authors=this._authors.filter(o=>o.id!==e);let i=this._authors.find(o=>o.id===e);i&&this.authors.unshift(i),this.page=0,this.articles=[],this.allLoaded=!1,this.updateUrl(),t&&this.getArticles()}resetFilters(){this.selectAuthor("",!1),this.selectTag(""),this.viewPublicPosts()}setStatusFilter(e){this.filters.status=e,this.updateUrl()}restoreFiltersFromUrl(){this.route.queryParams.subscribe(e=>{!e.tag&&!e.userId&&!e.status||(this.filtersVisible=!0,e.tag&&(this.filters.tag=e.tag),e.userId&&(this.filters.userId=e.userId),e.status&&(this.filters.status=e.status),this.page=0,this.articles=[],this.allLoaded=!1,this.getArticles())})}updateUrl(){let e={tag:this.filters.tag,userId:this.filters.userId,status:this.filters.status};this.router.navigate([],{relativeTo:this.route,queryParams:e,queryParamsHandling:"merge"})}getNumberOfFiltersApplied(){let e=this.filters;return Object.values(e).filter(t=>!!t).length}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["app-blog-article-list"]],standalone:!0,features:[x],decls:1,vars:0,consts:[[4,"transloco"],["appearance","outlined"],[1,"flex","justify-end","my-4"],["mat-button","",3,"click"],[4,"ngIf"],[1,"flex","flex-col","gap-2","pb-8"],[3,"authorClickedEvent","options","articles"],[1,"text-center","mt-16"],[1,"flex","flex-row","flex-wrap","gap-4"],[1,"text-xs","lowercase"],[1,"text-xs","link",3,"ngClass"],[1,"flex","flex-row","flex-wrap","gap-4","mt-4"],[1,"flex","flex-row","gap-4","mt-4"],["mat-flat-button","",3,"ngClass","click",4,"ngIf"],[1,"flex","justify-start","mt-4"],["mat-flat-button","",3,"click",4,"ngIf"],[1,"text-xs","link",3,"click","ngClass"],["mat-flat-button","",3,"click","ngClass"],["mat-flat-button","",3,"click"]],template:function(t,i){t&1&&g(0,ga,13,10,"ng-container",0)},dependencies:[rt,ot,at,E,Wt,X,It,St,tt,it,At,he,$n,nt,ge],styles:[".post-separator[_ngcontent-%COMP%]{margin-top:1.5rem;margin-bottom:1.5rem;height:1px}"]})}return n})();var ve=(()=>{class n{relation="comments";_supabaseService=u(kt);_supabaseAuthService=u(j);supabase=this._supabaseService.supabaseClient;constructor(){}post(e){return this.supabase.from(this.relation).upsert(e).select("*,profiles(*)")}static \u0275fac=function(t){return new(t||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ye=class{id;article_id;user_id;content;created_at;updated_at;profiles};function fa(n,a){if(n&1){let e=S();r(0,"div",4)(1,"div",7),b(2,"img",8),r(3,"mat-form-field",9)(4,"textarea",10),f("keydown",function(i){v(e);let o=d(2);return y(o.keyDown(i))}),s()()(),r(5,"div",11)(6,"button",12),f("click",function(){v(e);let i=d(2);return y(i.postComment())}),h(7),s()()()}if(n&2){let e=d().$implicit,t=d();c(2),xe("src",t.avatarUrl,dt),c(2),p("formControl",t.newCommentFormControl),c(2),p("disabled",t.newCommentFormControl.invalid),c(),C(" ",e("blog.article.comments.post")," ")}}function va(n,a){n&1&&(r(0,"div",5)(1,"span",13),h(2,"Login to post a comment"),s()())}function ya(n,a){if(n&1&&(r(0,"button",22)(1,"mat-icon"),h(2,"more_vert"),s()()),n&2){d();let e=Dt(12);p("matMenuTriggerFor",e)}}function ba(n,a){if(n&1&&(r(0,"div",15)(1,"div",16)(2,"div",17),b(3,"img",8),r(4,"div",18)(5,"span"),h(6),s(),r(7,"span",19),h(8),Ct(9,"timeAgo"),s()(),g(10,ya,3,1,"button",20),r(11,"mat-menu",null,0)(13,"button",21)(14,"mat-icon"),h(15,"edit"),s(),r(16,"span"),h(17,"Edit"),s()(),r(18,"button",21)(19,"mat-icon"),h(20,"delete"),s(),r(21,"span"),h(22,"Delete"),s()()()(),r(23,"div"),h(24),s()()()),n&2){let e=a.$implicit,t=d(3);c(3),xe("src",e.profiles==null?null:e.profiles.avatar_url,dt),c(3),k(e.profiles==null?null:e.profiles.full_name),c(2),k(li(9,5,e.created_at)),c(2),p("ngIf",t.isCommentedByCurrentUser(e.profiles==null?null:e.profiles.id)),c(14),k(e.content)}}function Ca(n,a){if(n&1&&(r(0,"div",6),g(1,ba,25,7,"div",14),s()),n&2){let e=d(2);c(),p("ngForOf",e.orderedByDateComments)}}function wa(n,a){if(n&1&&(r(0,"div",5),h(1),s()),n&2){let e=d().$implicit;c(),C(" ",e("blog.article.comments.empty")," ")}}function xa(n,a){if(n&1&&(G(0),r(1,"div",2)(2,"span",3),h(3,"Comments"),s(),g(4,fa,8,4,"div",4)(5,va,3,0,"div",5)(6,Ca,2,1,"div",6)(7,wa,2,1,"div",5),s(),K()),n&2){let e=d();c(4),R(e.supabaseAuthService.user()?4:5),c(2),R(e.comments.length?6:7)}}var Xn=(()=>{class n{comments=[];articleId;newCommentFormControl=new dn;commentService=u(ve);supabaseAuthService=u(j);get avatarUrl(){return this.supabaseAuthService.user()?.user_metadata.avatar_url}postComment(){return M(this,null,function*(){if(this.newCommentFormControl.invalid)return;let e=new ye;if(e.content=this.newCommentFormControl.value,e.article_id=this.articleId,e.user_id=this.supabaseAuthService.user()?.id,!e)return;this.newCommentFormControl.setValue("");let t=yield this.commentService.post(e);this.comments.push(t.data[0]),this.newCommentFormControl.reset()})}ngOnInit(){this.newCommentFormControl.addValidators(ut.required)}keyDown(e){e.key==="Enter"&&(e.metaKey||e.ctrlKey)&&this.postComment()}get orderedByDateComments(){return this.comments.sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime())}isCommentedByCurrentUser(e){return this.supabaseAuthService.user()?.id===e}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["app-article-comments"]],inputs:{comments:"comments",articleId:"articleId"},standalone:!0,features:[x],decls:1,vars:0,consts:[["menu","matMenu"],[4,"transloco"],[1,"flex","flex-col","gap-8"],[1,"text-2xl"],[1,"flex","flex-col","gap-2","flex-auto"],[1,"flex","justify-center"],[1,"flex","flex-col","gap-16"],[1,"flex","flex-row","gap-2"],[1,"rounded-full","w-8","h-8",3,"src"],["appearance","outline",1,"w-full"],["matInput","",1,"resize-none",3,"keydown","formControl"],[1,"flex","justify-end"],["mat-button","","color","primary",1,"xs:w-full","w-auto",3,"click","disabled"],[1,"text-xs"],["class","flex flex-row gap-4 items-center flex-auto",4,"ngFor","ngForOf"],[1,"flex","flex-row","gap-4","items-center","flex-auto"],[1,"flex","flex-col","gap-4","flex-auto"],[1,"flex","flex-row","items-center","gap-2","menu-container","flex-auto"],[1,"flex","flex-col","flex-auto"],[1,"font-light","text-xs"],["mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],["mat-menu-item",""],["mat-icon-button","",3,"matMenuTriggerFor"]],template:function(t,i){t&1&&g(0,xa,8,2,"ng-container",1)},dependencies:[ce,re,ae,ne,oe,hn,E,Gt,X,it,At,pe,de,It,St,Zt,nt,ie,rn,an,cn,Dn],styles:[".menu-container[_ngcontent-%COMP%]{line-height:2}"]})}return n})();var Sa=()=>[];function Ia(n,a){if(n&1&&(r(0,"div",0),b(1,"app-blog-article-view",1)(2,"app-article-comments",2),s()),n&2){let e,t=d();c(),p("article",t.article),c(),p("articleId",t.article.id)("comments",(e=t.article.comments)!==null&&e!==void 0?e:$(3,Sa))}}var Zn=(()=>{class n{articleService=u(ct);commentService=u(ve);route=u(xt);router=u(J);snackBar=u(me);article=null;url=this.route.snapshot.params.url;comments=[];ngOnInit(){return M(this,null,function*(){this.url=this.route.snapshot.params.url,yield this.getArticle()})}getArticle(){return M(this,null,function*(){if(!this.url){this.article={};return}let e=(yield this.articleService.getByUrl(this.url)).data?.[0];e&&(this.article=e??{})})}openSnackBar(e){this.snackBar.open(e,"")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["app-blog-article"]],standalone:!0,features:[x],decls:1,vars:1,consts:[[1,"flex","flex-col","gap-8"],[1,"flex-grow",3,"article"],[3,"articleId","comments"]],template:function(t,i){t&1&&g(0,Ia,3,4,"div",0),t&2&&R(i.article?0:-1)},dependencies:[E,tt,_e,Xn],encapsulation:2})}return n})();var Aa=()=>({displayComments:!1}),Jn=(()=>{class n{articleService=u(ct);articles=[];getArticles(){this.articleService.getAll(void 0,{status:N.PendingApproval}).then(e=>{this.articles=e.data??[]})}ngOnInit(){this.getArticles()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["app-blog-admin"]],standalone:!0,features:[x],decls:8,vars:3,consts:[["appearance","outlined"],[1,"text-center"],[3,"articles","options"]],template:function(t,i){t&1&&(r(0,"mat-card",0)(1,"mat-card-header",1)(2,"mat-card-title"),h(3," Blog Admin "),s(),r(4,"mat-card-subtitle"),h(5," Approove posts "),s()(),r(6,"mat-card-content"),b(7,"app-blog-article-list-view",2),s()()),t&2&&(c(7),p("articles",i.articles)("options",$(2,Aa)))},dependencies:[rt,ot,at,ee,Ji,te,ge]})}return n})();var to=[{path:"resume",loadComponent:()=>import("./chunk-U75RALIP.js").then(n=>n.ResumeComponent),pathMatch:"full"},{path:"about",loadComponent:()=>import("./chunk-PYFGBSJJ.js").then(n=>n.AboutComponent),pathMatch:"full"},{path:"blog",loadComponent:()=>import("./chunk-A3CEMC3U.js").then(n=>n.BlogComponent),children:[{path:"",component:Yn,pathMatch:"full"},{path:"new",component:Be,pathMatch:"full",canDeactivate:[Le]},{path:":id/edit",component:Be,pathMatch:"full",canDeactivate:[Le]},{path:"admin",component:Jn},{path:":url",component:Zn,pathMatch:"full"}]},{path:"heart-love",loadComponent:()=>import("./chunk-6IQX7RXJ.js").then(n=>n.HeartLoveComponent),pathMatch:"full"},{path:"manage-profile",loadComponent:()=>import("./chunk-CURPPEVD.js").then(n=>n.AccountManagerComponent)},{path:"**",redirectTo:"about",pathMatch:"full"}];var eo=(()=>{class n{http=u(_i);getTranslation(e){return this.http.get(`/assets/i18n/${e}.json`)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var io=In,no={providers:[Ui({config:{availableLangs:io,defaultLang:"en",reRenderOnLangChange:!0,prodMode:!mi()},loader:eo}),pi({eventCoalescing:!0}),Ti(to),{provide:hi,useClass:ui},bi(),gi(fi()),Bn(),{provide:di,useFactory:(n,a,e,t)=>()=>M(void 0,null,function*(){t.initializeSupabase(),io.forEach(i=>e.load(i).subscribe()),n.initializeTranslation(),a.initializeTheme()}),deps:[Sn,xn,Gi,kt],multi:!0},{provide:Rn,useValue:{duration:2e3}}]};yi(Pn,no).catch(n=>console.error(n));
