import{b as ol,c as sl,f as Vu,g as al}from"./chunk-X5YLR3NI.js";import"./chunk-WUFC7T4E.js";import"./chunk-UW3LHCCT.js";import{a as Oa,b as Vr,c as $a,d as Ua,e as Ba,f as za,g as Va}from"./chunk-2LKT3VS6.js";import{A as ll,C as cl,a as ma,b as ga,c as va,d as _a,e as ba,f as ya,h as wa,j as Ee,k as Ae,l as Pa,m as oo,n as Kt,o as ja,p as Di,r as La,v as Fa,y as Oi,z as Na}from"./chunk-HRNCHPVG.js";import{a as rl,b as nl}from"./chunk-D7IK4GRV.js";import{a as qa,b as Ha,c as so,e as Ga,f as Wa,h as Qa,i as Ka,j as Ja,k as Ya,l as Za,m as Xa,o as el,r as tl,s as il}from"./chunk-MQRJBYM4.js";import{B as Ze,E as Wt,F as He,G as Ea,H as Br,I as Aa,K as pt,M as _e,N as Qt,O as zr,P as Da,a as Sa,c as Ca,j as Ur,k as Ct,l as no,q as ka,s as xa,t as Ta,u as Ia,v as Ra,w as Ma,x as kt,z as Gt}from"./chunk-XLHZEOOR.js";import{B as Xe,C as Jt,D as Tt,d as qe,e as sa,f as Ei,g as aa,h as la,i as Ai,k as ca,l as ua,n as da,o as ha,p as pa,q as ve,u as fa,y as Pi,z as xt}from"./chunk-ZBLAFNMY.js";import{$ as Us,$a as v,$b as Ye,A as Ut,Aa as ie,Ab as Js,Ac as Y,B as Bt,Ba as le,Bb as qt,C as js,Cb as Ht,D as Kn,Da as me,Db as g,E as Le,Ea as Mr,Eb as b,F as ki,Fb as F,Fc as oa,G as Jn,Gb as jr,H as Ls,Hb as Lr,I as kr,Ib as H,J as st,Ja as Er,K as Yn,Kb as Ys,L as Fs,N as Ns,Nb as O,Ob as Zs,Pb as T,Qb as ge,R as Fe,Rb as te,S as pe,Sb as Xs,T as K,Tb as Ce,U as $s,Ub as Ne,V as ee,Vb as G,W as ae,Wb as W,Y as xi,Ya as qs,Z as M,Zb as ht,_ as at,_a as S,_b as L,a as Nt,aa as N,ab as Ar,ac as Fr,b as Is,ba as Zn,bb as Dr,bc as $e,c as Rs,ca as fe,cb as Hs,cc as P,d as Hn,da as m,e as Gn,ea as Bs,eb as Gs,ec as to,f as V,fa as zs,fb as Xn,g as Re,gb as Ws,h as Wn,ha as D,hb as Qs,hc as Ri,i as ot,ia as lt,ic as Nr,j as he,ja as ct,jb as St,jc as ea,k as w,kb as Or,l as Si,la as xr,lc as ta,m as Ms,mb as ut,mc as ia,n as Es,na as Ti,o as E,oa as ze,ob as Ii,oc as Mi,p as Cr,pc as io,q as Se,qa as Tr,qb as dt,qc as ro,r as Ci,ra as $,rb as Ks,s as As,sa as U,sb as eo,sc as $r,t as Qn,ta as Ir,tb as B,tc as ra,u as Ds,ub as re,v as Os,va as zt,vb as A,vc as na,w as Ps,wa as Rr,wb as Pr,wc as ne,x as $t,xa as Ve,xb as Me,y as X,yb as Vt,za as Vs,zb as J}from"./chunk-EJ35YJWS.js";import{a as _,b as se,e as Je,g as Bu,h as zu,i as h}from"./chunk-ODN5LVDJ.js";var hc=Je(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});var Xo=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};es.default=Xo});var is=Je(nr=>{"use strict";var pc=nr&&nr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(nr,"__esModule",{value:!0});var ip=pc((al(),zu(Vu))),rp=pc(hc()),ts=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=ip.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,i){return this.headers=Object.assign({},this.headers),this.headers[t]=i,this}then(t,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let e=this.fetch,r=e(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>h(this,null,function*(){var s,a,c;let l=null,u=null,d=null,f=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){let q=yield o.text();q===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=q:u=JSON.parse(q))}let k=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),C=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");k&&C&&C.length>1&&(d=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let k=yield o.text();try{l=JSON.parse(k),Array.isArray(l)&&o.status===404&&(u=[],l=null,f=200,p="OK")}catch{o.status===404&&k===""?(f=204,p="No Content"):l={message:k}}if(l&&this.isMaybeSingle&&(!((c=l?.details)===null||c===void 0)&&c.includes("0 rows"))&&(l=null,f=200,p="OK"),l&&this.shouldThrowOnError)throw new rp.default(l)}return{error:l,data:u,count:d,status:f,statusText:p}}));return this.shouldThrowOnError||(r=r.catch(o=>{var s,a,c;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(a=o?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=o?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),r.then(t,i)}};nr.default=ts});var ns=Je(or=>{"use strict";var np=or&&or.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(or,"__esModule",{value:!0});var op=np(is()),rs=class extends op.default{select(t){let i=!1,e=(t??"*").split("").map(r=>/\s/.test(r)&&!i?"":(r==='"'&&(i=!i),r)).join("");return this.url.searchParams.set("select",e),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:i=!0,nullsFirst:e,foreignTable:r,referencedTable:o=r}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${i?"asc":"desc"}${e===void 0?"":e?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:i,referencedTable:e=i}={}){let r=typeof e>"u"?"limit":`${e}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,i,{foreignTable:e,referencedTable:r=e}={}){let o=typeof r>"u"?"offset":`${r}.offset`,s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(s,`${i-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:i=!1,settings:e=!1,buffers:r=!1,wal:o=!1,format:s="text"}={}){var a;let c=[t?"analyze":null,i?"verbose":null,e?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${l}"; options=${c};`,s==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};or.default=rs});var mn=Je(sr=>{"use strict";var sp=sr&&sr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(sr,"__esModule",{value:!0});var ap=sp(ns()),os=class extends ap.default{eq(t,i){return this.url.searchParams.append(t,`eq.${i}`),this}neq(t,i){return this.url.searchParams.append(t,`neq.${i}`),this}gt(t,i){return this.url.searchParams.append(t,`gt.${i}`),this}gte(t,i){return this.url.searchParams.append(t,`gte.${i}`),this}lt(t,i){return this.url.searchParams.append(t,`lt.${i}`),this}lte(t,i){return this.url.searchParams.append(t,`lte.${i}`),this}like(t,i){return this.url.searchParams.append(t,`like.${i}`),this}likeAllOf(t,i){return this.url.searchParams.append(t,`like(all).{${i.join(",")}}`),this}likeAnyOf(t,i){return this.url.searchParams.append(t,`like(any).{${i.join(",")}}`),this}ilike(t,i){return this.url.searchParams.append(t,`ilike.${i}`),this}ilikeAllOf(t,i){return this.url.searchParams.append(t,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(t,i){return this.url.searchParams.append(t,`ilike(any).{${i.join(",")}}`),this}is(t,i){return this.url.searchParams.append(t,`is.${i}`),this}in(t,i){let e=Array.from(new Set(i)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${e})`),this}contains(t,i){return typeof i=="string"?this.url.searchParams.append(t,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(t,`cs.{${i.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(i)}`),this}containedBy(t,i){return typeof i=="string"?this.url.searchParams.append(t,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(t,`cd.{${i.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(i)}`),this}rangeGt(t,i){return this.url.searchParams.append(t,`sr.${i}`),this}rangeGte(t,i){return this.url.searchParams.append(t,`nxl.${i}`),this}rangeLt(t,i){return this.url.searchParams.append(t,`sl.${i}`),this}rangeLte(t,i){return this.url.searchParams.append(t,`nxr.${i}`),this}rangeAdjacent(t,i){return this.url.searchParams.append(t,`adj.${i}`),this}overlaps(t,i){return typeof i=="string"?this.url.searchParams.append(t,`ov.${i}`):this.url.searchParams.append(t,`ov.{${i.join(",")}}`),this}textSearch(t,i,{config:e,type:r}={}){let o="";r==="plain"?o="pl":r==="phrase"?o="ph":r==="websearch"&&(o="w");let s=e===void 0?"":`(${e})`;return this.url.searchParams.append(t,`${o}fts${s}.${i}`),this}match(t){return Object.entries(t).forEach(([i,e])=>{this.url.searchParams.append(i,`eq.${e}`)}),this}not(t,i,e){return this.url.searchParams.append(t,`not.${i}.${e}`),this}or(t,{foreignTable:i,referencedTable:e=i}={}){let r=e?`${e}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,i,e){return this.url.searchParams.append(t,`${i}.${e}`),this}};sr.default=os});var as=Je(lr=>{"use strict";var lp=lr&&lr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(lr,"__esModule",{value:!0});var ar=lp(mn()),ss=class{constructor(t,{headers:i={},schema:e,fetch:r}){this.url=t,this.headers=i,this.schema=e,this.fetch=r}select(t,{head:i=!1,count:e}={}){let r=i?"HEAD":"GET",o=!1,s=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),e&&(this.headers.Prefer=`count=${e}`),new ar.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:i,defaultToNull:e=!0}={}){let r="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),e||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){let s=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new ar.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:i,ignoreDuplicates:e=!1,count:r,defaultToNull:o=!0}={}){let s="POST",a=[`resolution=${e?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){let c=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){let l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new ar.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:i}={}){let e="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),i&&r.push(`count=${i}`),this.headers.Prefer=r.join(","),new ar.default({method:e,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){let i="DELETE",e=[];return t&&e.push(`count=${t}`),this.headers.Prefer&&e.unshift(this.headers.Prefer),this.headers.Prefer=e.join(","),new ar.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};lr.default=ss});var fc=Je(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.version=void 0;gn.version="0.0.0-automated"});var mc=Je(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});vn.DEFAULT_HEADERS=void 0;var cp=fc();vn.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${cp.version}`}});var vc=Je(cr=>{"use strict";var gc=cr&&cr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(cr,"__esModule",{value:!0});var up=gc(as()),dp=gc(mn()),hp=mc(),ls=class n{constructor(t,{headers:i={},schema:e,fetch:r}={}){this.url=t,this.headers=Object.assign(Object.assign({},hp.DEFAULT_HEADERS),i),this.schemaName=e,this.fetch=r}from(t){let i=new URL(`${this.url}/${t}`);return new up.default(i,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new n(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,i={},{head:e=!1,get:r=!1,count:o}={}){let s,a=new URL(`${this.url}/rpc/${t}`),c;e||r?(s=e?"HEAD":"GET",Object.entries(i).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(s="POST",c=i);let l=Object.assign({},this.headers);return o&&(l.Prefer=`count=${o}`),new dp.default({method:s,url:a,headers:l,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};cr.default=ls});var Cc=Je(ce=>{"use strict";var ur=ce&&ce.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ce,"__esModule",{value:!0});ce.PostgrestBuilder=ce.PostgrestTransformBuilder=ce.PostgrestFilterBuilder=ce.PostgrestQueryBuilder=ce.PostgrestClient=void 0;var _c=ur(vc());ce.PostgrestClient=_c.default;var bc=ur(as());ce.PostgrestQueryBuilder=bc.default;var yc=ur(mn());ce.PostgrestFilterBuilder=yc.default;var wc=ur(ns());ce.PostgrestTransformBuilder=wc.default;var Sc=ur(is());ce.PostgrestBuilder=Sc.default;ce.default={PostgrestClient:_c.default,PostgrestQueryBuilder:bc.default,PostgrestFilterBuilder:yc.default,PostgrestTransformBuilder:wc.default,PostgrestBuilder:Sc.default}});var x="primary",Ki=Symbol("RouteTitle"),ho=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i[0]:i}return null}getAll(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function ii(n){return new ho(n)}function qu(n,t,i){let e=i.path.split("/");if(e.length>n.length||i.pathMatch==="full"&&(t.hasChildren()||e.length<n.length))return null;let r={};for(let o=0;o<e.length;o++){let s=e[o],a=n[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,e.length),posParams:r}}function Hu(n,t){if(n.length!==t.length)return!1;for(let i=0;i<n.length;++i)if(!Ge(n[i],t[i]))return!1;return!0}function Ge(n,t){let i=n?po(n):void 0,e=t?po(t):void 0;if(!i||!e||i.length!=e.length)return!1;let r;for(let o=0;o<i.length;o++)if(r=i[o],!yl(n[r],t[r]))return!1;return!0}function po(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function yl(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let i=[...n].sort(),e=[...t].sort();return i.every((r,o)=>e[o]===r)}else return n===t}function wl(n){return n.length>0?n[n.length-1]:null}function gt(n){return Ms(n)?n:ia(n)?he(Promise.resolve(n)):w(n)}var Gu={exact:Cl,subset:kl},Sl={exact:Wu,subset:Qu,ignored:()=>!0};function ul(n,t,i){return Gu[i.paths](n.root,t.root,i.matrixParams)&&Sl[i.queryParams](n.queryParams,t.queryParams)&&!(i.fragment==="exact"&&n.fragment!==t.fragment)}function Wu(n,t){return Ge(n,t)}function Cl(n,t,i){if(!Rt(n.segments,t.segments)||!Gr(n.segments,t.segments,i)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let e in t.children)if(!n.children[e]||!Cl(n.children[e],t.children[e],i))return!1;return!0}function Qu(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(i=>yl(n[i],t[i]))}function kl(n,t,i){return xl(n,t,t.segments,i)}function xl(n,t,i,e){if(n.segments.length>i.length){let r=n.segments.slice(0,i.length);return!(!Rt(r,i)||t.hasChildren()||!Gr(r,i,e))}else if(n.segments.length===i.length){if(!Rt(n.segments,i)||!Gr(n.segments,i,e))return!1;for(let r in t.children)if(!n.children[r]||!kl(n.children[r],t.children[r],e))return!1;return!0}else{let r=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!Rt(n.segments,r)||!Gr(n.segments,r,e)||!n.children[x]?!1:xl(n.children[x],t,o,e)}}function Gr(n,t,i){return t.every((e,r)=>Sl[i](n[r].parameters,e.parameters))}var tt=class{constructor(t=new j([],{}),i={},e=null){this.root=t,this.queryParams=i,this.fragment=e}get queryParamMap(){return this._queryParamMap??=ii(this.queryParams),this._queryParamMap}toString(){return Yu.serialize(this)}},j=class{constructor(t,i){this.segments=t,this.children=i,this.parent=null,Object.values(i).forEach(e=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wr(this)}},It=class{constructor(t,i){this.path=t,this.parameters=i}get parameterMap(){return this._parameterMap??=ii(this.parameters),this._parameterMap}toString(){return Il(this)}};function Ku(n,t){return Rt(n,t)&&n.every((i,e)=>Ge(i.parameters,t[e].parameters))}function Rt(n,t){return n.length!==t.length?!1:n.every((i,e)=>i.path===t[e].path)}function Ju(n,t){let i=[];return Object.entries(n.children).forEach(([e,r])=>{e===x&&(i=i.concat(t(r,e)))}),Object.entries(n.children).forEach(([e,r])=>{e!==x&&(i=i.concat(t(r,e)))}),i}var Ji=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=M({token:t,factory:()=>new ri,providedIn:"root"});let n=t;return n})(),ri=class{parse(t){let i=new mo(t);return new tt(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(t){let i=`/${ji(t.root,!0)}`,e=ed(t.queryParams),r=typeof t.fragment=="string"?`#${Zu(t.fragment)}`:"";return`${i}${e}${r}`}},Yu=new ri;function Wr(n){return n.segments.map(t=>Il(t)).join("/")}function ji(n,t){if(!n.hasChildren())return Wr(n);if(t){let i=n.children[x]?ji(n.children[x],!1):"",e=[];return Object.entries(n.children).forEach(([r,o])=>{r!==x&&e.push(`${r}:${ji(o,!1)}`)}),e.length>0?`${i}(${e.join("//")})`:i}else{let i=Ju(n,(e,r)=>r===x?[ji(n.children[x],!1)]:[`${r}:${ji(e,!1)}`]);return Object.keys(n.children).length===1&&n.children[x]!=null?`${Wr(n)}/${i[0]}`:`${Wr(n)}/(${i.join("//")})`}}function Tl(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qr(n){return Tl(n).replace(/%3B/gi,";")}function Zu(n){return encodeURI(n)}function fo(n){return Tl(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qr(n){return decodeURIComponent(n)}function dl(n){return Qr(n.replace(/\+/g,"%20"))}function Il(n){return`${fo(n.path)}${Xu(n.parameters)}`}function Xu(n){return Object.entries(n).map(([t,i])=>`;${fo(t)}=${fo(i)}`).join("")}function ed(n){let t=Object.entries(n).map(([i,e])=>Array.isArray(e)?e.map(r=>`${qr(i)}=${qr(r)}`).join("&"):`${qr(i)}=${qr(e)}`).filter(i=>i);return t.length?`?${t.join("&")}`:""}var td=/^[^\/()?;#]+/;function ao(n){let t=n.match(td);return t?t[0]:""}var id=/^[^\/()?;=#]+/;function rd(n){let t=n.match(id);return t?t[0]:""}var nd=/^[^=?&#]+/;function od(n){let t=n.match(nd);return t?t[0]:""}var sd=/^[^&#]+/;function ad(n){let t=n.match(sd);return t?t[0]:""}var mo=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new j([],{}):new j([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let e={};return this.peekStartsWith("(")&&(e=this.parseParens(!1)),(t.length>0||Object.keys(i).length>0)&&(e[x]=new j(t,i)),e}parseSegment(){let t=ao(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new ae(4009,!1);return this.capture(t),new It(Qr(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let i=rd(this.remaining);if(!i)return;this.capture(i);let e="";if(this.consumeOptional("=")){let r=ao(this.remaining);r&&(e=r,this.capture(e))}t[Qr(i)]=Qr(e)}parseQueryParam(t){let i=od(this.remaining);if(!i)return;this.capture(i);let e="";if(this.consumeOptional("=")){let s=ad(this.remaining);s&&(e=s,this.capture(e))}let r=dl(i),o=dl(e);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let e=ao(this.remaining),r=this.remaining[e.length];if(r!=="/"&&r!==")"&&r!==";")throw new ae(4010,!1);let o;e.indexOf(":")>-1?(o=e.slice(0,e.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=x);let s=this.parseChildren();i[o]=Object.keys(s).length===1?s[x]:new j([],s),this.consumeOptional("//")}return i}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new ae(4011,!1)}};function Rl(n){return n.segments.length>0?new j([],{[x]:n}):n}function Ml(n){let t={};for(let[e,r]of Object.entries(n.children)){let o=Ml(r);if(e===x&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[e]=o)}let i=new j(n.segments,t);return ld(i)}function ld(n){if(n.numberOfChildren===1&&n.children[x]){let t=n.children[x];return new j(n.segments.concat(t.segments),t.children)}return n}function Mt(n){return n instanceof tt}function cd(n,t,i=null,e=null){let r=El(n);return Al(r,t,i,e)}function El(n){let t;function i(o){let s={};for(let c of o.children){let l=i(c);s[c.outlet]=l}let a=new j(o.url,s);return o===n&&(t=a),a}let e=i(n.root),r=Rl(e);return t??r}function Al(n,t,i,e){let r=n;for(;r.parent;)r=r.parent;if(t.length===0)return lo(r,r,r,i,e);let o=ud(t);if(o.toRoot())return lo(r,r,new j([],{}),i,e);let s=dd(o,r,n),a=s.processChildren?Ni(s.segmentGroup,s.index,o.commands):Ol(s.segmentGroup,s.index,o.commands);return lo(r,s.segmentGroup,a,i,e)}function Kr(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Bi(n){return typeof n=="object"&&n!=null&&n.outlets}function lo(n,t,i,e,r){let o={};e&&Object.entries(e).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;n===t?s=i:s=Dl(n,t,i);let a=Rl(Ml(s));return new tt(a,o,r)}function Dl(n,t,i){let e={};return Object.entries(n.children).forEach(([r,o])=>{o===t?e[r]=i:e[r]=Dl(o,t,i)}),new j(n.segments,e)}var Jr=class{constructor(t,i,e){if(this.isAbsolute=t,this.numberOfDoubleDots=i,this.commands=e,t&&e.length>0&&Kr(e[0]))throw new ae(4003,!1);let r=e.find(Bi);if(r&&r!==wl(e))throw new ae(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function ud(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Jr(!0,0,n);let t=0,i=!1,e=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?i=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Jr(i,t,e)}var Xt=class{constructor(t,i,e){this.segmentGroup=t,this.processChildren=i,this.index=e}};function dd(n,t,i){if(n.isAbsolute)return new Xt(t,!0,0);if(!i)return new Xt(t,!1,NaN);if(i.parent===null)return new Xt(i,!0,0);let e=Kr(n.commands[0])?0:1,r=i.segments.length-1+e;return hd(i,r,n.numberOfDoubleDots)}function hd(n,t,i){let e=n,r=t,o=i;for(;o>r;){if(o-=r,e=e.parent,!e)throw new ae(4005,!1);r=e.segments.length}return new Xt(e,!1,r-o)}function pd(n){return Bi(n[0])?n[0].outlets:{[x]:n}}function Ol(n,t,i){if(n??=new j([],{}),n.segments.length===0&&n.hasChildren())return Ni(n,t,i);let e=fd(n,t,i),r=i.slice(e.commandIndex);if(e.match&&e.pathIndex<n.segments.length){let o=new j(n.segments.slice(0,e.pathIndex),{});return o.children[x]=new j(n.segments.slice(e.pathIndex),n.children),Ni(o,0,r)}else return e.match&&r.length===0?new j(n.segments,{}):e.match&&!n.hasChildren()?go(n,t,i):e.match?Ni(n,0,r):go(n,t,i)}function Ni(n,t,i){if(i.length===0)return new j(n.segments,{});{let e=pd(i),r={};if(Object.keys(e).some(o=>o!==x)&&n.children[x]&&n.numberOfChildren===1&&n.children[x].segments.length===0){let o=Ni(n.children[x],t,i);return new j(n.segments,o.children)}return Object.entries(e).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=Ol(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{e[o]===void 0&&(r[o]=s)}),new j(n.segments,r)}}function fd(n,t,i){let e=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(e>=i.length)return o;let s=n.segments[r],a=i[e];if(Bi(a))break;let c=`${a}`,l=e<i.length-1?i[e+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!pl(c,l,s))return o;e+=2}else{if(!pl(c,{},s))return o;e++}r++}return{match:!0,pathIndex:r,commandIndex:e}}function go(n,t,i){let e=n.segments.slice(0,t),r=0;for(;r<i.length;){let o=i[r];if(Bi(o)){let c=md(o.outlets);return new j(e,c)}if(r===0&&Kr(i[0])){let c=n.segments[t];e.push(new It(c.path,hl(i[0]))),r++;continue}let s=Bi(o)?o.outlets[x]:`${o}`,a=r<i.length-1?i[r+1]:null;s&&a&&Kr(a)?(e.push(new It(s,hl(a))),r+=2):(e.push(new It(s,{})),r++)}return new j(e,{})}function md(n){let t={};return Object.entries(n).forEach(([i,e])=>{typeof e=="string"&&(e=[e]),e!==null&&(t[i]=go(new j([],{}),0,e))}),t}function hl(n){let t={};return Object.entries(n).forEach(([i,e])=>t[i]=`${e}`),t}function pl(n,t,i){return n==i.path&&Ge(t,i.parameters)}var $i="imperative",oe=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(oe||{}),De=class{constructor(t,i){this.id=t,this.url=i}},ni=class extends De{constructor(t,i,e="imperative",r=null){super(t,i),this.type=oe.NavigationStart,this.navigationTrigger=e,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Te=class extends De{constructor(t,i,e){super(t,i),this.urlAfterRedirects=e,this.type=oe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},xe=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(xe||{}),Yr=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Yr||{}),et=class extends De{constructor(t,i,e,r){super(t,i),this.reason=e,this.code=r,this.type=oe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ft=class extends De{constructor(t,i,e,r){super(t,i),this.reason=e,this.code=r,this.type=oe.NavigationSkipped}},zi=class extends De{constructor(t,i,e,r){super(t,i),this.error=e,this.target=r,this.type=oe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Zr=class extends De{constructor(t,i,e,r){super(t,i),this.urlAfterRedirects=e,this.state=r,this.type=oe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vo=class extends De{constructor(t,i,e,r){super(t,i),this.urlAfterRedirects=e,this.state=r,this.type=oe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_o=class extends De{constructor(t,i,e,r,o){super(t,i),this.urlAfterRedirects=e,this.state=r,this.shouldActivate=o,this.type=oe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},bo=class extends De{constructor(t,i,e,r){super(t,i),this.urlAfterRedirects=e,this.state=r,this.type=oe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yo=class extends De{constructor(t,i,e,r){super(t,i),this.urlAfterRedirects=e,this.state=r,this.type=oe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wo=class{constructor(t){this.route=t,this.type=oe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},So=class{constructor(t){this.route=t,this.type=oe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Co=class{constructor(t){this.snapshot=t,this.type=oe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ko=class{constructor(t){this.snapshot=t,this.type=oe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xo=class{constructor(t){this.snapshot=t,this.type=oe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},To=class{constructor(t){this.snapshot=t,this.type=oe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xr=class{constructor(t,i,e){this.routerEvent=t,this.position=i,this.anchor=e,this.type=oe.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Vi=class{},oi=class{constructor(t,i){this.url=t,this.navigationBehaviorOptions=i}};function gd(n,t){return n.providers&&!n._injector&&(n._injector=eo(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Ue(n){return n.outlet||x}function vd(n,t){let i=n.filter(e=>Ue(e)===t);return i.push(...n.filter(e=>Ue(e)!==t)),i}function Yi(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let i=t.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var Io=class{get injector(){return Yi(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new Zi(this.rootInjector),this.attachRef=null}},Zi=(()=>{let t=class t{constructor(e){this.rootInjector=e,this.contexts=new Map}onChildOutletCreated(e,r){let o=this.getOrCreateContext(e);o.outlet=r,this.contexts.set(e,o)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new Io(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}};t.\u0275fac=function(r){return new(r||t)(fe(Ti))},t.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),en=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let i=this.pathFromRoot(t);return i.length>1?i[i.length-2]:null}children(t){let i=Ro(t,this._root);return i?i.children.map(e=>e.value):[]}firstChild(t){let i=Ro(t,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(t){let i=Mo(t,this._root);return i.length<2?[]:i[i.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Mo(t,this._root).map(i=>i.value)}};function Ro(n,t){if(n===t.value)return t;for(let i of t.children){let e=Ro(n,i);if(e)return e}return null}function Mo(n,t){if(n===t.value)return[t];for(let i of t.children){let e=Mo(n,i);if(e.length)return e.unshift(t),e}return[]}var ke=class{constructor(t,i){this.value=t,this.children=i}toString(){return`TreeNode(${this.value})`}};function Zt(n){let t={};return n&&n.children.forEach(i=>t[i.value.outlet]=i),t}var tn=class extends en{constructor(t,i){super(t),this.snapshot=i,$o(this,t)}toString(){return this.snapshot.toString()}};function Pl(n){let t=_d(n),i=new Re([new It("",{})]),e=new Re({}),r=new Re({}),o=new Re({}),s=new Re(""),a=new mt(i,e,o,s,r,x,n,t.root);return a.snapshot=t.root,new tn(new ke(a,[]),t)}function _d(n){let t={},i={},e={},r="",o=new ei([],t,e,r,i,x,n,null,{});return new nn("",new ke(o,[]))}var mt=class{constructor(t,i,e,r,o,s,a,c){this.urlSubject=t,this.paramsSubject=i,this.queryParamsSubject=e,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(E(l=>l[Ki]))??w(void 0),this.url=t,this.params=i,this.queryParams=e,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(E(t=>ii(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(E(t=>ii(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function rn(n,t,i="emptyOnly"){let e,{routeConfig:r}=n;return t!==null&&(i==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?e={params:_(_({},t.params),n.params),data:_(_({},t.data),n.data),resolve:_(_(_(_({},n.data),t.data),r?.data),n._resolvedData)}:e={params:_({},n.params),data:_({},n.data),resolve:_(_({},n.data),n._resolvedData??{})},r&&Ll(r)&&(e.resolve[Ki]=r.title),e}var ei=class{get title(){return this.data?.[Ki]}constructor(t,i,e,r,o,s,a,c,l){this.url=t,this.params=i,this.queryParams=e,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ii(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ii(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(e=>e.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${i}')`}},nn=class extends en{constructor(t,i){super(i),this.url=t,$o(this,i)}toString(){return jl(this._root)}};function $o(n,t){t.value._routerState=n,t.children.forEach(i=>$o(n,i))}function jl(n){let t=n.children.length>0?` { ${n.children.map(jl).join(", ")} } `:"";return`${n.value}${t}`}function co(n){if(n.snapshot){let t=n.snapshot,i=n._futureSnapshot;n.snapshot=i,Ge(t.queryParams,i.queryParams)||n.queryParamsSubject.next(i.queryParams),t.fragment!==i.fragment&&n.fragmentSubject.next(i.fragment),Ge(t.params,i.params)||n.paramsSubject.next(i.params),Hu(t.url,i.url)||n.urlSubject.next(i.url),Ge(t.data,i.data)||n.dataSubject.next(i.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Eo(n,t){let i=Ge(n.params,t.params)&&Ku(n.url,t.url),e=!n.parent!=!t.parent;return i&&!e&&(!n.parent||Eo(n.parent,t.parent))}function Ll(n){return typeof n.title=="string"||n.title===null}var Uo=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=x,this.activateEvents=new ie,this.deactivateEvents=new ie,this.attachEvents=new ie,this.detachEvents=new ie,this.parentContexts=m(Zi),this.location=m(Or),this.changeDetector=m(ne),this.inputBinder=m(cn,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:o}=e.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ae(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ae(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ae(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new ae(4013,!1);this._activatedRoute=e;let o=this.location,a=e.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Ao(e,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=ct({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Tr]});let n=t;return n})(),Ao=class n{__ngOutletInjector(t){return new n(this.route,this.childContexts,t)}constructor(t,i,e){this.route=t,this.childContexts=i,this.parent=e}get(t,i){return t===mt?this.route:t===Zi?this.childContexts:this.parent.get(t,i)}},cn=new N(""),fl=(()=>{let t=class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:r}=e,o=Cr([r.queryParams,r.params,r.data]).pipe(pe(([s,a,c],l)=>(c=_(_(_({},s),a),c),l===0?w(c):Promise.resolve(c)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(e);return}let a=oa(r.component);if(!a){this.unsubscribeFromRouteData(e);return}for(let{templateName:c}of a.inputs)e.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(e,o)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=M({token:t,factory:t.\u0275fac});let n=t;return n})();function bd(n,t,i){let e=qi(n,t._root,i?i._root:void 0);return new tn(e,t)}function qi(n,t,i){if(i&&n.shouldReuseRoute(t.value,i.value.snapshot)){let e=i.value;e._futureSnapshot=t.value;let r=yd(n,t,i);return new ke(e,r)}else{if(n.shouldAttach(t.value)){let o=n.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>qi(n,a)),s}}let e=wd(t.value),r=t.children.map(o=>qi(n,o));return new ke(e,r)}}function yd(n,t,i){return t.children.map(e=>{for(let r of i.children)if(n.shouldReuseRoute(e.value,r.value.snapshot))return qi(n,e,r);return qi(n,e)})}function wd(n){return new mt(new Re(n.url),new Re(n.params),new Re(n.queryParams),new Re(n.fragment),new Re(n.data),n.outlet,n.component,n)}var Hi=class{constructor(t,i){this.redirectTo=t,this.navigationBehaviorOptions=i}},Fl="ngNavigationCancelingError";function on(n,t){let{redirectTo:i,navigationBehaviorOptions:e}=Mt(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Nl(!1,xe.Redirect);return r.url=i,r.navigationBehaviorOptions=e,r}function Nl(n,t){let i=new Error(`NavigationCancelingError: ${n||""}`);return i[Fl]=!0,i.cancellationCode=t,i}function Sd(n){return $l(n)&&Mt(n.url)}function $l(n){return!!n&&n[Fl]}var Cd=(n,t,i,e)=>E(r=>(new Do(t,r.targetRouterState,r.currentRouterState,i,e).activate(n),r)),Do=class{constructor(t,i,e,r,o){this.routeReuseStrategy=t,this.futureState=i,this.currState=e,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let i=this.futureState._root,e=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,e,t),co(this.futureState.root),this.activateChildRoutes(i,e,t)}deactivateChildRoutes(t,i,e){let r=Zt(i);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],e),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,e)})}deactivateRoutes(t,i,e){let r=t.value,o=i?i.value:null;if(r===o)if(r.component){let s=e.getContext(r.outlet);s&&this.deactivateChildRoutes(t,i,s.children)}else this.deactivateChildRoutes(t,i,e);else o&&this.deactivateRouteAndItsChildren(i,e)}deactivateRouteAndItsChildren(t,i){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,i):this.deactivateRouteAndOutlet(t,i)}detachAndStoreRouteSubtree(t,i){let e=i.getContext(t.value.outlet),r=e&&t.value.component?e.children:i,o=Zt(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(e&&e.outlet){let s=e.outlet.detach(),a=e.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,i){let e=i.getContext(t.value.outlet),r=e&&t.value.component?e.children:i,o=Zt(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);e&&(e.outlet&&(e.outlet.deactivate(),e.children.onOutletDeactivated()),e.attachRef=null,e.route=null)}activateChildRoutes(t,i,e){let r=Zt(i);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],e),this.forwardEvent(new To(o.value.snapshot))}),t.children.length&&this.forwardEvent(new ko(t.value.snapshot))}activateRoutes(t,i,e){let r=t.value,o=i?i.value:null;if(co(r),r===o)if(r.component){let s=e.getOrCreateContext(r.outlet);this.activateChildRoutes(t,i,s.children)}else this.activateChildRoutes(t,i,e);else if(r.component){let s=e.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),co(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,e)}},sn=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},ti=class{constructor(t,i){this.component=t,this.route=i}};function kd(n,t,i){let e=n._root,r=t?t._root:null;return Li(e,r,i,[e.value])}function xd(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function ai(n,t){let i=Symbol(),e=t.get(n,i);return e===i?typeof n=="function"&&!Us(n)?n:t.get(n):e}function Li(n,t,i,e,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Zt(t);return n.children.forEach(s=>{Td(s,o[s.value.outlet],i,e.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ui(a,i.getContext(s),r)),r}function Td(n,t,i,e,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=t?t.value:null,a=i?i.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=Id(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new sn(e)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Li(n,t,a?a.children:null,e,r):Li(n,t,i,e,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new ti(a.outlet.component,s))}else s&&Ui(t,a,r),r.canActivateChecks.push(new sn(e)),o.component?Li(n,null,a?a.children:null,e,r):Li(n,null,i,e,r);return r}function Id(n,t,i){if(typeof i=="function")return i(n,t);switch(i){case"pathParamsChange":return!Rt(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Rt(n.url,t.url)||!Ge(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Eo(n,t)||!Ge(n.queryParams,t.queryParams);case"paramsChange":default:return!Eo(n,t)}}function Ui(n,t,i){let e=Zt(n),r=n.value;Object.entries(e).forEach(([o,s])=>{r.component?t?Ui(s,t.children.getContext(o),i):Ui(s,null,i):Ui(s,t,i)}),r.component?t&&t.outlet&&t.outlet.isActivated?i.canDeactivateChecks.push(new ti(t.outlet.component,r)):i.canDeactivateChecks.push(new ti(null,r)):i.canDeactivateChecks.push(new ti(null,r))}function Xi(n){return typeof n=="function"}function Rd(n){return typeof n=="boolean"}function Md(n){return n&&Xi(n.canLoad)}function Ed(n){return n&&Xi(n.canActivate)}function Ad(n){return n&&Xi(n.canActivateChild)}function Dd(n){return n&&Xi(n.canDeactivate)}function Od(n){return n&&Xi(n.canMatch)}function Ul(n){return n instanceof Es||n?.name==="EmptyError"}var Hr=Symbol("INITIAL_VALUE");function si(){return pe(n=>Cr(n.map(t=>t.pipe(Le(1),Fe(Hr)))).pipe(E(t=>{for(let i of t)if(i!==!0){if(i===Hr)return Hr;if(i===!1||Pd(i))return i}return!0}),X(t=>t!==Hr),Le(1)))}function Pd(n){return Mt(n)||n instanceof Hi}function jd(n,t){return Se(i=>{let{targetSnapshot:e,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=i;return s.length===0&&o.length===0?w(se(_({},i),{guardsResult:!0})):Ld(s,e,r,n).pipe(Se(a=>a&&Rd(a)?Fd(e,o,n,t):w(a)),E(a=>se(_({},i),{guardsResult:a})))})}function Ld(n,t,i,e){return he(n).pipe(Se(r=>zd(r.component,r.route,i,t,e)),st(r=>r!==!0,!0))}function Fd(n,t,i,e){return he(t).pipe(Bt(r=>As($d(r.route.parent,e),Nd(r.route,e),Bd(n,r.path,i),Ud(n,r.route,i))),st(r=>r!==!0,!0))}function Nd(n,t){return n!==null&&t&&t(new xo(n)),w(!0)}function $d(n,t){return n!==null&&t&&t(new Co(n)),w(!0)}function Ud(n,t,i){let e=t.routeConfig?t.routeConfig.canActivate:null;if(!e||e.length===0)return w(!0);let r=e.map(o=>Qn(()=>{let s=Yi(t)??i,a=ai(o,s),c=Ed(a)?a.canActivate(t,n):ze(s,()=>a(t,n));return gt(c).pipe(st())}));return w(r).pipe(si())}function Bd(n,t,i){let e=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>xd(s)).filter(s=>s!==null).map(s=>Qn(()=>{let a=s.guards.map(c=>{let l=Yi(s.node)??i,u=ai(c,l),d=Ad(u)?u.canActivateChild(e,n):ze(l,()=>u(e,n));return gt(d).pipe(st())});return w(a).pipe(si())}));return w(o).pipe(si())}function zd(n,t,i,e,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return w(!0);let s=o.map(a=>{let c=Yi(t)??r,l=ai(a,c),u=Dd(l)?l.canDeactivate(n,t,i,e):ze(c,()=>l(n,t,i,e));return gt(u).pipe(st())});return w(s).pipe(si())}function Vd(n,t,i,e){let r=t.canLoad;if(r===void 0||r.length===0)return w(!0);let o=r.map(s=>{let a=ai(s,n),c=Md(a)?a.canLoad(t,i):ze(n,()=>a(t,i));return gt(c)});return w(o).pipe(si(),Bl(e))}function Bl(n){return Is(ee(t=>{if(typeof t!="boolean")throw on(n,t)}),E(t=>t===!0))}function qd(n,t,i,e){let r=t.canMatch;if(!r||r.length===0)return w(!0);let o=r.map(s=>{let a=ai(s,n),c=Od(a)?a.canMatch(t,i):ze(n,()=>a(t,i));return gt(c)});return w(o).pipe(si(),Bl(e))}var Gi=class{constructor(t){this.segmentGroup=t||null}},Wi=class extends Error{constructor(t){super(),this.urlTree=t}};function Yt(n){return Si(new Gi(n))}function Hd(n){return Si(new ae(4e3,!1))}function Gd(n){return Si(Nl(!1,xe.GuardRejected))}var Oo=class{constructor(t,i){this.urlSerializer=t,this.urlTree=i}lineralizeSegments(t,i){let e=[],r=i.root;for(;;){if(e=e.concat(r.segments),r.numberOfChildren===0)return w(e);if(r.numberOfChildren>1||!r.children[x])return Hd(`${t.redirectTo}`);r=r.children[x]}}applyRedirectCommands(t,i,e,r,o){if(typeof i!="string"){let a=i,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,params:p,data:y,title:k}=r,C=ze(o,()=>a({params:p,data:y,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,title:k}));if(C instanceof tt)throw new Wi(C);i=C}let s=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),t,e);if(i[0]==="/")throw new Wi(s);return s}applyRedirectCreateUrlTree(t,i,e,r){let o=this.createSegmentGroup(t,i.root,e,r);return new tt(o,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(t,i){let e={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);e[r]=i[a]}else e[r]=o}),e}createSegmentGroup(t,i,e,r){let o=this.createSegments(t,i.segments,e,r),s={};return Object.entries(i.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,e,r)}),new j(o,s)}createSegments(t,i,e,r){return i.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,e))}findPosParam(t,i,e){let r=e[i.path.substring(1)];if(!r)throw new ae(4001,!1);return r}findOrReturn(t,i){let e=0;for(let r of i){if(r.path===t.path)return i.splice(e),r;e++}return t}},Po={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Wd(n,t,i,e,r){let o=Bo(n,t,i);return o.matched?(e=gd(t,e),qd(e,t,i,r).pipe(E(s=>s===!0?o:_({},Po)))):w(o)}function Bo(n,t,i){if(t.path==="**")return Qd(i);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||i.length>0)?_({},Po):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let r=(t.matcher||qu)(i,n,t);if(!r)return _({},Po);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?_(_({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:i.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function Qd(n){return{matched:!0,parameters:n.length>0?wl(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function ml(n,t,i,e){return i.length>0&&Yd(n,i,e)?{segmentGroup:new j(t,Jd(e,new j(i,n.children))),slicedSegments:[]}:i.length===0&&Zd(n,i,e)?{segmentGroup:new j(n.segments,Kd(n,i,e,n.children)),slicedSegments:i}:{segmentGroup:new j(n.segments,n.children),slicedSegments:i}}function Kd(n,t,i,e){let r={};for(let o of i)if(un(n,t,o)&&!e[Ue(o)]){let s=new j([],{});r[Ue(o)]=s}return _(_({},e),r)}function Jd(n,t){let i={};i[x]=t;for(let e of n)if(e.path===""&&Ue(e)!==x){let r=new j([],{});i[Ue(e)]=r}return i}function Yd(n,t,i){return i.some(e=>un(n,t,e)&&Ue(e)!==x)}function Zd(n,t,i){return i.some(e=>un(n,t,e))}function un(n,t,i){return(n.hasChildren()||t.length>0)&&i.pathMatch==="full"?!1:i.path===""}function Xd(n,t,i,e){return Ue(n)!==e&&(e===x||!un(t,i,n))?!1:Bo(t,n,i).matched}function eh(n,t,i){return t.length===0&&!n.children[i]}var jo=class{};function th(n,t,i,e,r,o,s="emptyOnly"){return new Lo(n,t,i,e,r,s,o).recognize()}var ih=31,Lo=class{constructor(t,i,e,r,o,s,a){this.injector=t,this.configLoader=i,this.rootComponentType=e,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Oo(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new ae(4002,`'${t.segmentGroup}'`)}recognize(){let t=ml(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(E(({children:i,rootSnapshot:e})=>{let r=new ke(e,i),o=new nn("",r),s=cd(e,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let i=new ei([],Object.freeze({}),Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),x,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,x,i).pipe(E(e=>({children:e,rootSnapshot:i})),Ut(e=>{if(e instanceof Wi)return this.urlTree=e.urlTree,this.match(e.urlTree.root);throw e instanceof Gi?this.noMatchError(e):e}))}processSegmentGroup(t,i,e,r,o){return e.segments.length===0&&e.hasChildren()?this.processChildren(t,i,e,o):this.processSegment(t,i,e,e.segments,r,!0,o).pipe(E(s=>s instanceof ke?[s]:[]))}processChildren(t,i,e,r){let o=[];for(let s of Object.keys(e.children))s==="primary"?o.unshift(s):o.push(s);return he(o).pipe(Bt(s=>{let a=e.children[s],c=vd(i,s);return this.processSegmentGroup(t,c,a,s,r)}),Ns((s,a)=>(s.push(...a),s)),Kn(null),Fs(),Se(s=>{if(s===null)return Yt(e);let a=zl(s);return rh(a),w(a)}))}processSegment(t,i,e,r,o,s,a){return he(i).pipe(Bt(c=>this.processSegmentAgainstRoute(c._injector??t,i,c,e,r,o,s,a).pipe(Ut(l=>{if(l instanceof Gi)return w(null);throw l}))),st(c=>!!c),Ut(c=>{if(Ul(c))return eh(e,r,o)?w(new jo):Yt(e);throw c}))}processSegmentAgainstRoute(t,i,e,r,o,s,a,c){return Xd(e,r,o,s)?e.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,e,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,i,e,o,s,c):Yt(r):Yt(r)}expandSegmentAgainstRouteUsingRedirect(t,i,e,r,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=Bo(i,r,o);if(!c)return Yt(i);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>ih&&(this.allowRedirects=!1));let p=new ei(o,l,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,gl(r),Ue(r),r.component??r._loadedComponent??null,r,vl(r)),y=rn(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(y.params),p.data=Object.freeze(y.data);let k=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,d,p,t);return this.applyRedirects.lineralizeSegments(r,k).pipe(Se(C=>this.processSegment(t,e,i,C.concat(f),s,!1,a)))}matchSegmentAgainstRoute(t,i,e,r,o,s){let a=Wd(i,e,r,t,this.urlSerializer);return e.path==="**"&&(i.children={}),a.pipe(pe(c=>c.matched?(t=e._injector??t,this.getChildConfig(t,e,r).pipe(pe(({routes:l})=>{let u=e._loadedInjector??t,{parameters:d,consumedSegments:f,remainingSegments:p}=c,y=new ei(f,d,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,gl(e),Ue(e),e.component??e._loadedComponent??null,e,vl(e)),k=rn(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(k.params),y.data=Object.freeze(k.data);let{segmentGroup:C,slicedSegments:q}=ml(i,f,p,l);if(q.length===0&&C.hasChildren())return this.processChildren(u,l,C,y).pipe(E(ue=>new ke(y,ue)));if(l.length===0&&q.length===0)return w(new ke(y,[]));let we=Ue(e)===o;return this.processSegment(u,l,C,q,we?x:o,!0,y).pipe(E(ue=>new ke(y,ue instanceof ke?[ue]:[])))}))):Yt(i)))}getChildConfig(t,i,e){return i.children?w({routes:i.children,injector:t}):i.loadChildren?i._loadedRoutes!==void 0?w({routes:i._loadedRoutes,injector:i._loadedInjector}):Vd(t,i,e,this.urlSerializer).pipe(Se(r=>r?this.configLoader.loadChildren(t,i).pipe(ee(o=>{i._loadedRoutes=o.routes,i._loadedInjector=o.injector})):Gd(i))):w({routes:[],injector:t})}};function rh(n){n.sort((t,i)=>t.value.outlet===x?-1:i.value.outlet===x?1:t.value.outlet.localeCompare(i.value.outlet))}function nh(n){let t=n.value.routeConfig;return t&&t.path===""}function zl(n){let t=[],i=new Set;for(let e of n){if(!nh(e)){t.push(e);continue}let r=t.find(o=>e.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...e.children),i.add(r)):t.push(e)}for(let e of i){let r=zl(e.children);t.push(new ke(e.value,r))}return t.filter(e=>!i.has(e))}function gl(n){return n.data||{}}function vl(n){return n.resolve||{}}function oh(n,t,i,e,r,o){return Se(s=>th(n,t,i,e,s.extractedUrl,r,o).pipe(E(({state:a,tree:c})=>se(_({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function sh(n,t){return Se(i=>{let{targetSnapshot:e,guards:{canActivateChecks:r}}=i;if(!r.length)return w(i);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of Vl(c))s.add(l);let a=0;return he(s).pipe(Bt(c=>o.has(c)?ah(c,e,n,t):(c.data=rn(c,c.parent,n).resolve,w(void 0))),ee(()=>a++),Yn(1),Se(c=>a===s.size?w(i):ot))})}function Vl(n){let t=n.children.map(i=>Vl(i)).flat();return[n,...t]}function ah(n,t,i,e){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!Ll(r)&&(o[Ki]=r.title),lh(o,n,t,e).pipe(E(s=>(n._resolvedData=s,n.data=rn(n,n.parent,i).resolve,null)))}function lh(n,t,i,e){let r=po(n);if(r.length===0)return w({});let o={};return he(r).pipe(Se(s=>ch(n[s],t,i,e).pipe(st(),ee(a=>{if(a instanceof Hi)throw on(new ri,a);o[s]=a}))),Yn(1),ki(o),Ut(s=>Ul(s)?ot:Si(s)))}function ch(n,t,i,e){let r=Yi(t)??e,o=ai(n,r),s=o.resolve?o.resolve(t,i):ze(r,()=>o(t,i));return gt(s)}function uo(n){return pe(t=>{let i=n(t);return i?he(i).pipe(E(()=>t)):w(t)})}var ql=(()=>{let t=class t{buildTitle(e){let r,o=e.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===x);return r}getResolvedTitleForRoute(e){return e.data[Ki]}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=M({token:t,factory:()=>m(uh),providedIn:"root"});let n=t;return n})(),uh=(()=>{let t=class t extends ql{constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}};t.\u0275fac=function(r){return new(r||t)(fe(ya))},t.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),er=new N("",{providedIn:"root",factory:()=>({})}),dh=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=D({type:t,selectors:[["ng-component"]],standalone:!0,features:[P],decls:1,vars:0,template:function(r,o){r&1&&F(0,"router-outlet")},dependencies:[Uo],encapsulation:2});let n=t;return n})();function zo(n){let t=n.children&&n.children.map(zo),i=t?se(_({},n),{children:t}):_({},n);return!i.component&&!i.loadComponent&&(t||i.loadChildren)&&i.outlet&&i.outlet!==x&&(i.component=dh),i}var Qi=new N(""),Vo=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=m($r)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return w(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=gt(e.loadComponent()).pipe(E(Hl),ee(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),kr(()=>{this.componentLoaders.delete(e)})),o=new Gn(r,()=>new V).pipe(Hn());return this.componentLoaders.set(e,o),o}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return w({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=hh(r,this.compiler,e,this.onLoadEndListener).pipe(kr(()=>{this.childrenLoaders.delete(r)})),a=new Gn(s,()=>new V).pipe(Hn());return this.childrenLoaders.set(r,a),a}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function hh(n,t,i,e){return gt(n.loadChildren()).pipe(E(Hl),Se(r=>r instanceof Ks||Array.isArray(r)?w(r):he(t.compileModuleAsync(r))),E(r=>{e&&e(n);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(i).injector,s=o.get(Qi,[],{optional:!0,self:!0}).flat()),{routes:s.map(zo),injector:o}}))}function ph(n){return n&&typeof n=="object"&&"default"in n}function Hl(n){return ph(n)?n.default:n}var qo=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=M({token:t,factory:()=>m(fh),providedIn:"root"});let n=t;return n})(),fh=(()=>{let t=class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),Gl=new N(""),Wl=new N("");function mh(n,t,i){let e=n.get(Wl),r=n.get(qe);return n.get(le).runOutsideAngular(()=>{if(!r.startViewTransition||e.skipNextTransition)return e.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=r.startViewTransition(()=>(o(),gh(n))),{onViewTransitionCreated:c}=e;return c&&ze(n,()=>c({transition:a,from:t,to:i})),s})}function gh(n){return new Promise(t=>{St({read:()=>setTimeout(t)},{injector:n})})}var vh=new N(""),Ho=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new V,this.transitionAbortSubject=new V,this.configLoader=m(Vo),this.environmentInjector=m(Ti),this.urlSerializer=m(Ji),this.rootContexts=m(Zi),this.location=m(Ai),this.inputBindingEnabled=m(cn,{optional:!0})!==null,this.titleStrategy=m(ql),this.options=m(er,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=m(qo),this.createViewTransition=m(Gl,{optional:!0}),this.navigationErrorHandler=m(vh,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>w(void 0),this.rootComponentType=null;let e=o=>this.events.next(new wo(o)),r=o=>this.events.next(new So(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(se(_(_({},this.transitions.value),e),{id:r}))}setupNavigations(e,r,o){return this.transitions=new Re({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:$i,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(X(s=>s.id!==0),E(s=>se(_({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),pe(s=>{let a=!1,c=!1;return w(s).pipe(pe(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",xe.SupersededByNewNavigation),ot;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?se(_({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new ft(l.id,this.urlSerializer.serialize(l.rawUrl),f,Yr.IgnoredSameUrlNavigation)),l.resolve(!1),ot}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return w(l).pipe(pe(f=>{let p=this.transitions?.getValue();return this.events.next(new ni(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),p!==this.transitions?.getValue()?ot:Promise.resolve(f)}),oh(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),ee(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=se(_({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let p=new Zr(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:f,extractedUrl:p,source:y,restoredState:k,extras:C}=l,q=new ni(f,this.urlSerializer.serialize(p),y,k);this.events.next(q);let we=Pl(this.rootComponentType).snapshot;return this.currentTransition=s=se(_({},l),{targetSnapshot:we,urlAfterRedirects:p,extras:se(_({},C),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,w(s)}else{let f="";return this.events.next(new ft(l.id,this.urlSerializer.serialize(l.extractedUrl),f,Yr.IgnoredByUrlHandlingStrategy)),l.resolve(!1),ot}}),ee(l=>{let u=new vo(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),E(l=>(this.currentTransition=s=se(_({},l),{guards:kd(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),jd(this.environmentInjector,l=>this.events.next(l)),ee(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw on(this.urlSerializer,l.guardsResult);let u=new _o(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),X(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",xe.GuardRejected),!1)),uo(l=>{if(l.guards.canActivateChecks.length)return w(l).pipe(ee(u=>{let d=new bo(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),pe(u=>{let d=!1;return w(u).pipe(sh(this.paramsInheritanceStrategy,this.environmentInjector),ee({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",xe.NoDataFromResolver)}}))}),ee(u=>{let d=new yo(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),uo(l=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(ee(p=>{d.component=p}),E(()=>{})));for(let p of d.children)f.push(...u(p));return f};return Cr(u(l.targetSnapshot.root)).pipe(Kn(null),Le(1))}),uo(()=>this.afterPreactivation()),pe(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?he(d).pipe(E(()=>s)):w(s)}),E(l=>{let u=bd(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=se(_({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),ee(()=>{this.events.next(new Vi)}),Cd(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Le(1),ee({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Te(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),K(this.transitionAbortSubject.pipe(ee(l=>{throw l}))),kr(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",xe.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ut(l=>{if(c=!0,$l(l))this.events.next(new et(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),Sd(l)?this.events.next(new oi(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let u=new zi(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let d=ze(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof Hi){let{message:f,cancellationCode:p}=on(this.urlSerializer,d);this.events.next(new et(s.id,this.urlSerializer.serialize(s.extractedUrl),f,p)),this.events.next(new oi(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let f=e.errorHandler(l);s.resolve(!!f)}}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return ot}))}))}cancelNavigationTransition(e,r,o){let s=new et(e.id,this.urlSerializer.serialize(e.extractedUrl),r,o);this.events.next(s),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function _h(n){return n!==$i}var bh=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=M({token:t,factory:()=>m(yh),providedIn:"root"});let n=t;return n})(),Fo=class{shouldDetach(t){return!1}store(t,i){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,i){return t.routeConfig===i.routeConfig}},yh=(()=>{let t=class t extends Fo{};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=zt(t)))(o||t)}})(),t.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),Ql=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=M({token:t,factory:()=>m(wh),providedIn:"root"});let n=t;return n})(),wh=(()=>{let t=class t extends Ql{constructor(){super(...arguments),this.location=m(Ai),this.urlSerializer=m(Ji),this.options=m(er,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=m(qo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new tt,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Pl(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&e(r.url,r.state)})}handleRouterEvent(e,r){if(e instanceof ni)this.stateMemento=this.createStateMemento();else if(e instanceof ft)this.rawUrlTree=r.initialUrl;else if(e instanceof Zr){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??o,r)}}else e instanceof Vi?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):e instanceof et&&(e.code===xe.GuardRejected||e.code===xe.NoDataFromResolver)?this.restoreHistory(r):e instanceof zi?this.restoreHistory(r,!0):e instanceof Te&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,r){let o=e instanceof tt?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,a=_(_({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",a)}else{let s=_(_({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===e.finalUrl&&s===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=zt(t)))(o||t)}})(),t.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),Fi=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Fi||{});function Kl(n,t){n.events.pipe(X(i=>i instanceof Te||i instanceof et||i instanceof zi||i instanceof ft),E(i=>i instanceof Te||i instanceof ft?Fi.COMPLETE:(i instanceof et?i.code===xe.Redirect||i.code===xe.SupersededByNewNavigation:!1)?Fi.REDIRECTING:Fi.FAILED),X(i=>i!==Fi.REDIRECTING),Le(1)).subscribe(()=>{t()})}function Sh(n){throw n}var Ch={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kh={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},be=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=m(ta),this.stateManager=m(Ql),this.options=m(er,{optional:!0})||{},this.pendingTasks=m(Vs),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=m(Ho),this.urlSerializer=m(Ji),this.location=m(Ai),this.urlHandlingStrategy=m(qo),this._events=new V,this.errorHandler=this.options.errorHandler||Sh,this.navigated=!1,this.routeReuseStrategy=m(bh),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=m(Qi,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!m(cn,{optional:!0}),this.eventsSubscription=new Nt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof et&&r.code!==xe.Redirect&&r.code!==xe.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Te)this.navigated=!0;else if(r instanceof oi){let a=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l=_({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||_h(o.source)},a);this.scheduleNavigation(c,$i,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}Th(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),$i,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",r)},0)})}navigateToSyncWithBrowser(e,r,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=_({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(e);this.scheduleNavigation(c,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(zo),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:a,d=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":d=_(_({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let p=o?o.snapshot:this.routerState.snapshot.root;f=El(p)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),f=this.currentUrlTree.root}return Al(f,e,d,u??null)}navigateByUrl(e,r={skipLocationChange:!1}){let o=Mt(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,$i,null,r)}navigate(e,r={skipLocationChange:!1}){return xh(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let o;if(r===!0?o=_({},Ch):r===!1?o=_({},kh):o=r,Mt(e))return ul(this.currentUrlTree,e,o);let s=this.parseUrl(e);return ul(this.currentUrlTree,s,o)}removeEmptyProps(e){return Object.entries(e).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(e,r,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((f,p)=>{c=f,l=p});let d=this.pendingTasks.add();return Kl(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function xh(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new ae(4008,!1)}function Th(n){return!(n instanceof Vi)&&!(n instanceof oi)}var an=(()=>{let t=class t{constructor(e,r,o,s,a,c){this.router=e,this.route=r,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=c,this.href=null,this.onChanges=new V,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(u=>{u instanceof Te&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Mt(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,o,s,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(e!==0||r||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let r=this.href===null?null:qs(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){let o=this.renderer,s=this.el.nativeElement;r!==null?o.setAttribute(s,e,r):o.removeAttribute(s,e)}get urlTree(){return this.routerLinkInput===null?null:Mt(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};t.\u0275fac=function(r){return new(r||t)(v(be),v(mt),Rr("tabindex"),v(Xn),v(me),v(Ei))},t.\u0275dir=ct({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&O("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&re("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Y],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Y],replaceUrl:[2,"replaceUrl","replaceUrl",Y],routerLink:"routerLink"},standalone:!0,features:[dt,Tr]});let n=t;return n})(),Jl=(()=>{let t=class t{get isActive(){return this._isActive}constructor(e,r,o,s,a){this.router=e,this.element=r,this.renderer=o,this.cdr=s,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new ie,this.routerEventsSubscription=e.events.subscribe(c=>{c instanceof Te&&this.update()})}ngAfterContentInit(){w(this.links.changes,w(null)).pipe(Ci()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=he(e).pipe(Ci()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){let r=Array.isArray(e)?e:e.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(r=>{e?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let r=Ih(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let s=o.urlTree;return s?e.isActive(s,r):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}};t.\u0275fac=function(r){return new(r||t)(v(be),v(me),v(Xn),v(ne),v(an,8))},t.\u0275dir=ct({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,o,s){if(r&1&&Ce(s,an,5),r&2){let a;G(a=W())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Tr]});let n=t;return n})();function Ih(n){return!!n.paths}var ln=class{};var Rh=(()=>{let t=class t{constructor(e,r,o,s,a){this.router=e,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(X(e=>e instanceof Te),Bt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){let o=[];for(let s of r){s.providers&&!s._injector&&(s._injector=eo(s.providers,e,`Route: ${s.path}`));let a=s._injector??e,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return he(o).pipe(Ci())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(e,r):o=w(null);let s=o.pipe(Se(a=>a===null?w(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return he([s,a]).pipe(Ci())}else return s})}};t.\u0275fac=function(r){return new(r||t)(fe(be),fe($r),fe(Ti),fe(ln),fe(Vo))},t.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),Yl=new N(""),Mh=(()=>{let t=class t{constructor(e,r,o,s,a={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof ni?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Te?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof ft&&e.code===Yr.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Xr&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Xr(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};t.\u0275fac=function(r){Ar()},t.\u0275prov=M({token:t,factory:t.\u0275fac});let n=t;return n})();function Zl(n,...t){return xr([{provide:Qi,multi:!0,useValue:n},[],{provide:mt,useFactory:Xl,deps:[be]},{provide:io,multi:!0,useFactory:ec},t.map(i=>i.\u0275providers)])}function Xl(n){return n.routerState.root}function tr(n,t){return{\u0275kind:n,\u0275providers:t}}function ec(){let n=m(Ve);return t=>{let i=n.get(ro);if(t!==i.components[0])return;let e=n.get(be),r=n.get(tc);n.get(Go)===1&&e.initialNavigation(),n.get(ic,null,Zn.Optional)?.setUpPreloading(),n.get(Yl,null,Zn.Optional)?.init(),e.resetRootComponentType(i.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var tc=new N("",{factory:()=>new V}),Go=new N("",{providedIn:"root",factory:()=>1});function Eh(){return tr(2,[{provide:Go,useValue:0},{provide:Mi,multi:!0,deps:[Ve],useFactory:t=>{let i=t.get(sa,Promise.resolve());return()=>i.then(()=>new Promise(e=>{let r=t.get(be),o=t.get(tc);Kl(r,()=>{e(!0)}),t.get(Ho).afterPreactivation=()=>(e(!0),o.closed?w(void 0):o),r.initialNavigation()}))}}])}function Ah(){return tr(3,[{provide:Mi,multi:!0,useFactory:()=>{let t=m(be);return()=>{t.setUpLocationChangeListener()}}},{provide:Go,useValue:2}])}var ic=new N("");function Dh(n){return tr(0,[{provide:ic,useExisting:Rh},{provide:ln,useExisting:n}])}function Oh(){return tr(8,[fl,{provide:cn,useExisting:fl}])}function Ph(n){let t=[{provide:Gl,useValue:mh},{provide:Wl,useValue:_({skipNextTransition:!!n?.skipInitialTransition},n)}];return tr(9,t)}var _l=new N("ROUTER_FORROOT_GUARD"),jh=[Ai,{provide:Ji,useClass:ri},be,Zi,{provide:mt,useFactory:Xl,deps:[be]},Vo,[]],vt=(()=>{let t=class t{constructor(e){}static forRoot(e,r){return{ngModule:t,providers:[jh,[],{provide:Qi,multi:!0,useValue:e},{provide:_l,useFactory:$h,deps:[[be,new Bs,new zs]]},{provide:er,useValue:r||{}},r?.useHash?Fh():Nh(),Lh(),r?.preloadingStrategy?Dh(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Uh(r):[],r?.bindToComponentInputs?Oh().\u0275providers:[],r?.enableViewTransitions?Ph().\u0275providers:[],Bh()]}}static forChild(e){return{ngModule:t,providers:[{provide:Qi,multi:!0,useValue:e}]}}};t.\u0275fac=function(r){return new(r||t)(fe(_l,8))},t.\u0275mod=lt({type:t}),t.\u0275inj=at({});let n=t;return n})();function Lh(){return{provide:Yl,useFactory:()=>{let n=m(fa),t=m(le),i=m(er),e=m(Ho),r=m(Ji);return i.scrollOffset&&n.setOffset(i.scrollOffset),new Mh(r,e,n,t,i)}}}function Fh(){return{provide:Ei,useClass:la}}function Nh(){return{provide:Ei,useClass:aa}}function $h(n){return"guarded"}function Uh(n){return[n.initialNavigation==="disabled"?Ah().\u0275providers:[],n.initialNavigation==="enabledBlocking"?Eh().\u0275providers:[]]}var bl=new N("");function Bh(){return[{provide:bl,useFactory:ec},{provide:io,multi:!0,useExisting:bl}]}var Vh=["mat-menu-item",""],qh=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Hh=["mat-icon, [matMenuItemIcon]","*"];function Gh(n,t){n&1&&(Ir(),g(0,"svg",2),F(1,"polygon",3),b())}var Wh=["*"];function Qh(n,t){if(n&1){let i=H();g(0,"div",0),O("keydown",function(r){$(i);let o=T();return U(o._handleKeydown(r))})("click",function(){$(i);let r=T();return U(r.closed.emit("click"))})("@transformMenu.start",function(r){$(i);let o=T();return U(o._onAnimationStart(r))})("@transformMenu.done",function(r){$(i);let o=T();return U(o._onAnimationDone(r))}),g(1,"div",1),te(2),b()()}if(n&2){let i=T();Vt(i._classList),A("id",i.panelId)("@transformMenu",i._panelAnimationState),re("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby||null)("aria-describedby",i.ariaDescribedby||null)}}var Jo=new N("MAT_MENU_PANEL"),it=(()=>{let t=class t{constructor(e,r,o,s,a){this._elementRef=e,this._document=r,this._focusMonitor=o,this._parentMenu=s,this._changeDetectorRef=a,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new V,this._focused=new V,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let e=this._elementRef.nativeElement.cloneNode(!0),r=e.querySelectorAll("mat-icon, .material-icons");for(let o=0;o<r.length;o++)r[o].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}};t.\u0275fac=function(r){return new(r||t)(v(me),v(qe),v(kt),v(Jo,8),v(ne))},t.\u0275cmp=D({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(r,o){r&1&&O("click",function(a){return o._checkDisabled(a)})("mouseenter",function(){return o._handleMouseEnter()}),r&2&&(re("role",o.role)("tabindex",o._getTabIndex())("aria-disabled",o.disabled)("disabled",o.disabled||null),Me("mat-mdc-menu-item-highlighted",o._highlighted)("mat-mdc-menu-item-submenu-trigger",o._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",Y],disableRipple:[2,"disableRipple","disableRipple",Y]},exportAs:["matMenuItem"],standalone:!0,features:[dt,P],attrs:Vh,ngContentSelectors:Hh,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(r,o){r&1&&(ge(qh),te(0),g(1,"span",0),te(2,1),b(),F(3,"div",1),B(4,Gh,2,0,":svg:svg",2)),r&2&&(S(3),A("matRippleDisabled",o.disableRipple||o.disabled)("matRippleTrigger",o._getHostElement()),S(),J(o._triggersSubmenu?4:-1))},dependencies:[Wt],encapsulation:2,changeDetection:0});let n=t;return n})();var Kh=new N("MatMenuContent");var dn={transformMenu:Pi("transformMenu",[Jt("void",Xe({opacity:0,transform:"scale(0.8)"})),Tt("void => enter",xt("120ms cubic-bezier(0, 0, 0.2, 1)",Xe({opacity:1,transform:"scale(1)"}))),Tt("* => void",xt("100ms 25ms linear",Xe({opacity:0})))]),fadeInItems:Pi("fadeInItems",[Jt("showing",Xe({opacity:1})),Tt("void => *",[Xe({opacity:0}),xt("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Fm=dn.fadeInItems,Nm=dn.transformMenu,Jh=0,Yh=new N("mat-menu-default-options",{providedIn:"root",factory:Zh});function Zh(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var We=(()=>{let t=class t{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}set panelClass(e){let r=this._previousPanelClass,o=_({},this._classList);r&&r.length&&r.split(" ").forEach(s=>{o[s]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(s=>{o[s]=!0}),this._elementRef.nativeElement.className=""),this._classList=o}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,r,o,s){this._elementRef=e,this._changeDetectorRef=s,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new Mr,this._classList={},this._panelAnimationState="void",this._animationDone=new V,this.closed=new ie,this.close=this.closed,this.panelId=`mat-menu-panel-${Jh++}`,this._injector=m(Ve),this.overlayPanelClass=o.overlayPanelClass||"",this._xPosition=o.xPosition,this._yPosition=o.yPosition,this.backdropClass=o.backdropClass,this.overlapTrigger=o.overlapTrigger,this.hasBackdrop=o.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new xa(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Fe(this._directDescendantItems),pe(e=>$t(...e.map(r=>r._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{let r=this._keyManager;if(this._panelAnimationState==="enter"&&r.activeItem?._hasFocus()){let o=e.toArray(),s=Math.max(0,Math.min(o.length-1,r.activeItemIndex||0));o[s]&&!o[s].disabled?r.setActiveItem(s):r.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe(Fe(this._directDescendantItems),pe(r=>$t(...r.map(o=>o._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){let r=e.keyCode,o=this._keyManager;switch(r){case 27:Ur(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(r===38||r===40)&&o.setFocusOrigin("keyboard"),o.onKeydown(e);return}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=St(()=>{let r=null;if(this._directDescendantItems.length&&(r=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!r||!r.contains(document.activeElement)){let o=this._keyManager;o.setFocusOrigin(e).setFirstItemActive(),!o.activeItem&&r&&r.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){if(this._baseElevation===null){let c=(typeof getComputedStyle=="function"?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(c)}let r=Math.min(this._baseElevation+e,24),o=`${this._elevationPrefix}${r}`,s=Object.keys(this._classList).find(a=>a.startsWith(this._elevationPrefix));if(!s||s===this._previousElevation){let a=_({},this._classList);this._previousElevation&&(a[this._previousElevation]=!1),a[o]=!0,this._previousElevation=o,this._classList=a}}setPositionClasses(e=this.xPosition,r=this.yPosition){this._classList=se(_({},this._classList),{"mat-menu-before":e==="before","mat-menu-after":e==="after","mat-menu-above":r==="above","mat-menu-below":r==="below"}),this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,e.toState==="enter"&&this._keyManager.activeItemIndex===0&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Fe(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}};t.\u0275fac=function(r){return new(r||t)(v(me),v(le),v(Yh),v(ne))},t.\u0275cmp=D({type:t,selectors:[["mat-menu"]],contentQueries:function(r,o,s){if(r&1&&(Ce(s,Kh,5),Ce(s,it,5),Ce(s,it,4)),r&2){let a;G(a=W())&&(o.lazyContent=a.first),G(a=W())&&(o._allItems=a),G(a=W())&&(o.items=a)}},viewQuery:function(r,o){if(r&1&&Ne(Dr,5),r&2){let s;G(s=W())&&(o.templateRef=s.first)}},hostVars:3,hostBindings:function(r,o){r&2&&re("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",Y],hasBackdrop:[2,"hasBackdrop","hasBackdrop",e=>e==null?null:Y(e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[$e([{provide:Jo,useExisting:t}]),dt,P],ngContentSelectors:Wh,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(r,o){r&1&&(ge(),B(0,Qh,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-app-surface-container));will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-app-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-app-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[dn.transformMenu,dn.fadeInItems]},changeDetection:0});let n=t;return n})(),uc=new N("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let n=m(Oi);return()=>n.scrollStrategies.reposition()}});function Xh(n){return()=>n.scrollStrategies.reposition()}var ep={provide:uc,deps:[Oi],useFactory:Xh},rc=Ca({passive:!0});var li=(()=>{let t=class t{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._parentMaterialMenu,this._menuCloseSubscription=e.close.subscribe(r=>{this._destroyMenu(r),(r==="click"||r==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,r,o,s,a,c,l,u,d){this._overlay=e,this._element=r,this._viewContainerRef=o,this._menuItemInstance=c,this._dir=l,this._focusMonitor=u,this._ngZone=d,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Nt.EMPTY,this._hoverSubscription=Nt.EMPTY,this._menuCloseSubscription=Nt.EMPTY,this._changeDetectorRef=m(ne),this._handleTouchStart=f=>{Ma(f)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new ie,this.onMenuOpen=this.menuOpened,this.menuClosed=new ie,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=a instanceof We?a:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,rc)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,rc),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let e=this.menu;if(this._menuOpen||!e)return;let r=this._createOverlay(e),o=r.getConfig(),s=o.positionStrategy;this._setPosition(e,s),o.hasBackdrop=e.hasBackdrop==null?!this.triggersSubmenu():e.hasBackdrop,r.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof We&&(e._startAnimation(),e._directDescendantItems.changes.pipe(K(e.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,r):this._element.nativeElement.focus(r)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;let r=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&(e==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,r instanceof We?(r._resetAnimation(),r.lazyContent?r._animationDone.pipe(X(o=>o.toState==="void"),Le(1),K(r.lazyContent._attached)).subscribe({next:()=>r.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),r?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let r=0,o=e.parentMenu;for(;o;)r++,o=o.parentMenu;e.setElevation(r)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){let r=this._getOverlayConfig(e);this._subscribeToPositions(e,r.positionStrategy),this._overlayRef=this._overlay.create(r),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new Fa({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,r){e.setPositionClasses&&r.positionChanges.subscribe(o=>{let s=o.connectionPair.overlayX==="start"?"after":"before",a=o.connectionPair.overlayY==="top"?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(s,a)):e.setPositionClasses(s,a)})}_setPosition(e,r){let[o,s]=e.xPosition==="before"?["end","start"]:["start","end"],[a,c]=e.yPosition==="above"?["bottom","top"]:["top","bottom"],[l,u]=[a,c],[d,f]=[o,s],p=0;if(this.triggersSubmenu()){if(f=o=e.xPosition==="before"?"start":"end",s=d=o==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let y=this._parentMaterialMenu.items.first;this._parentInnerPadding=y?y._getHostElement().offsetTop:0}p=a==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(l=a==="top"?"bottom":"top",u=c==="top"?"bottom":"top");r.withPositions([{originX:o,originY:l,overlayX:d,overlayY:a,offsetY:p},{originX:s,originY:l,overlayX:f,overlayY:a,offsetY:p},{originX:o,originY:u,overlayX:d,overlayY:c,offsetY:-p},{originX:s,originY:u,overlayX:f,overlayY:c,offsetY:-p}])}_menuClosingActions(){let e=this._overlayRef.backdropClick(),r=this._overlayRef.detachments(),o=this._parentMaterialMenu?this._parentMaterialMenu.closed:w(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(X(a=>a!==this._menuItemInstance),X(()=>this._menuOpen)):w();return $t(e,o,s,r)}_handleMousedown(e){Ra(e)||(this._openedBy=e.button===0?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){let r=e.keyCode;(r===13||r===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(r===39&&this.dir==="ltr"||r===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(X(e=>e===this._menuItemInstance&&!e.disabled),Jn(0,Wn)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof We&&this.menu._isAnimating?this.menu._animationDone.pipe(Le(1),Jn(0,Wn),K(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new La(e.templateRef,this._viewContainerRef)),this._portal}};t.\u0275fac=function(r){return new(r||t)(v(Oi),v(me),v(Or),v(uc),v(Jo,8),v(it,10),v(Gt,8),v(kt),v(le))},t.\u0275dir=ct({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(r,o){r&1&&O("click",function(a){return o._handleClick(a)})("mousedown",function(a){return o._handleMousedown(a)})("keydown",function(a){return o._handleKeydown(a)}),r&2&&re("aria-haspopup",o.menu?"menu":null)("aria-expanded",o.menuOpen)("aria-controls",o.menuOpen?o.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0});let n=t;return n})(),ci=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=lt({type:t}),t.\u0275inj=at({providers:[ep],imports:[ve,He,Ze,Na,Di,Ze]});let n=t;return n})();var dc=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...i)=>import("./chunk-NPJLHOA5.js").then(({default:e})=>e(...i)):t=fetch,(...i)=>t(...i)};var ir=class extends Error{constructor(t,i="FunctionsError",e){super(t),this.name=i,this.context=e}},hn=class extends ir{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},pn=class extends ir{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},fn=class extends ir{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},Zo=function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n}(Zo||{});var tp=function(n,t,i,e){function r(o){return o instanceof i?o:new i(function(s){s(o)})}return new(i||(i=Promise))(function(o,s){function a(u){try{l(e.next(u))}catch(d){s(d)}}function c(u){try{l(e.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):r(u.value).then(a,c)}l((e=e.apply(n,t||[])).next())})},rr=class{constructor(t,{headers:i={},customFetch:e,region:r=Zo.Any}={}){this.url=t,this.headers=i,this.region=r,this.fetch=dc(e)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,i={}){var e;return tp(this,void 0,void 0,function*(){try{let{headers:r,method:o,body:s}=i,a={},{region:c}=i;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let l;s&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=s):typeof s=="string"?(a["Content-Type"]="text/plain",l=s):typeof FormData<"u"&&s instanceof FormData?l=s:(a["Content-Type"]="application/json",l=JSON.stringify(s)));let u=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:l}).catch(y=>{throw new hn(y)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new pn(u);if(!u.ok)throw new fn(u);let f=((e=u.headers.get("Content-Type"))!==null&&e!==void 0?e:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield u.json():f==="application/octet-stream"?p=yield u.blob():f==="text/event-stream"?p=u:f==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(r){return{data:null,error:r}}})}};var kc=Bu(Cc(),1),{PostgrestClient:xc,PostgrestQueryBuilder:rg,PostgrestFilterBuilder:ng,PostgrestTransformBuilder:og,PostgrestBuilder:sg}=kc.default;var Tc="2.10.2";var Ic={"X-Client-Info":`realtime-js/${Tc}`},Rc="1.0.0",_n=1e4,Mc=1e3,ui=function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n}(ui||{}),Ie=function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n}(Ie||{}),Oe=function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n}(Oe||{}),cs=function(n){return n.websocket="websocket",n}(cs||{}),Et=function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n}(Et||{});var bn=class{constructor(){this.HEADER_LENGTH=1}decode(t,i){return t.constructor===ArrayBuffer?i(this._binaryDecode(t)):i(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){let i=new DataView(t),e=new TextDecoder;return this._decodeBroadcast(t,i,e)}_decodeBroadcast(t,i,e){let r=i.getUint8(1),o=i.getUint8(2),s=this.HEADER_LENGTH+2,a=e.decode(t.slice(s,s+r));s=s+r;let c=e.decode(t.slice(s,s+o));s=s+o;let l=JSON.parse(e.decode(t.slice(s,t.byteLength)));return{ref:null,topic:a,event:c,payload:l}}};var di=class{constructor(t,i){this.callback=t,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var z=function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n}(z||{}),ds=(n,t,i={})=>{var e;let r=(e=i.skipTypes)!==null&&e!==void 0?e:[];return Object.keys(t).reduce((o,s)=>(o[s]=pp(s,n,t,r),o),{})},pp=(n,t,i,e)=>{let r=t.find(a=>a.name===n),o=r?.type,s=i[n];return o&&!e.includes(o)?Ec(o,s):us(s)},Ec=(n,t)=>{if(n.charAt(0)==="_"){let i=n.slice(1,n.length);return vp(t,i)}switch(n){case z.bool:return fp(t);case z.float4:case z.float8:case z.int2:case z.int4:case z.int8:case z.numeric:case z.oid:return mp(t);case z.json:case z.jsonb:return gp(t);case z.timestamp:return _p(t);case z.abstime:case z.date:case z.daterange:case z.int4range:case z.int8range:case z.money:case z.reltime:case z.text:case z.time:case z.timestamptz:case z.timetz:case z.tsrange:case z.tstzrange:return us(t);default:return us(t)}},us=n=>n,fp=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},mp=n=>{if(typeof n=="string"){let t=parseFloat(n);if(!Number.isNaN(t))return t}return n},gp=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},vp=(n,t)=>{if(typeof n!="string")return n;let i=n.length-1,e=n[i];if(n[0]==="{"&&e==="}"){let o,s=n.slice(1,i);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>Ec(t,a))}return n},_p=n=>typeof n=="string"?n.replace(" ","T"):n,yn=n=>{let t=n;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};var hi=class{constructor(t,i,e={},r=_n){this.channel=t,this.event=i,this.payload=e,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,i){var e;return this._hasReceived(t)&&i((e=this.receivedResp)===null||e===void 0?void 0:e.response),this.recHooks.push({status:t,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:i}){this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(i))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var dr=class n{constructor(t,i){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let e=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(e.state,{},r=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,r,o,s),this.pendingDiffs.forEach(c=>{this.state=n.syncDiff(this.state,c,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(e.diff,{},r=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=n.syncDiff(this.state,r,o,s),a())}),this.onJoin((r,o,s)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:o,newPresences:s})}),this.onLeave((r,o,s)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,i,e,r){let o=this.cloneDeep(t),s=this.transformState(i),a={},c={};return this.map(o,(l,u)=>{s[l]||(c[l]=u)}),this.map(s,(l,u)=>{let d=o[l];if(d){let f=u.map(C=>C.presence_ref),p=d.map(C=>C.presence_ref),y=u.filter(C=>p.indexOf(C.presence_ref)<0),k=d.filter(C=>f.indexOf(C.presence_ref)<0);y.length>0&&(a[l]=y),k.length>0&&(c[l]=k)}else a[l]=u}),this.syncDiff(o,{joins:a,leaves:c},e,r)}static syncDiff(t,i,e,r){let{joins:o,leaves:s}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return e||(e=()=>{}),r||(r=()=>{}),this.map(o,(a,c)=>{var l;let u=(l=t[a])!==null&&l!==void 0?l:[];if(t[a]=this.cloneDeep(c),u.length>0){let d=t[a].map(p=>p.presence_ref),f=u.filter(p=>d.indexOf(p.presence_ref)<0);t[a].unshift(...f)}e(a,u,c)}),this.map(s,(a,c)=>{let l=t[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=l,r(a,l,c),l.length===0&&delete t[a]}),t}static map(t,i){return Object.getOwnPropertyNames(t).map(e=>i(e,t[e]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((i,e)=>{let r=t[e];return"metas"in r?i[e]=r.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):i[e]=r,i},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var hr=class n{constructor(t,i={config:{}},e){this.topic=t,this.params=i,this.socket=e,this.bindings={},this.state=Ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new hi(this,Oe.join,this.params,this.timeout),this.rejoinTimer=new di(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ie.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Oe.reply,{},(r,o)=>{this._trigger(this._replyEventName(o),r)}),this.presence=new dr(this),this.broadcastEndpointURL=yn(this.socket.endPoint)+"/api/broadcast"}subscribe(t,i=this.timeout){var e,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:o,presence:s,private:a}}=this.params;this._onError(u=>t&&t("CHANNEL_ERROR",u)),this._onClose(()=>t&&t("CLOSED"));let c={},l={broadcast:o,presence:s,postgres_changes:(r=(e=this.bindings.postgres_changes)===null||e===void 0?void 0:e.map(u=>u.filter))!==null&&r!==void 0?r:[],private:a};this.socket.accessToken&&(c.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},c)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",({postgres_changes:u})=>{var d;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){t&&t("SUBSCRIBED");return}else{let f=this.bindings.postgres_changes,p=(d=f?.length)!==null&&d!==void 0?d:0,y=[];for(let k=0;k<p;k++){let C=f[k],{filter:{event:q,schema:we,table:ue,filter:je}}=C,de=u&&u[k];if(de&&de.event===q&&de.schema===we&&de.table===ue&&de.filter===je)y.push(Object.assign(Object.assign({},C),{id:de.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t("SUBSCRIBED");return}}).receive("error",u=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(e){return h(this,arguments,function*(t,i={}){return yield this.send({type:"presence",event:"track",payload:t},i.timeout||this.timeout)})}untrack(){return h(this,arguments,function*(t={}){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,i,e){return this._on(t,i,e)}send(e){return h(this,arguments,function*(t,i={}){var r,o;if(!this._canPush()&&t.type==="broadcast"){let{event:s,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a}]})};try{let l=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=i.timeout)!==null&&r!==void 0?r:this.timeout);return yield(o=l.body)===null||o===void 0?void 0:o.cancel(),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,c,l;let u=this._push(t.type,t,i.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ie.leaving;let i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Oe.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(e=>{let r=new hi(this,Oe.leave,{},t);r.receive("ok",()=>{i(),e("ok")}).receive("timeout",()=>{i(),e("timed out")}).receive("error",()=>{e("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}_fetchWithTimeout(t,i,e){return h(this,null,function*(){let r=new AbortController,o=setTimeout(()=>r.abort(),e),s=yield this.socket.fetch(t,Object.assign(Object.assign({},i),{signal:r.signal}));return clearTimeout(o),s})}_push(t,i,e=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new hi(this,t,i,e);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(t,i,e){return i}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,i,e){var r,o;let s=t.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=Oe;if(e&&[a,c,l,u].indexOf(s)>=0&&e!==this._joinRef())return;let f=this._onMessage(s,i,e);if(i&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(p=>{var y,k,C;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((C=(k=p.filter)===null||k===void 0?void 0:k.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===s}).map(p=>p.callback(f,e)):(o=this.bindings[s])===null||o===void 0||o.filter(p=>{var y,k,C,q,we,ue;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){let je=p.id,de=(y=p.filter)===null||y===void 0?void 0:y.event;return je&&((k=i.ids)===null||k===void 0?void 0:k.includes(je))&&(de==="*"||de?.toLocaleLowerCase()===((C=i.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{let je=(we=(q=p?.filter)===null||q===void 0?void 0:q.event)===null||we===void 0?void 0:we.toLocaleLowerCase();return je==="*"||je===((ue=i?.event)===null||ue===void 0?void 0:ue.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof f=="object"&&"ids"in f){let y=f.data,{schema:k,table:C,commit_timestamp:q,type:we,errors:ue}=y;f=Object.assign(Object.assign({},{schema:k,table:C,commit_timestamp:q,eventType:we,new:{},old:{},errors:ue}),this._getPayloadRecords(y))}p.callback(f,e)})}_isClosed(){return this.state===Ie.closed}_isJoined(){return this.state===Ie.joined}_isJoining(){return this.state===Ie.joining}_isLeaving(){return this.state===Ie.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,i,e){let r=t.toLocaleLowerCase(),o={type:r,filter:i,callback:e};return this.bindings[r]?this.bindings[r].push(o):this.bindings[r]=[o],this}_off(t,i){let e=t.toLocaleLowerCase();return this.bindings[e]=this.bindings[e].filter(r=>{var o;return!(((o=r.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===e&&n.isEqual(r.filter,i))}),this}static isEqual(t,i){if(Object.keys(t).length!==Object.keys(i).length)return!1;for(let e in t)if(t[e]!==i[e])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Oe.close,{},t)}_onError(t){this._on(Oe.error,{},i=>t(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ie.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let i={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(i.new=ds(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(i.old=ds(t.columns,t.old_record)),i}};var yp=()=>{},wp=typeof WebSocket<"u",pr=class{constructor(t,i){var e;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Ic,this.params={},this.timeout=_n,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=yp,this.conn=null,this.sendBuffer=[],this.serializer=new bn,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>import("./chunk-NPJLHOA5.js").then(({default:c})=>c(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${t}/${cs.websocket}`,this.httpEndpoint=yn(t),i?.transport?this.transport=i.transport:this.transport=null,i?.params&&(this.params=i.params),i?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),i.headers)),i?.timeout&&(this.timeout=i.timeout),i?.logger&&(this.logger=i.logger),i?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=i.heartbeatIntervalMs);let r=(e=i?.params)===null||e===void 0?void 0:e.apikey;r&&(this.accessToken=r,this.apiKey=r),this.reconnectAfterMs=i?.reconnectAfterMs?i.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=i?.encode?i.encode:(o,s)=>s(JSON.stringify(o)),this.decode=i?.decode?i.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new di(()=>h(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(wp){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new hs(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-UHLMCCUZ.js").then(({default:t})=>{this.conn=new t(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(t,i){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,i??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(t){return h(this,null,function*(){let i=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),i})}removeAllChannels(){return h(this,null,function*(){let t=yield Promise.all(this.channels.map(i=>i.unsubscribe()));return this.disconnect(),t})}log(t,i,e){this.logger(t,i,e)}connectionState(){switch(this.conn&&this.conn.readyState){case ui.connecting:return Et.Connecting;case ui.open:return Et.Open;case ui.closing:return Et.Closing;default:return Et.Closed}}isConnected(){return this.connectionState()===Et.Open}channel(t,i={config:{}}){let e=new hr(`realtime:${t}`,i,this);return this.channels.push(e),e}push(t){let{topic:i,event:e,payload:r,ref:o}=t,s=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${i} ${e} (${o})`,r),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(t){this.accessToken=t,this.channels.forEach(i=>{t&&i.updateJoinPayload({access_token:t}),i.joinedOnce&&i._isJoined()&&i._push(Oe.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let i=this.channels.find(e=>e.topic===t&&(e._isJoined()||e._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${t}"`),i.unsubscribe())}_remove(t){this.channels=this.channels.filter(i=>i._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Rc}))}_onConnMessage(t){this.decode(t.data,i=>{let{topic:e,event:r,payload:o,ref:s}=i;(s&&s===this.pendingHeartbeatRef||r===o?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${e} ${r} ${s&&"("+s+")"||""}`,o),this.channels.filter(a=>a._isMember(e)).forEach(a=>a._trigger(r,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(i))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(i=>i(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(i=>i(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Oe.error))}_appendParams(t,i){if(Object.keys(i).length===0)return t;let e=t.match(/\?/)?"&":"?",r=new URLSearchParams(i);return`${t}${e}${r}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Mc,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}};var hs=class{constructor(t,i,e){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ui.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=e.close}};var pi=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Z(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var wn=class extends pi{constructor(t,i){super(t),this.name="StorageApiError",this.status=i}toJSON(){return{name:this.name,message:this.message,status:this.status}}},At=class extends pi{constructor(t,i){super(t),this.name="StorageUnknownError",this.originalError=i}};var Sp=function(n,t,i,e){function r(o){return o instanceof i?o:new i(function(s){s(o)})}return new(i||(i=Promise))(function(o,s){function a(u){try{l(e.next(u))}catch(d){s(d)}}function c(u){try{l(e.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):r(u.value).then(a,c)}l((e=e.apply(n,t||[])).next())})},Cn=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...i)=>import("./chunk-NPJLHOA5.js").then(({default:e})=>e(...i)):t=fetch,(...i)=>t(...i)},Ac=()=>Sp(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-NPJLHOA5.js")).Response:Response}),Sn=n=>{if(Array.isArray(n))return n.map(i=>Sn(i));if(typeof n=="function"||n!==Object(n))return n;let t={};return Object.entries(n).forEach(([i,e])=>{let r=i.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[r]=Sn(e)}),t};var Dt=function(n,t,i,e){function r(o){return o instanceof i?o:new i(function(s){s(o)})}return new(i||(i=Promise))(function(o,s){function a(u){try{l(e.next(u))}catch(d){s(d)}}function c(u){try{l(e.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):r(u.value).then(a,c)}l((e=e.apply(n,t||[])).next())})},ps=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Cp=(n,t,i)=>Dt(void 0,void 0,void 0,function*(){let e=yield Ac();n instanceof e&&!i?.noResolveJson?n.json().then(r=>{t(new wn(ps(r),n.status||500))}).catch(r=>{t(new At(ps(r),r))}):t(new At(ps(n),n))}),kp=(n,t,i,e)=>{let r={method:n,headers:t?.headers||{}};return n==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},t?.headers),e&&(r.body=JSON.stringify(e)),Object.assign(Object.assign({},r),i))};function fr(n,t,i,e,r,o){return Dt(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(i,kp(t,e,r,o)).then(c=>{if(!c.ok)throw c;return e?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>Cp(c,a,e))})})}function fi(n,t,i,e){return Dt(this,void 0,void 0,function*(){return fr(n,"GET",t,i,e)})}function Qe(n,t,i,e,r){return Dt(this,void 0,void 0,function*(){return fr(n,"POST",t,e,r,i)})}function Dc(n,t,i,e,r){return Dt(this,void 0,void 0,function*(){return fr(n,"PUT",t,e,r,i)})}function Oc(n,t,i,e){return Dt(this,void 0,void 0,function*(){return fr(n,"HEAD",t,Object.assign(Object.assign({},i),{noResolveJson:!0}),e)})}function kn(n,t,i,e,r){return Dt(this,void 0,void 0,function*(){return fr(n,"DELETE",t,e,r,i)})}var ye=function(n,t,i,e){function r(o){return o instanceof i?o:new i(function(s){s(o)})}return new(i||(i=Promise))(function(o,s){function a(u){try{l(e.next(u))}catch(d){s(d)}}function c(u){try{l(e.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):r(u.value).then(a,c)}l((e=e.apply(n,t||[])).next())})},xp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Pc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},xn=class{constructor(t,i={},e,r){this.url=t,this.headers=i,this.bucketId=e,this.fetch=Cn(r)}uploadOrUpdate(t,i,e,r){return ye(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},Pc),r),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&e instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),o.append("",e),c&&o.append("metadata",this.encodeMetadata(c))):typeof FormData<"u"&&e instanceof FormData?(o=e,o.append("cacheControl",s.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=e,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),r?.headers&&(a=Object.assign(Object.assign({},a),r.headers));let l=this._removeEmptyFolders(i),u=this._getFinalPath(l),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:o,headers:a},s?.duplex?{duplex:s.duplex}:{})),f=yield d.json();return d.ok?{data:{path:l,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(o){if(Z(o))return{data:null,error:o};throw o}})}upload(t,i,e){return ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,i,e)})}uploadToSignedUrl(t,i,e,r){return ye(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(t),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",i);try{let c,l=Object.assign({upsert:Pc.upsert},r),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&e instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",e)):typeof FormData<"u"&&e instanceof FormData?(c=e,c.append("cacheControl",l.cacheControl)):(c=e,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);let d=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:u}),f=yield d.json();return d.ok?{data:{path:o,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(Z(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,i){return ye(this,void 0,void 0,function*(){try{let e=this._getFinalPath(t),r=Object.assign({},this.headers);i?.upsert&&(r["x-upsert"]="true");let o=yield Qe(this.fetch,`${this.url}/object/upload/sign/${e}`,{},{headers:r}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new pi("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(e){if(Z(e))return{data:null,error:e};throw e}})}update(t,i,e){return ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,i,e)})}move(t,i,e){return ye(this,void 0,void 0,function*(){try{return{data:yield Qe(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:i,destinationBucket:e?.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}})}copy(t,i,e){return ye(this,void 0,void 0,function*(){try{return{data:{path:(yield Qe(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:i,destinationBucket:e?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}})}createSignedUrl(t,i,e){return ye(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),o=yield Qe(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:i},e?.transform?{transform:e.transform}:{}),{headers:this.headers}),s=e?.download?`&download=${e.download===!0?"":e.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}})}createSignedUrls(t,i,e){return ye(this,void 0,void 0,function*(){try{let r=yield Qe(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:t},{headers:this.headers}),o=e?.download?`&download=${e.download===!0?"":e.download}`:"";return{data:r.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}})}download(t,i){return ye(this,void 0,void 0,function*(){let r=typeof i?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(i?.transform||{}),s=o?`?${o}`:"";try{let a=this._getFinalPath(t);return{data:yield(yield fi(this.fetch,`${this.url}/${r}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Z(a))return{data:null,error:a};throw a}})}info(t){return ye(this,void 0,void 0,function*(){let i=this._getFinalPath(t);try{let e=yield fi(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:Sn(e),error:null}}catch(e){if(Z(e))return{data:null,error:e};throw e}})}exists(t){return ye(this,void 0,void 0,function*(){let i=this._getFinalPath(t);try{return yield Oc(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(e){if(Z(e)&&e instanceof At){let r=e.originalError;if([400,404].includes(r?.status))return{data:!1,error:e}}throw e}})}getPublicUrl(t,i){let e=this._getFinalPath(t),r=[],o=i?.download?`download=${i.download===!0?"":i.download}`:"";o!==""&&r.push(o);let a=typeof i?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(i?.transform||{});c!==""&&r.push(c);let l=r.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${e}${l}`)}}}remove(t){return ye(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(i){if(Z(i))return{data:null,error:i};throw i}})}list(t,i,e){return ye(this,void 0,void 0,function*(){try{let r=Object.assign(Object.assign(Object.assign({},xp),i),{prefix:t||""});return{data:yield Qe(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},e),error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let i=[];return t.width&&i.push(`width=${t.width}`),t.height&&i.push(`height=${t.height}`),t.resize&&i.push(`resize=${t.resize}`),t.format&&i.push(`format=${t.format}`),t.quality&&i.push(`quality=${t.quality}`),i.join("&")}};var jc="2.7.0";var Lc={"X-Client-Info":`storage-js/${jc}`};var mi=function(n,t,i,e){function r(o){return o instanceof i?o:new i(function(s){s(o)})}return new(i||(i=Promise))(function(o,s){function a(u){try{l(e.next(u))}catch(d){s(d)}}function c(u){try{l(e.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):r(u.value).then(a,c)}l((e=e.apply(n,t||[])).next())})},Tn=class{constructor(t,i={},e){this.url=t,this.headers=Object.assign(Object.assign({},Lc),i),this.fetch=Cn(e)}listBuckets(){return mi(this,void 0,void 0,function*(){try{return{data:yield fi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Z(t))return{data:null,error:t};throw t}})}getBucket(t){return mi(this,void 0,void 0,function*(){try{return{data:yield fi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(i){if(Z(i))return{data:null,error:i};throw i}})}createBucket(t,i={public:!1}){return mi(this,void 0,void 0,function*(){try{return{data:yield Qe(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(Z(e))return{data:null,error:e};throw e}})}updateBucket(t,i){return mi(this,void 0,void 0,function*(){try{return{data:yield Dc(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(Z(e))return{data:null,error:e};throw e}})}emptyBucket(t){return mi(this,void 0,void 0,function*(){try{return{data:yield Qe(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(Z(i))return{data:null,error:i};throw i}})}deleteBucket(t){return mi(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(i){if(Z(i))return{data:null,error:i};throw i}})}};var mr=class extends Tn{constructor(t,i={},e){super(t,i,e)}from(t){return new xn(this.url,this.headers,t,this.fetch)}};var Fc="2.45.4";var gr="";typeof Deno<"u"?gr="deno":typeof document<"u"?gr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gr="react-native":gr="node";var Tp={"X-Client-Info":`supabase-js-${gr}/${Fc}`},Nc={headers:Tp},$c={schema:"public"},Uc={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Bc={};al();var Ip=function(n,t,i,e){function r(o){return o instanceof i?o:new i(function(s){s(o)})}return new(i||(i=Promise))(function(o,s){function a(u){try{l(e.next(u))}catch(d){s(d)}}function c(u){try{l(e.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):r(u.value).then(a,c)}l((e=e.apply(n,t||[])).next())})},Rp=n=>{let t;return n?t=n:typeof fetch>"u"?t=ol:t=fetch,(...i)=>t(...i)},Mp=()=>typeof Headers>"u"?sl:Headers,zc=(n,t,i)=>{let e=Rp(i),r=Mp();return(o,s)=>Ip(void 0,void 0,void 0,function*(){var a;let c=(a=yield t())!==null&&a!==void 0?a:n,l=new r(s?.headers);return l.has("apikey")||l.set("apikey",n),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),e(o,Object.assign(Object.assign({},s),{headers:l}))})};var Ep=function(n,t,i,e){function r(o){return o instanceof i?o:new i(function(s){s(o)})}return new(i||(i=Promise))(function(o,s){function a(u){try{l(e.next(u))}catch(d){s(d)}}function c(u){try{l(e.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):r(u.value).then(a,c)}l((e=e.apply(n,t||[])).next())})};function Vc(n){return n.replace(/\/$/,"")}function qc(n,t){let{db:i,auth:e,realtime:r,global:o}=n,{db:s,auth:a,realtime:c,global:l}=t,u={db:Object.assign(Object.assign({},s),i),auth:Object.assign(Object.assign({},a),e),realtime:Object.assign(Object.assign({},c),r),global:Object.assign(Object.assign({},l),o),accessToken:()=>Ep(this,void 0,void 0,function*(){return""})};return n.accessToken?u.accessToken=n.accessToken:delete u.accessToken,u}function Hc(n){return Math.round(Date.now()/1e3)+n}function Gc(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let t=Math.random()*16|0;return(n=="x"?t:t&3|8).toString(16)})}var Be=()=>typeof document<"u",Ot={tested:!1,writable:!1},_t=()=>{if(!Be())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ot.tested)return Ot.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Ot.tested=!0,Ot.writable=!0}catch{Ot.tested=!0,Ot.writable=!1}return Ot.writable};function In(n){let t={},i=new URL(n);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((r,o)=>{t[o]=r})}catch{}return i.searchParams.forEach((e,r)=>{t[r]=e}),t}var Rn=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...i)=>import("./chunk-NPJLHOA5.js").then(({default:e})=>e(...i)):t=fetch,(...i)=>t(...i)},Wc=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",bt=(n,t,i)=>h(void 0,null,function*(){yield n.setItem(t,JSON.stringify(i))}),_r=(n,t)=>h(void 0,null,function*(){let i=yield n.getItem(t);if(!i)return null;try{return JSON.parse(i)}catch{return i}}),Mn=(n,t)=>h(void 0,null,function*(){yield n.removeItem(t)});function Ap(n){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="",e,r,o,s,a,c,l,u=0;for(n=n.replace("-","+").replace("_","/");u<n.length;)s=t.indexOf(n.charAt(u++)),a=t.indexOf(n.charAt(u++)),c=t.indexOf(n.charAt(u++)),l=t.indexOf(n.charAt(u++)),e=s<<2|a>>4,r=(a&15)<<4|c>>2,o=(c&3)<<6|l,i=i+String.fromCharCode(e),c!=64&&r!=0&&(i=i+String.fromCharCode(r)),l!=64&&o!=0&&(i=i+String.fromCharCode(o));return i}var vr=class n{constructor(){this.promise=new n.promiseConstructor((t,i)=>{this.resolve=t,this.reject=i})}};vr.promiseConstructor=Promise;function fs(n){let t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,i=n.split(".");if(i.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(i[1]))throw new Error("JWT is not valid: payload is not in base64url format");let e=i[1];return JSON.parse(Ap(e))}function Qc(n){return h(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),n)})})}function Kc(n,t){return new Promise((e,r)=>{h(this,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield n(o);if(!t(o,null,s)){e(s);return}}catch(s){if(!t(o,s)){r(s);return}}})})}function Dp(n){return("0"+n.toString(16)).substr(-2)}function Pt(){let t=new Uint32Array(56);if(typeof crypto>"u"){let i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",e=i.length,r="";for(let o=0;o<56;o++)r+=i.charAt(Math.floor(Math.random()*e));return r}return crypto.getRandomValues(t),Array.from(t,Dp).join("")}function Op(n){return h(this,null,function*(){let i=new TextEncoder().encode(n),e=yield crypto.subtle.digest("SHA-256",i),r=new Uint8Array(e);return Array.from(r).map(o=>String.fromCharCode(o)).join("")})}function Pp(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function jt(n){return h(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let i=yield Op(n);return Pp(i)})}var br=class extends Error{constructor(t,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=i}};function I(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}var En=class extends br{constructor(t,i){super(t,i),this.name="AuthApiError",this.status=i}toJSON(){return{name:this.name,message:this.message,status:this.status}}};function Jc(n){return I(n)&&n.name==="AuthApiError"}var gi=class extends br{constructor(t,i){super(t),this.name="AuthUnknownError",this.originalError=i}},rt=class extends br{constructor(t,i,e){super(t),this.name=i,this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}},nt=class extends rt{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}},vi=class extends rt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}},Lt=class extends rt{constructor(t){super(t,"AuthInvalidCredentialsError",400)}},Ft=class extends rt{constructor(t,i=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},yr=class extends rt{constructor(t,i=null){super(t,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},_i=class extends rt{constructor(t,i){super(t,"AuthRetryableFetchError",i)}};function Dn(n){return I(n)&&n.name==="AuthRetryableFetchError"}var An=class extends rt{constructor(t,i,e){super(t,"AuthWeakPasswordError",i),this.reasons=e}};var jp=function(n,t){var i={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&t.indexOf(e)<0&&(i[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(n);r<e.length;r++)t.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(n,e[r])&&(i[e[r]]=n[e[r]]);return i},bi=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Lp=[502,503,504];function Yc(n){return h(this,null,function*(){if(!Wc(n))throw new _i(bi(n),0);if(Lp.includes(n.status))throw new _i(bi(n),n.status);let t;try{t=yield n.json()}catch(i){throw new gi(bi(i),i)}throw typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,e)=>i&&typeof e=="string",!0)?new An(bi(t),n.status,t.weak_password.reasons):new En(bi(t),n.status||500)})}var Fp=(n,t,i,e)=>{let r={method:n,headers:t?.headers||{}};return n==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),r.body=JSON.stringify(e),Object.assign(Object.assign({},r),i))};function R(n,t,i,e){return h(this,null,function*(){var r;let o=Object.assign({},e?.headers);e?.jwt&&(o.Authorization=`Bearer ${e.jwt}`);let s=(r=e?.query)!==null&&r!==void 0?r:{};e?.redirectTo&&(s.redirect_to=e.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=yield Np(n,t,i+a,{headers:o,noResolveJson:e?.noResolveJson},{},e?.body);return e?.xform?e?.xform(c):{data:Object.assign({},c),error:null}})}function Np(n,t,i,e,r,o){return h(this,null,function*(){let s=Fp(t,e,r,o),a;try{a=yield n(i,s)}catch(c){throw console.error(c),new _i(bi(c),0)}if(a.ok||(yield Yc(a)),e?.noResolveJson)return a;try{return yield a.json()}catch(c){yield Yc(c)}})}function yt(n){var t;let i=null;$p(n)&&(i=Object.assign({},n),n.expires_at||(i.expires_at=Hc(n.expires_in)));let e=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:i,user:e},error:null}}function ms(n){let t=yt(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((i,e)=>i&&typeof e=="string",!0)&&(t.data.weak_password=n.weak_password),t}function Ke(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function Zc(n){return{data:n,error:null}}function Xc(n){let{action_link:t,email_otp:i,hashed_token:e,redirect_to:r,verification_type:o}=n,s=jp(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:i,hashed_token:e,redirect_to:r,verification_type:o},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function eu(n){return n}function $p(n){return n.access_token&&n.refresh_token&&n.expires_in}var Up=function(n,t){var i={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&t.indexOf(e)<0&&(i[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(n);r<e.length;r++)t.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(n,e[r])&&(i[e[r]]=n[e[r]]);return i},yi=class{constructor({url:t="",headers:i={},fetch:e}){this.url=t,this.headers=i,this.fetch=Rn(e),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(t,i="global"){return h(this,null,function*(){try{return yield R(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(e){if(I(e))return{data:null,error:e};throw e}})}inviteUserByEmail(e){return h(this,arguments,function*(t,i={}){try{return yield R(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Ke})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}})}generateLink(t){return h(this,null,function*(){try{let{options:i}=t,e=Up(t,["options"]),r=Object.assign(Object.assign({},e),i);return"newEmail"in e&&(r.new_email=e?.newEmail,delete r.newEmail),yield R(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Xc,redirectTo:i?.redirectTo})}catch(i){if(I(i))return{data:{properties:null,user:null},error:i};throw i}})}createUser(t){return h(this,null,function*(){try{return yield R(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ke})}catch(i){if(I(i))return{data:{user:null},error:i};throw i}})}listUsers(t){return h(this,null,function*(){var i,e,r,o,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield R(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(e=(i=t?.page)===null||i===void 0?void 0:i.toString())!==null&&e!==void 0?e:"",per_page:(o=(r=t?.perPage)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:""},xform:eu});if(u.error)throw u.error;let d=yield u.json(),f=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{let k=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(y.split(";")[1].split("=")[1]);l[`${C}Page`]=k}),l.total=parseInt(f)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(I(l))return{data:{users:[]},error:l};throw l}})}getUserById(t){return h(this,null,function*(){try{return yield R(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ke})}catch(i){if(I(i))return{data:{user:null},error:i};throw i}})}updateUserById(t,i){return h(this,null,function*(){try{return yield R(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:i,headers:this.headers,xform:Ke})}catch(e){if(I(e))return{data:{user:null},error:e};throw e}})}deleteUser(t,i=!1){return h(this,null,function*(){try{return yield R(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:i},xform:Ke})}catch(e){if(I(e))return{data:{user:null},error:e};throw e}})}_listFactors(t){return h(this,null,function*(){try{let{data:i,error:e}=yield R(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:i,error:e}}catch(i){if(I(i))return{data:null,error:i};throw i}})}_deleteFactor(t){return h(this,null,function*(){try{return{data:yield R(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(i){if(I(i))return{data:null,error:i};throw i}})}};var On="2.61.0";var tu="http://localhost:9999",iu="supabase.auth.token";var ru={"X-Client-Info":`gotrue-js/${On}`},gs=10;var nu={getItem:n=>_t()?globalThis.localStorage.getItem(n):null,setItem:(n,t)=>{_t()&&globalThis.localStorage.setItem(n,t)},removeItem:n=>{_t()&&globalThis.localStorage.removeItem(n)}};function vs(n={}){return{getItem:t=>n[t]||null,setItem:(t,i)=>{n[t]=i},removeItem:t=>{delete n[t]}}}function ou(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var Bp={debug:!!(globalThis&&_t()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Pn=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}};ou();var zp={url:tu,storageKey:iu,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ru,flowType:"implicit",debug:!1},wr=30*1e3,su=3;function Vp(n,t,i){return h(this,null,function*(){return yield i()})}var _s=(()=>{class n{constructor(i){var e;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=n.nextInstanceID,n.nextInstanceID+=1,this.instanceID>0&&Be()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let r=Object.assign(Object.assign({},zp),i);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new yi({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Rn(r.fetch),this.lock=r.lock||Vp,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:_t()?this.storage=nu:(this.memoryStorage={},this.storage=vs(this.memoryStorage)):(this.memoryStorage={},this.storage=vs(this.memoryStorage)),Be()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(e=this.broadcastChannel)===null||e===void 0||e.addEventListener("message",o=>h(this,null,function*(){this._debug("received broadcast notification from other tab or client",o),yield this._notifyAllSubscribers(o.data.event,o.data.session,!1)}))}this.initialize()}_debug(...i){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${On}) ${new Date().toISOString()}`,...i),this}initialize(){return h(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=h(this,null,function*(){return yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return h(this,null,function*(){try{let i=Be()?yield this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",i),i||this.detectSessionInUrl&&this._isImplicitGrantFlow()){let{data:e,error:r}=yield this._getSessionFromURL(i);if(r)return this._debug("#_initialize()","error detecting session from URL",r),r?.message==="Identity is already linked"||r?.message==="Identity is already linked to another user"?{error:r}:(yield this._removeSession(),{error:r});let{session:o,redirectType:s}=e;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),yield this._saveSession(o),setTimeout(()=>h(this,null,function*(){s==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",o):yield this._notifyAllSubscribers("SIGNED_IN",o)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(i){return I(i)?{error:i}:{error:new gi("Unexpected error during initialization",i)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signUp(i){return h(this,null,function*(){var e,r,o;try{yield this._removeSession();let s;if("email"in i){let{email:d,password:f,options:p}=i,y=null,k=null;if(this.flowType==="pkce"){let C=Pt();yield bt(this.storage,`${this.storageKey}-code-verifier`,C),y=yield jt(C),k=C===y?"plain":"s256"}s=yield R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p?.emailRedirectTo,body:{email:d,password:f,data:(e=p?.data)!==null&&e!==void 0?e:{},gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:y,code_challenge_method:k},xform:yt})}else if("phone"in i){let{phone:d,password:f,options:p}=i;s=yield R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=p?.data)!==null&&r!==void 0?r:{},channel:(o=p?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:yt})}else throw new Lt("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(I(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(i){return h(this,null,function*(){try{yield this._removeSession();let e;if("email"in i){let{email:s,password:a,options:c}=i;e=yield R(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:ms})}else if("phone"in i){let{phone:s,password:a,options:c}=i;e=yield R(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:ms})}else throw new Lt("You must provide either an email or phone number and a password");let{data:r,error:o}=e;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new vi}:(r.session&&(yield this._saveSession(r.session),yield this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(e){if(I(e))return{data:{user:null,session:null},error:e};throw e}})}signInWithOAuth(i){return h(this,null,function*(){var e,r,o,s;return yield this._removeSession(),yield this._handleProviderSignIn(i.provider,{redirectTo:(e=i.options)===null||e===void 0?void 0:e.redirectTo,scopes:(r=i.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=i.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=i.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(i){return h(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>h(this,null,function*(){return this._exchangeCodeForSession(i)}))})}_exchangeCodeForSession(i){return h(this,null,function*(){let e=yield _r(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(e??"").split("/"),{data:s,error:a}=yield R(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:i,code_verifier:r},xform:yt});return yield Mn(this.storage,`${this.storageKey}-code-verifier`),a?{data:{user:null,session:null,redirectType:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new vi}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})})}signInWithIdToken(i){return h(this,null,function*(){yield this._removeSession();try{let{options:e,provider:r,token:o,access_token:s,nonce:a}=i,c=yield R(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:e?.captchaToken}},xform:yt}),{data:l,error:u}=c;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new vi}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(e){if(I(e))return{data:{user:null,session:null},error:e};throw e}})}signInWithOtp(i){return h(this,null,function*(){var e,r,o,s,a;try{if(yield this._removeSession(),"email"in i){let{email:c,options:l}=i,u=null,d=null;if(this.flowType==="pkce"){let p=Pt();yield bt(this.storage,`${this.storageKey}-code-verifier`,p),u=yield jt(p),d=p===u?"plain":"s256"}let{error:f}=yield R(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(e=l?.data)!==null&&e!==void 0?e:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in i){let{phone:c,options:l}=i,{data:u,error:d}=yield R(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=l?.data)!==null&&o!==void 0?o:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new Lt("You must provide either an email or phone number.")}catch(c){if(I(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(i){return h(this,null,function*(){var e,r;try{i.type!=="email_change"&&i.type!=="phone_change"&&(yield this._removeSession());let o,s;"options"in i&&(o=(e=i.options)===null||e===void 0?void 0:e.redirectTo,s=(r=i.options)===null||r===void 0?void 0:r.captchaToken);let{data:a,error:c}=yield R(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},i),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:yt});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(I(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithSSO(i){return h(this,null,function*(){var e,r,o;try{yield this._removeSession();let s=null,a=null;if(this.flowType==="pkce"){let c=Pt();yield bt(this.storage,`${this.storageKey}-code-verifier`,c),s=yield jt(c),a=c===s?"plain":"s256"}return yield R(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in i?{provider_id:i.providerId}:null),"domain"in i?{domain:i.domain}:null),{redirect_to:(r=(e=i.options)===null||e===void 0?void 0:e.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=i?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:i.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:Zc})}catch(s){if(I(s))return{data:null,error:s};throw s}})}reauthenticate(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return h(this,null,function*(){try{return yield this._useSession(i=>h(this,null,function*(){let{data:{session:e},error:r}=i;if(r)throw r;if(!e)throw new nt;let{error:o}=yield R(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:e.access_token});return{data:{user:null,session:null},error:o}}))}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}})}resend(i){return h(this,null,function*(){try{i.type!="email_change"&&i.type!="phone_change"&&(yield this._removeSession());let e=`${this.url}/resend`;if("email"in i){let{email:r,type:o,options:s}=i,{error:a}=yield R(this.fetch,"POST",e,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in i){let{phone:r,type:o,options:s}=i,{data:a,error:c}=yield R(this.fetch,"POST",e,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new Lt("You must provide either an email or phone number and a type")}catch(e){if(I(e))return{data:{user:null,session:null},error:e};throw e}})}getSession(){return h(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>h(this,null,function*(){return this._useSession(i=>h(this,null,function*(){return i}))}))})}_acquireLock(i,e){return h(this,null,function*(){this._debug("#_acquireLock","begin",i);try{if(this.lockAcquired){let r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=h(this,null,function*(){return yield r,yield e()});return this.pendingInLock.push(h(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,i,()=>h(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let r=e();for(this.pendingInLock.push(h(this,null,function*(){try{yield r}catch{}})),yield r;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(i){return h(this,null,function*(){this._debug("#_useSession","begin");try{let e=yield this.__loadSession();return yield i(e)}finally{this._debug("#_useSession","end")}})}__loadSession(){return h(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let i=null,e=yield _r(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",e),e!==null&&(this._isValidSession(e)?i=e:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!i)return{data:{session:null},error:null};let r=i.expires_at?i.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",i.expires_at),!r)return{data:{session:i},error:null};let{session:o,error:s}=yield this._callRefreshToken(i.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(i){return h(this,null,function*(){return i?yield this._getUser(i):(yield this.initializePromise,this._acquireLock(-1,()=>h(this,null,function*(){return yield this._getUser()})))})}_getUser(i){return h(this,null,function*(){try{return i?yield R(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:i,xform:Ke}):yield this._useSession(e=>h(this,null,function*(){var r,o;let{data:s,error:a}=e;if(a)throw a;return yield R(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0,xform:Ke})}))}catch(e){if(I(e))return{data:{user:null},error:e};throw e}})}updateUser(r){return h(this,arguments,function*(i,e={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._updateUser(i,e)}))})}_updateUser(r){return h(this,arguments,function*(i,e={}){try{return yield this._useSession(o=>h(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new nt;let c=s.session,l=null,u=null;if(this.flowType==="pkce"&&i.email!=null){let p=Pt();yield bt(this.storage,`${this.storageKey}-code-verifier`,p),l=yield jt(p),u=p===l?"plain":"s256"}let{data:d,error:f}=yield R(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:e?.emailRedirectTo,body:Object.assign(Object.assign({},i),{code_challenge:l,code_challenge_method:u}),jwt:c.access_token,xform:Ke});if(f)throw f;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(o){if(I(o))return{data:{user:null},error:o};throw o}})}_decodeJWT(i){return fs(i)}setSession(i){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._setSession(i)}))})}_setSession(i){return h(this,null,function*(){try{if(!i.access_token||!i.refresh_token)throw new nt;let e=Date.now()/1e3,r=e,o=!0,s=null,a=fs(i.access_token);if(a.exp&&(r=a.exp,o=r<=e),o){let{session:c,error:l}=yield this._callRefreshToken(i.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:l}=yield this._getUser(i.access_token);if(l)throw l;s={access_token:i.access_token,refresh_token:i.refresh_token,user:c.user,token_type:"bearer",expires_in:r-e,expires_at:r},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(e){if(I(e))return{data:{session:null,user:null},error:e};throw e}})}refreshSession(i){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._refreshSession(i)}))})}_refreshSession(i){return h(this,null,function*(){try{return yield this._useSession(e=>h(this,null,function*(){var r;if(!i){let{data:a,error:c}=e;if(c)throw c;i=(r=a.session)!==null&&r!==void 0?r:void 0}if(!i?.refresh_token)throw new nt;let{session:o,error:s}=yield this._callRefreshToken(i.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}}))}catch(e){if(I(e))return{data:{user:null,session:null},error:e};throw e}})}_getSessionFromURL(i){return h(this,null,function*(){try{if(!Be())throw new Ft("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Ft("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!i)throw new yr("Not a valid PKCE flow url.");let e=In(window.location.href);if(i){if(!e.code)throw new yr("No code detected.");let{data:ue,error:je}=yield this._exchangeCodeForSession(e.code);if(je)throw je;let de=new URL(window.location.href);return de.searchParams.delete("code"),window.history.replaceState(window.history.state,"",de.toString()),{data:{session:ue.session,redirectType:null},error:null}}if(e.error||e.error_description||e.error_code)throw new Ft(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});let{provider_token:r,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=e;if(!s||!c||!a||!u)throw new Ft("No session defined in URL");let d=Math.round(Date.now()/1e3),f=parseInt(c),p=d+f;l&&(p=parseInt(l));let y=p-d;y*1e3<=wr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${f}s`);let k=p-f;d-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,p,d):d-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",k,p,d);let{data:C,error:q}=yield this._getUser(s);if(q)throw q;let we={provider_token:r,provider_refresh_token:o,access_token:s,expires_in:f,expires_at:p,refresh_token:a,token_type:u,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:we,redirectType:e.type},error:null}}catch(e){if(I(e))return{data:{session:null,redirectType:null},error:e};throw e}})}_isImplicitGrantFlow(){let i=In(window.location.href);return!!(Be()&&(i.access_token||i.error_description))}_isPKCEFlow(){return h(this,null,function*(){let i=In(window.location.href),e=yield _r(this.storage,`${this.storageKey}-code-verifier`);return!!(i.code&&e)})}signOut(){return h(this,arguments,function*(i={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._signOut(i)}))})}_signOut(){return h(this,arguments,function*({scope:i}={scope:"global"}){return yield this._useSession(e=>h(this,null,function*(){var r;let{data:o,error:s}=e;if(s)return{error:s};let a=(r=o.session)===null||r===void 0?void 0:r.access_token;if(a){let{error:c}=yield this.admin.signOut(a,i);if(c&&!(Jc(c)&&(c.status===404||c.status===401)))return{error:c}}return i!=="others"&&(yield this._removeSession(),yield Mn(this.storage,`${this.storageKey}-code-verifier`),yield this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}}))})}onAuthStateChange(i){let e=Gc(),r={id:e,callback:i,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",e),this.stateChangeEmitters.delete(e)}};return this._debug("#onAuthStateChange()","registered callback with id",e),this.stateChangeEmitters.set(e,r),h(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){this._emitInitialSession(e)}))}),{data:{subscription:r}}}_emitInitialSession(i){return h(this,null,function*(){return yield this._useSession(e=>h(this,null,function*(){var r,o;try{let{data:{session:s},error:a}=e;if(a)throw a;yield(r=this.stateChangeEmitters.get(i))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",i,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(i))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",i,"error",s),console.error(s)}}))})}resetPasswordForEmail(r){return h(this,arguments,function*(i,e={}){let o=null,s=null;if(this.flowType==="pkce"){let a=Pt();yield bt(this.storage,`${this.storageKey}-code-verifier`,`${a}/PASSWORD_RECOVERY`),o=yield jt(a),s=a===o?"plain":"s256"}try{return yield R(this.fetch,"POST",`${this.url}/recover`,{body:{email:i,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:e.captchaToken}},headers:this.headers,redirectTo:e.redirectTo})}catch(a){if(I(a))return{data:null,error:a};throw a}})}getUserIdentities(){return h(this,null,function*(){var i;try{let{data:e,error:r}=yield this.getUser();if(r)throw r;return{data:{identities:(i=e.user.identities)!==null&&i!==void 0?i:[]},error:null}}catch(e){if(I(e))return{data:null,error:e};throw e}})}linkIdentity(i){return h(this,null,function*(){var e;try{let{data:r,error:o}=yield this._useSession(s=>h(this,null,function*(){var a,c,l,u,d;let{data:f,error:p}=s;if(p)throw p;let y=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,i.provider,{redirectTo:(a=i.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=i.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=i.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield R(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(o)throw o;return Be()&&!(!((e=i.options)===null||e===void 0)&&e.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:i.provider,url:r?.url},error:null}}catch(r){if(I(r))return{data:{provider:i.provider,url:null},error:r};throw r}})}unlinkIdentity(i){return h(this,null,function*(){try{return yield this._useSession(e=>h(this,null,function*(){var r,o;let{data:s,error:a}=e;if(a)throw a;return yield R(this.fetch,"DELETE",`${this.url}/user/identities/${i.identity_id}`,{headers:this.headers,jwt:(o=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})}))}catch(e){if(I(e))return{data:null,error:e};throw e}})}_refreshAccessToken(i){return h(this,null,function*(){let e=`#_refreshAccessToken(${i.substring(0,5)}...)`;this._debug(e,"begin");try{let r=Date.now();return yield Kc(o=>h(this,null,function*(){return yield Qc(o*200),this._debug(e,"refreshing attempt",o),yield R(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:i},headers:this.headers,xform:yt})}),(o,s,a)=>a&&a.error&&Dn(a.error)&&Date.now()+(o+1)*200-r<wr)}catch(r){if(this._debug(e,"error",r),I(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(e,"end")}})}_isValidSession(i){return typeof i=="object"&&i!==null&&"access_token"in i&&"refresh_token"in i&&"expires_at"in i}_handleProviderSignIn(i,e){return h(this,null,function*(){let r=yield this._getUrlForProvider(`${this.url}/authorize`,i,{redirectTo:e.redirectTo,scopes:e.scopes,queryParams:e.queryParams});return this._debug("#_handleProviderSignIn()","provider",i,"options",e,"url",r),Be()&&!e.skipBrowserRedirect&&window.location.assign(r),{data:{provider:i,url:r},error:null}})}_recoverAndRefresh(){return h(this,null,function*(){var i;let e="#_recoverAndRefresh()";this._debug(e,"begin");try{let r=yield _r(this.storage,this.storageKey);if(this._debug(e,"session from storage",r),!this._isValidSession(r)){this._debug(e,"session is not valid"),r!==null&&(yield this._removeSession());return}let o=Math.round(Date.now()/1e3),s=((i=r.expires_at)!==null&&i!==void 0?i:1/0)<o+gs;if(this._debug(e,`session has${s?"":" not"} expired with margin of ${gs}s`),s){if(this.autoRefreshToken&&r.refresh_token){let{error:a}=yield this._callRefreshToken(r.refresh_token);a&&(console.error(a),Dn(a)||(this._debug(e,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(e,"error",r),console.error(r);return}finally{this._debug(e,"end")}})}_callRefreshToken(i){return h(this,null,function*(){var e,r;if(!i)throw new nt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${i.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new vr;let{data:s,error:a}=yield this._refreshAccessToken(i);if(a)throw a;if(!s.session)throw new nt;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={session:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(o,"error",s),I(s)){let a={session:null,error:s};return Dn(s)||(yield this._removeSession(),yield this._notifyAllSubscribers("SIGNED_OUT",null)),(e=this.refreshingDeferred)===null||e===void 0||e.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(i,e,r=!0){return h(this,null,function*(){let o=`#_notifyAllSubscribers(${i})`;this._debug(o,"begin",e,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:i,session:e});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>h(this,null,function*(){try{yield c.callback(i,e)}catch(l){s.push(l)}}));if(yield Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(i){return h(this,null,function*(){this._debug("#_saveSession()",i),yield bt(this.storage,this.storageKey,i)})}_removeSession(){return h(this,null,function*(){this._debug("#_removeSession()"),yield Mn(this.storage,this.storageKey)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let i=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{i&&Be()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",i)}catch(e){console.error("removing visibilitychange callback failed",e)}}_startAutoRefresh(){return h(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let i=setInterval(()=>this._autoRefreshTokenTick(),wr);this.autoRefreshTicker=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i),setTimeout(()=>h(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return h(this,null,function*(){this._debug("#_stopAutoRefresh()");let i=this.autoRefreshTicker;this.autoRefreshTicker=null,i&&clearInterval(i)})}startAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return h(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>h(this,null,function*(){try{let i=Date.now();try{return yield this._useSession(e=>h(this,null,function*(){let{data:{session:r}}=e;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((r.expires_at*1e3-i)/wr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${wr}ms, refresh threshold is ${su} ticks`),o<=su&&(yield this._callRefreshToken(r.refresh_token))}))}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(i){if(i.isAcquireTimeout||i instanceof Pn)this._debug("auto refresh token tick lock not available");else throw i}})}_handleVisibilityChange(){return h(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Be()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>h(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(i){console.error("_handleVisibilityChange",i)}})}_onVisibilityChanged(i){return h(this,null,function*(){let e=`#_onVisibilityChanged(${i})`;this._debug(e,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),i||(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(e,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(i,e,r){return h(this,null,function*(){let o=[`provider=${encodeURIComponent(e)}`];if(r?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){let s=Pt();yield bt(this.storage,`${this.storageKey}-code-verifier`,s);let a=yield jt(s),c=s===a?"plain":"s256";this._debug("PKCE","code verifier",`${s.substring(0,5)}...`,"code challenge",a,"method",c);let l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(l.toString())}if(r?.queryParams){let s=new URLSearchParams(r.queryParams);o.push(s.toString())}return r?.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${i}?${o.join("&")}`})}_unenroll(i){return h(this,null,function*(){try{return yield this._useSession(e=>h(this,null,function*(){var r;let{data:o,error:s}=e;return s?{data:null,error:s}:yield R(this.fetch,"DELETE",`${this.url}/factors/${i.factorId}`,{headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token})}))}catch(e){if(I(e))return{data:null,error:e};throw e}})}_enroll(i){return h(this,null,function*(){try{return yield this._useSession(e=>h(this,null,function*(){var r,o;let{data:s,error:a}=e;if(a)return{data:null,error:a};let{data:c,error:l}=yield R(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:i.friendlyName,factor_type:i.factorType,issuer:i.issuer},headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(!((o=c?.totp)===null||o===void 0)&&o.qr_code&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})}))}catch(e){if(I(e))return{data:null,error:e};throw e}})}_verify(i){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(e=>h(this,null,function*(){var r;let{data:o,error:s}=e;if(s)return{data:null,error:s};let{data:a,error:c}=yield R(this.fetch,"POST",`${this.url}/factors/${i.factorId}/verify`,{body:{code:i.code,challenge_id:i.challengeId},headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})}))}catch(e){if(I(e))return{data:null,error:e};throw e}}))})}_challenge(i){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(e=>h(this,null,function*(){var r;let{data:o,error:s}=e;return s?{data:null,error:s}:yield R(this.fetch,"POST",`${this.url}/factors/${i.factorId}/challenge`,{headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token})}))}catch(e){if(I(e))return{data:null,error:e};throw e}}))})}_challengeAndVerify(i){return h(this,null,function*(){let{data:e,error:r}=yield this._challenge({factorId:i.factorId});return r?{data:null,error:r}:yield this._verify({factorId:i.factorId,challengeId:e.id,code:i.code})})}_listFactors(){return h(this,null,function*(){let{data:{user:i},error:e}=yield this.getUser();if(e)return{data:null,error:e};let r=i?.factors||[],o=r.filter(s=>s.factor_type==="totp"&&s.status==="verified");return{data:{all:r,totp:o},error:null}})}_getAuthenticatorAssuranceLevel(){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){return yield this._useSession(i=>h(this,null,function*(){var e,r;let{data:{session:o},error:s}=i;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let a=this._decodeJWT(o.access_token),c=null;a.aal&&(c=a.aal);let l=c;((r=(e=o.user.factors)===null||e===void 0?void 0:e.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");let d=a.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}))})}}return n.nextInstanceID=0,n})();var qp=_s,bs=qp;var jn=class extends bs{constructor(t){super(t)}};var Hp=function(n,t,i,e){function r(o){return o instanceof i?o:new i(function(s){s(o)})}return new(i||(i=Promise))(function(o,s){function a(u){try{l(e.next(u))}catch(d){s(d)}}function c(u){try{l(e.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):r(u.value).then(a,c)}l((e=e.apply(n,t||[])).next())})},Ln=class{constructor(t,i,e){var r,o,s;if(this.supabaseUrl=t,this.supabaseKey=i,!t)throw new Error("supabaseUrl is required.");if(!i)throw new Error("supabaseKey is required.");let a=Vc(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;let c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l={db:$c,realtime:Bc,auth:Object.assign(Object.assign({},Uc),{storageKey:c}),global:Nc},u=qc(e??{},l);this.storageKey=(r=u.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=zc(i,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},u.realtime)),this.rest=new xc(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new rr(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new mr(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,i={},e={}){return this.rest.rpc(t,i,e)}channel(t,i={config:{}}){return this.realtime.channel(t,i)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,i;return Hp(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:e}=yield this.auth.getSession();return(i=(t=e.session)===null||t===void 0?void 0:t.access_token)!==null&&i!==void 0?i:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:i,detectSessionInUrl:e,storage:r,storageKey:o,flowType:s,lock:a,debug:c},l,u){var d;let f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jn({url:this.authUrl,headers:Object.assign(Object.assign({},f),l),storageKey:o,autoRefreshToken:t,persistSession:i,detectSessionInUrl:e,storage:r,flowType:s,lock:a,debug:c,fetch:u,hasCustomAuthorizationHeader:(d="Authorization"in this.headers)!==null&&d!==void 0?d:!1})}_initRealtimeClient(t){return new pr(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,e)=>{this._handleTokenChanged(i,"CLIENT",e?.access_token)})}_handleTokenChanged(t,i,e){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==e?(this.realtime.setAuth(e??null),this.changedAccessToken=e):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var au=(n,t,i)=>new Ln(n,t,i);var ys={production:!1,supabaseUrl:"https://zbznarraayfwtijhdnmy.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpiem5hcnJhYXlmd3Rpamhkbm15Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjYzNjIxNTgsImV4cCI6MjA0MTkzODE1OH0.BigS8tKoVoJJrrH9fFuZQPoEmSF8Ad8d3NUSf4LBNCU"};var wt=(()=>{class n{supabase;ngZone=m(le);_session=null;initializeSupabase(){this.supabase=this.ngZone.runOutsideAngular(()=>au(ys.supabaseUrl,ys.supabaseKey))}get session(){return this.supabase.auth.getSession().then(({data:i})=>{this._session=i.session}),this._session}get supabaseClient(){return this.supabase}profile(i){return this.supabase.from("profiles").select("username, website, avatar_url").eq("id",i.id).single()}authChanges(i){return this.supabase.auth.onAuthStateChange(i)}signIn(i){return this.supabase.auth.signInWithOtp({email:i})}signOut(){return this.supabase.auth.signOut()}updateProfile(i){let e=se(_({},i),{updated_at:new Date});return this.supabase.from("profiles").upsert(e)}downLoadImage(i){return this.supabase.storage.from("avatars").download(i)}uploadAvatar(i,e){return this.supabase.storage.from("avatars").upload(i,e)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Gp(n,t){n&1&&(g(0,"mat-error"),L(1," Email is required "),b())}function Wp(n,t){n&1&&(g(0,"mat-error"),L(1," Invalid email "),b())}function Qp(n,t){if(n&1&&B(0,Gp,2,0,"mat-error",5)(1,Wp,2,0,"mat-error",5),n&2){let i=T();A("ngIf",i.email.hasError("required")),S(),A("ngIf",i.email.hasError("email"))}}function Kp(n,t){n&1&&(g(0,"span",7),L(1," Link sent! Please check your email and use the link to sign in. "),b())}function Jp(n,t){if(n&1&&(g(0,"mat-error"),L(1),b()),n&2){let i=T();S(),Ye(i.linkError)}}function Yp(n,t){n&1&&(g(0,"span"),L(1,"Send link"),b())}function Zp(n,t){if(n&1&&(g(0,"span"),L(1),Ri(2,"async"),Ri(3,"date"),b()),n&2){let i=T();S(),Fr(" Resend link in ",ea(3,3,Nr(2,1,i.timeRemaining$),"s")," ")}}var cu=(()=>{class n{linkSent=!1;formBuilder=m(Ya);loginForm=this.formBuilder.group({email:["",[so.required,so.email]]});supabaseService=m(wt);supabase=this.supabaseService.supabaseClient;seconds=10;timeRemaining$=new Rs;errorMessages=[];linkError="";get email(){return this.loginForm.get("email")}initTimer(){this.timeRemaining$=Ps(0,1e3).pipe(E(e=>(this.seconds-e)*1e3),$s(e=>e>=0));let i=this.timeRemaining$.subscribe({complete:()=>{this.linkSent=!1,i.unsubscribe(),this.email.enable()}})}onSubmit(){return h(this,null,function*(){this.errorMessages=[],this.loginForm.markAsDirty(),this.loginForm.markAsTouched();let i=this.loginForm.errors;if(i&&(this.errorMessages=Object.keys(i).map(r=>i[r])),this.loginForm.invalid)return;let{error:e}=yield this.supabaseService.signIn(this.email.value);if(e){this.errorMessages.push(e.message),this.linkError=`Error: ${e.message}`;return}this.linkSent=!0,this.email.disable(),this.initTimer()})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-login-dialog"]],standalone:!0,features:[P],decls:16,vars:7,consts:[[3,"ngSubmit","formGroup"],["mat-dialog-title",""],[1,"flex","flex-col","gap-4","w-full"],["matInput","","placeholder","Email","formControlName","email"],["class","color-primary",4,"ngIf"],[4,"ngIf"],["mat-button","",3,"click","disabled"],[1,"color-primary"]],template:function(e,r){e&1&&(g(0,"form",0),O("ngSubmit",function(){return r.onSubmit()}),g(1,"h2",1),L(2,"Login"),b(),g(3,"mat-dialog-content")(4,"div",2)(5,"p"),L(6,"Sign in via magic link with your email below"),b(),g(7,"mat-form-field"),F(8,"input",3),b(),B(9,Qp,2,2)(10,Kp,2,0,"span",4)(11,Jp,2,1,"mat-error",5),b()(),g(12,"mat-dialog-actions")(13,"button",6),O("click",function(){return r.onSubmit()}),B(14,Yp,2,0,"span",5)(15,Zp,4,6,"span",5),b()()()),e&2&&(A("formGroup",r.loginForm),S(9),J(r.email.invalid&&r.email.touched?9:-1),S(),A("ngIf",r.linkSent),S(),A("ngIf",r.linkError),S(2),A("disabled",r.linkSent),S(),A("ngIf",!r.linkSent),S(),A("ngIf",r.linkSent))},dependencies:[Va,Ua,za,Ba,_e,Br,il,tl,el,nl,rl,ve,ua,da,pa,Xa,Qa,Ha,Ga,Wa,Ka,Ja,Za]})}return n})();var uu=(()=>{class n{matDialog=m($a);openLoginDialog(){this.matDialog.open(cu)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-auth-sidenav-widget"]],standalone:!0,features:[P],decls:7,vars:1,consts:[["languagePicker","matMenu"],["color","primary","mat-icon-button","",3,"matMenuTriggerFor"],[1,"navbar-button-icon"],["xPosition","before"],["mat-menu-item","",3,"click"]],template:function(e,r){if(e&1){let o=H();g(0,"button",1)(1,"mat-icon",2),L(2,"account_circle"),b()(),g(3,"mat-menu",3,0)(5,"a",4),O("click",function(){return $(o),U(r.openLoginDialog())}),L(6,"Sign in"),b()()}if(e&2){let o=ht(4);A("matMenuTriggerFor",o)}},dependencies:[ci,We,it,li,_e,pt,Ae,Ee,vt]})}return n})();var du=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-qt-aliens"]],standalone:!0,features:[P],decls:2,vars:2,consts:[["matRipple","","tabindex","-1","href","https://www.youtube.com/watch?v=diCf5Sep5Fo","target","_blank",1,"aliens-container",3,"matRippleUnbounded","matRippleCentered"],["src","assets/images/aliens.png",1,"aliens"]],template:function(e,r){e&1&&(g(0,"a",0),F(1,"img",1),b()),e&2&&A("matRippleUnbounded",!0)("matRippleCentered",!0)},dependencies:[He,Wt],styles:[".aliens-container[_ngcontent-%COMP%]{left:0;right:0}.aliens[_ngcontent-%COMP%]{width:40px;height:40px;animation:_ngcontent-%COMP%_aliens 30s linear infinite}.aliens-container[_ngcontent-%COMP%]{position:absolute;top:4px;margin-inline:auto;width:fit-content}@keyframes _ngcontent-%COMP%_aliens{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}return n})();var hu=[{label:"labels.sections.about",route:"about",icon:"person"},{label:"labels.sections.resume",route:"resume",icon:"description"},{label:"labels.sections.blog",route:"blog",icon:"lightbulb",hidden:!0}];var Pe=(()=>{class n{isHandheld$=ut(!1);toggleDrawerSubject=new V;toggleDrawer$=this.toggleDrawerSubject.asObservable();get isHandheld(){return this.isHandheld$()}set isHandheld(i){this.isHandheld$.set(i)}toggleDrawer(){this.toggleDrawerSubject.next()}static \u0275fac=function(e){return new(e||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Xp=(n,t)=>t.label,ef=n=>({"gap-2":n}),tf=n=>({"sidenav-button w-full sidenav-item":n});function rf(n,t){if(n&1){let i=H();g(0,"a",3),O("click",function(){$(i);let r=T(2);return U(r.onClick())}),L(1),g(2,"mat-icon"),L(3),b()()}if(n&2){let i=t.$implicit,e=T().$implicit,r=T();Xs("routerLink",i.route),A("ngClass",to(4,tf,r.isHandheld)),S(),Fr(" ",e(i.label)," "),S(2),Ye(i.icon)}}function nf(n,t){if(n&1&&(jr(0),g(1,"div",1),qt(2,rf,4,6,"a",2,Xp),b(),Lr()),n&2){let i=T();S(),A("ngClass",to(1,ef,i.isHandheld)),S(),Ht(i.sections)}}var Fn=(()=>{class n{isHandheld=!1;sections=hu.filter(i=>!i.hidden);sidenavContainerService=m(Pe);onClick(){this.isHandheld&&this.sidenavContainerService.toggleDrawer()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-sections-navigator"]],inputs:{isHandheld:"isHandheld"},standalone:!0,features:[P],decls:1,vars:0,consts:[[4,"transloco"],[1,"flex","flex-row","flex-wrap","items-center",3,"ngClass"],["mat-button","","routerLinkActive","item-selected",3,"ngClass","routerLink"],["mat-button","","routerLinkActive","item-selected",3,"click","ngClass","routerLink"]],template:function(e,r){e&1&&B(0,nf,4,3,"ng-container",0)},dependencies:[vt,an,Jl,Ae,Ee,zr,_e,Aa,ve,ca],styles:[".sidenav-button[_ngcontent-%COMP%]     .mdc-button__label{width:100%}"]})}return n})();var Un=["*"],of=["content"],sf=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],af=["mat-drawer","mat-drawer-content","*"];function lf(n,t){if(n&1){let i=H();g(0,"div",1),O("click",function(){$(i);let r=T();return U(r._onBackdropClicked())}),b()}if(n&2){let i=T();Me("mat-drawer-shown",i._isShowingBackdrop())}}function cf(n,t){n&1&&(g(0,"mat-drawer-content"),te(1,2),b())}var uf=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],df=["mat-sidenav","mat-sidenav-content","*"];function hf(n,t){if(n&1){let i=H();g(0,"div",1),O("click",function(){$(i);let r=T();return U(r._onBackdropClicked())}),b()}if(n&2){let i=T();Me("mat-drawer-shown",i._isShowingBackdrop())}}function pf(n,t){n&1&&(g(0,"mat-sidenav-content"),te(1,2),b())}var ff='.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-app-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-app-background));box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-app-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color, var(--mat-app-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}',pu={transformDrawer:Pi("transform",[Jt("open, open-instant",Xe({transform:"none",visibility:"visible"})),Jt("void",Xe({"box-shadow":"none",visibility:"hidden"})),Tt("void => open-instant",xt("0ms")),Tt("void <=> open, open-instant => void",xt("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])};var mf=new N("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:gf}),ws=new N("MAT_DRAWER_CONTAINER");function gf(){return!1}var Nn=(()=>{let t=class t extends Kt{constructor(e,r,o,s,a){super(o,s,a),this._changeDetectorRef=e,this._container=r}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}};t.\u0275fac=function(r){return new(r||t)(v(ne),v(xi(()=>mu)),v(me),v(oo),v(le))},t.\u0275cmp=D({type:t,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(r,o){r&2&&Pr("margin-left",o._container._contentMargins.left,"px")("margin-right",o._container._contentMargins.right,"px")},standalone:!0,features:[$e([{provide:Kt,useExisting:t}]),Ii,P],ngContentSelectors:Un,decls:1,vars:0,template:function(r,o){r&1&&(ge(),te(0))},encapsulation:2,changeDetection:0});let n=t;return n})(),fu=(()=>{let t=class t{get position(){return this._position}set position(e){e=e==="end"?"end":"start",e!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Ct(e)}get autoFocus(){let e=this._autoFocus;return e??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(e){(e==="true"||e==="false"||e==null)&&(e=Ct(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Ct(e))}constructor(e,r,o,s,a,c,l,u){this._elementRef=e,this._focusTrapFactory=r,this._focusMonitor=o,this._platform=s,this._ngZone=a,this._interactivityChecker=c,this._doc=l,this._container=u,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new V,this._animationEnd=new V,this._animationState="void",this.openedChange=new ie(!0),this._openedStream=this.openedChange.pipe(X(d=>d),E(()=>{})),this.openedStart=this._animationStarted.pipe(X(d=>d.fromState!==d.toState&&d.toState.indexOf("open")===0),ki(void 0)),this._closedStream=this.openedChange.pipe(X(d=>!d),E(()=>{})),this.closedStart=this._animationStarted.pipe(X(d=>d.fromState!==d.toState&&d.toState==="void"),ki(void 0)),this._destroyed=new V,this.onPositionChanged=new ie,this._modeChanged=new V,this._injector=m(Ve),this._changeDetectorRef=m(ne),this.openedChange.pipe(K(this._destroyed)).subscribe(d=>{d?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Os(this._elementRef.nativeElement,"keydown").pipe(X(d=>d.keyCode===27&&!this.disableClose&&!Ur(d)),K(this._destroyed)).subscribe(d=>this._ngZone.run(()=>{this.close(),d.stopPropagation(),d.preventDefault()}))}),this._animationEnd.pipe(Ls((d,f)=>d.fromState===f.fromState&&d.toState===f.toState)).subscribe(d=>{let{fromState:f,toState:p}=d;(p.indexOf("open")===0&&f==="void"||p==="void"&&f.indexOf("open")===0)&&this.openedChange.emit(this._opened)})}_forceFocus(e,r){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{e.removeEventListener("blur",o),e.removeEventListener("mousedown",o),e.removeAttribute("tabindex")};e.addEventListener("blur",o),e.addEventListener("mousedown",o)})),e.focus(r)}_focusByCssSelector(e,r){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,r)}_takeFocus(){if(!this._focusTrap)return;let e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":St(()=>{!this._focusTrap.focusInitialElement()&&typeof e.focus=="function"&&e.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(e){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,r){e&&r&&(this._openedVia=r);let o=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),o}_setOpen(e,r,o){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",r&&this._restoreFocus(o)),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe(Le(1)).subscribe(a=>s(a?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(e){if(!this._platform.isBrowser)return;let r=this._elementRef.nativeElement,o=r.parentNode;e==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),o.insertBefore(this._anchor,r)),o.appendChild(r)):this._anchor&&this._anchor.parentNode.insertBefore(r,this._anchor)}};t.\u0275fac=function(r){return new(r||t)(v(me),v(Ia),v(kt),v(Sa),v(le),v(Ta),v(qe,8),v(ws,8))},t.\u0275cmp=D({type:t,selectors:[["mat-drawer"]],viewQuery:function(r,o){if(r&1&&Ne(of,5),r&2){let s;G(s=W())&&(o._content=s.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(r,o){r&1&&Zs("@transform.start",function(a){return o._animationStarted.next(a)})("@transform.done",function(a){return o._animationEnd.next(a)}),r&2&&(Ys("@transform",o._animationState),re("align",null),Me("mat-drawer-end",o.position==="end")("mat-drawer-over",o.mode==="over")("mat-drawer-push",o.mode==="push")("mat-drawer-side",o.mode==="side")("mat-drawer-opened",o.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[P],ngContentSelectors:Un,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(r,o){r&1&&(ge(),g(0,"div",1,0),te(2),b())},dependencies:[Kt],encapsulation:2,data:{animation:[pu.transformDrawer]},changeDetection:0});let n=t;return n})(),mu=(()=>{let t=class t{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Ct(e)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(e){this._backdropOverride=e==null?null:Ct(e)}get scrollable(){return this._userContent||this._content}constructor(e,r,o,s,a,c=!1,l){this._dir=e,this._element=r,this._ngZone=o,this._changeDetectorRef=s,this._animationMode=l,this._drawers=new Mr,this.backdropClick=new ie,this._destroyed=new V,this._doCheckSubject=new V,this._contentMargins={left:null,right:null},this._contentMarginChanges=new V,this._injector=m(Ve),e&&e.change.pipe(K(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),a.change().pipe(K(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=c}ngAfterContentInit(){this._allDrawers.changes.pipe(Fe(this._allDrawers),K(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(r=>!r._container||r._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Fe(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(js(10),K(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,r=0;if(this._left&&this._left.opened){if(this._left.mode=="side")e+=this._left._getWidth();else if(this._left.mode=="push"){let o=this._left._getWidth();e+=o,r-=o}}if(this._right&&this._right.opened){if(this._right.mode=="side")r+=this._right._getWidth();else if(this._right.mode=="push"){let o=this._right._getWidth();r+=o,e-=o}}e=e||null,r=r||null,(e!==this._contentMargins.left||r!==this._contentMargins.right)&&(this._contentMargins={left:e,right:r},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(X(r=>r.fromState!==r.toState),K(this._drawers.changes)).subscribe(r=>{r.toState!=="open-instant"&&this._animationMode!=="NoopAnimations"&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),e.mode!=="side"&&e.openedChange.pipe(K(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe(K(this._drawers.changes)).subscribe(()=>{St(()=>{this._validateDrawers()},{injector:this._injector,phase:Qs.Read})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(K($t(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){let r=this._element.nativeElement.classList,o="mat-drawer-container-has-open";e?r.add(o):r.remove(o)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{e.position=="end"?(this._end!=null,this._end=e):(this._start!=null,this._start=e)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._drawerHasBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(e){return e!=null&&e.opened}_drawerHasBackdrop(e){return this._backdropOverride==null?!!e&&e.mode!=="side":this._backdropOverride}};t.\u0275fac=function(r){return new(r||t)(v(Gt,8),v(me),v(le),v(ne),v(ja),v(mf),v(Er,8))},t.\u0275cmp=D({type:t,selectors:[["mat-drawer-container"]],contentQueries:function(r,o,s){if(r&1&&(Ce(s,Nn,5),Ce(s,fu,5)),r&2){let a;G(a=W())&&(o._content=a.first),G(a=W())&&(o._allDrawers=a)}},viewQuery:function(r,o){if(r&1&&Ne(Nn,5),r&2){let s;G(s=W())&&(o._userContent=s.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(r,o){r&2&&Me("mat-drawer-container-explicit-backdrop",o._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[$e([{provide:ws,useExisting:t}]),P],ngContentSelectors:af,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(r,o){r&1&&(ge(sf),B(0,lf,1,2,"div",0),te(1),te(2,1),B(3,cf,2,0,"mat-drawer-content")),r&2&&(J(o.hasBackdrop?0:-1),S(3),J(o._content?-1:3))},dependencies:[Nn],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-app-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-app-background));box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-app-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color, var(--mat-app-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0});let n=t;return n})(),$n=(()=>{let t=class t extends Nn{constructor(e,r,o,s,a){super(e,r,o,s,a)}};t.\u0275fac=function(r){return new(r||t)(v(ne),v(xi(()=>Cs)),v(me),v(oo),v(le))},t.\u0275cmp=D({type:t,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(r,o){r&2&&Pr("margin-left",o._container._contentMargins.left,"px")("margin-right",o._container._contentMargins.right,"px")},standalone:!0,features:[$e([{provide:Kt,useExisting:t}]),Ii,P],ngContentSelectors:Un,decls:1,vars:0,template:function(r,o){r&1&&(ge(),te(0))},encapsulation:2,changeDetection:0});let n=t;return n})(),Ss=(()=>{let t=class t extends fu{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=Ct(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=no(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=no(e)}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=zt(t)))(o||t)}})(),t.\u0275cmp=D({type:t,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(r,o){r&2&&(re("align",null),Pr("top",o.fixedInViewport?o.fixedTopGap:null,"px")("bottom",o.fixedInViewport?o.fixedBottomGap:null,"px"),Me("mat-drawer-end",o.position==="end")("mat-drawer-over",o.mode==="over")("mat-drawer-push",o.mode==="push")("mat-drawer-side",o.mode==="side")("mat-drawer-opened",o.opened)("mat-sidenav-fixed",o.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],standalone:!0,features:[Ii,P],ngContentSelectors:Un,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(r,o){r&1&&(ge(),g(0,"div",1,0),te(2),b())},dependencies:[Kt],encapsulation:2,data:{animation:[pu.transformDrawer]},changeDetection:0});let n=t;return n})(),Cs=(()=>{let t=class t extends mu{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=zt(t)))(o||t)}})(),t.\u0275cmp=D({type:t,selectors:[["mat-sidenav-container"]],contentQueries:function(r,o,s){if(r&1&&(Ce(s,$n,5),Ce(s,Ss,5)),r&2){let a;G(a=W())&&(o._content=a.first),G(a=W())&&(o._allDrawers=a)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(r,o){r&2&&Me("mat-drawer-container-explicit-backdrop",o._backdropOverride)},exportAs:["matSidenavContainer"],standalone:!0,features:[$e([{provide:ws,useExisting:t}]),Ii,P],ngContentSelectors:df,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(r,o){r&1&&(ge(uf),B(0,hf,1,2,"div",0),te(1),te(2,1),B(3,pf,2,0,"mat-sidenav-content")),r&2&&(J(o.hasBackdrop?0:-1),S(3),J(o._content?-1:3))},dependencies:[$n],styles:[ff],encapsulation:2,changeDetection:0});let n=t;return n})(),gu=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=lt({type:t}),t.\u0275inj=at({imports:[Ze,Di,Di,Ze]});let n=t;return n})();var _f=["drawer"],bf=["*"];function yf(n,t){if(n&1){let i=H();g(0,"button",9),O("click",function(){$(i);let r=T();return U(r.startListening())}),g(1,"mat-icon"),L(2,"mic"),b()()}}var vu=(()=>{class n{breakpointObserver=m(ka);destroy$=new V;displayListenButton=!1;emptySpaceClickedNumber=0;isHandheld$=this.breakpointObserver.observe(["(max-width: 900px)"]).pipe(K(this.destroy$),E(i=>i.matches),Fe(!0),ee(i=>{this.sidenavContainerService.isHandheld=i,!i&&this.sidenav?.opened&&this.sidenav.close()}));sidenav;sidenavContainerService=m(Pe);toggleDrawer$=this.sidenavContainerService.toggleDrawer$.pipe(K(this.destroy$),ee(()=>{this.sidenav&&this.sidenav.toggle()}));version=Oa;emptySpaceClicked(){this.emptySpaceClickedNumber++,this.emptySpaceClickedNumber>=7&&(this.displayListenButton=!0)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}ngOnInit(){Ds([this.isHandheld$,this.toggleDrawer$]).subscribe()}redirectToPage(){window.location.href="/heart-love"}startListening(){let i=new window.webkitSpeechRecognition||new window.SpeechRecognition;i.lang="en-US",i.interimResults=!1,i.maxAlternatives=1,i.start(),i.onresult=e=>{e.results[0][0].transcript.trim().toLowerCase()==="i love you"?this.redirectToPage():alert("Please try again.")},i.onerror=e=>{console.error("Speech recognition error",e.error),alert("Error with speech recognition. Please try again.")}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-sidenav-container"]],viewQuery:function(e,r){if(e&1&&Ne(_f,5),e&2){let o;G(o=W())&&(r.sidenav=o.first)}},standalone:!0,features:[P],ngContentSelectors:bf,decls:10,vars:6,consts:[["drawer",""],[1,"app-background"],["fixedInViewport","",1,"sidenav",3,"mode","opened","autoFocus"],[1,"flex","flex-col","justify-between","h-full","overflow-hidden"],[1,"py-4",3,"isHandheld"],["mat-button","",1,"flex","flex-1","justify-center","items-center",3,"click"],["mat-icon-button","",1,"mic-button"],[3,"isHandheld"],[1,"overflow-y-auto","overflow-x-hidden"],["mat-icon-button","",1,"mic-button",3,"click"]],template:function(e,r){if(e&1){let o=H();ge(),g(0,"mat-sidenav-container",1)(1,"mat-sidenav",2,0)(3,"div",3),F(4,"app-sections-navigator",4),g(5,"div",5),O("click",function(){return $(o),U(r.emptySpaceClickedNumber>=7?null:r.emptySpaceClicked())}),B(6,yf,3,0,"button",6),b(),F(7,"app-footer",7),b()(),g(8,"mat-sidenav-content",8),te(9),b()()}e&2&&(S(),A("mode","over")("opened",!1)("autoFocus",!1),S(3),A("isHandheld",!0),S(2),J(r.displayListenButton?6:-1),S(),A("isHandheld",!0))},dependencies:[ve,gu,Ss,Cs,$n,He,Ae,Ee,_e,pt,vt,Fn,Vr],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:250px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mic-button[_ngcontent-%COMP%]{transform:scale(4)}"]})}return n})();var wf=["button"],Sf=["*"];function Cf(n,t){if(n&1&&F(0,"mat-pseudo-checkbox",3),n&2){let i=T();A("disabled",i.disabled)}}function kf(n,t){if(n&1&&F(0,"mat-pseudo-checkbox",3),n&2){let i=T();A("disabled",i.disabled)}}var _u=new N("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:xf});function xf(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1,disabledInteractive:!1}}var bu=new N("MatButtonToggleGroup"),Tf={provide:qa,useExisting:xi(()=>ks),multi:!0},yu=0,Bn=class{constructor(t,i){this.source=t,this.value=i}},ks=(()=>{let t=class t{get name(){return this._name}set name(e){this._name=e,this._markButtonsForCheck()}get value(){let e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e.map(r=>r.value):e[0]?e[0].value:void 0}set value(e){this._setSelectionByValue(e),this.valueChange.emit(this.value)}get selected(){let e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e:e[0]||null}get multiple(){return this._multiple}set multiple(e){this._multiple=e,this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._markButtonsForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e,this._markButtonsForCheck()}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._markButtonsForCheck()}get hideMultipleSelectionIndicator(){return this._hideMultipleSelectionIndicator}set hideMultipleSelectionIndicator(e){this._hideMultipleSelectionIndicator=e,this._markButtonsForCheck()}constructor(e,r,o){this._changeDetector=e,this._dir=o,this._multiple=!1,this._disabled=!1,this._disabledInteractive=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name=`mat-button-toggle-group-${yu++}`,this.valueChange=new ie,this.change=new ie,this.appearance=r&&r.appearance?r.appearance:"standard",this.hideSingleSelectionIndicator=r?.hideSingleSelectionIndicator??!1,this.hideMultipleSelectionIndicator=r?.hideMultipleSelectionIndicator??!1}ngOnInit(){this._selectionModel=new Pa(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(e=>e.checked)),this.multiple||this._initializeTabIndex()}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_keydown(e){if(this.multiple||this.disabled)return;let o=e.target.id,s=this._buttonToggles.toArray().findIndex(c=>c.buttonId===o),a=null;switch(e.keyCode){case 32:case 13:a=this._buttonToggles.get(s)||null;break;case 38:a=this._getNextButton(s,-1);break;case 37:a=this._getNextButton(s,this.dir==="ltr"?-1:1);break;case 40:a=this._getNextButton(s,1);break;case 39:a=this._getNextButton(s,this.dir==="ltr"?1:-1);break;default:return}a&&(e.preventDefault(),a._onButtonClick(),a.focus())}_emitChangeEvent(e){let r=new Bn(e,this.value);this._rawValue=r.value,this._controlValueAccessorChangeFn(r.value),this.change.emit(r)}_syncButtonToggle(e,r,o=!1,s=!1){!this.multiple&&this.selected&&!e.checked&&(this.selected.checked=!1),this._selectionModel?r?this._selectionModel.select(e):this._selectionModel.deselect(e):s=!0,s?Promise.resolve().then(()=>this._updateModelValue(e,o)):this._updateModelValue(e,o)}_isSelected(e){return this._selectionModel&&this._selectionModel.isSelected(e)}_isPrechecked(e){return typeof this._rawValue>"u"?!1:this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(r=>e.value!=null&&r===e.value):e.value===this._rawValue}_initializeTabIndex(){if(this._buttonToggles.forEach(e=>{e.tabIndex=-1}),this.selected)this.selected.tabIndex=0;else for(let e=0;e<this._buttonToggles.length;e++){let r=this._buttonToggles.get(e);if(!r.disabled){r.tabIndex=0;break}}this._markButtonsForCheck()}_getNextButton(e,r){let o=this._buttonToggles;for(let s=1;s<=o.length;s++){let a=(e+r*s+o.length)%o.length,c=o.get(a);if(c&&!c.disabled)return c}return null}_setSelectionByValue(e){this._rawValue=e,this._buttonToggles&&(this.multiple&&e?(Array.isArray(e),this._clearSelection(),e.forEach(r=>this._selectValue(r))):(this._clearSelection(),this._selectValue(e)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(e=>{e.checked=!1,this.multiple||(e.tabIndex=-1)})}_selectValue(e){let r=this._buttonToggles.find(o=>o.value!=null&&o.value===e);r&&(r.checked=!0,this._selectionModel.select(r),this.multiple||(r.tabIndex=0))}_updateModelValue(e,r){r&&this._emitChangeEvent(e),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(e=>e._markForCheck())}};t.\u0275fac=function(r){return new(r||t)(v(ne),v(_u,8),v(Gt,8))},t.\u0275dir=ct({type:t,selectors:[["mat-button-toggle-group"]],contentQueries:function(r,o,s){if(r&1&&Ce(s,zn,5),r&2){let a;G(a=W())&&(o._buttonToggles=a)}},hostAttrs:[1,"mat-button-toggle-group"],hostVars:6,hostBindings:function(r,o){r&1&&O("keydown",function(a){return o._keydown(a)}),r&2&&(re("role",o.multiple?"group":"radiogroup")("aria-disabled",o.disabled),Me("mat-button-toggle-vertical",o.vertical)("mat-button-toggle-group-appearance-standard",o.appearance==="standard"))},inputs:{appearance:"appearance",name:"name",vertical:[2,"vertical","vertical",Y],value:"value",multiple:[2,"multiple","multiple",Y],disabled:[2,"disabled","disabled",Y],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Y],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Y],hideMultipleSelectionIndicator:[2,"hideMultipleSelectionIndicator","hideMultipleSelectionIndicator",Y]},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],standalone:!0,features:[$e([Tf,{provide:bu,useExisting:t}]),dt]});let n=t;return n})(),zn=(()=>{let t=class t{get buttonId(){return`${this.id}-button`}get tabIndex(){return this._tabIndex}set tabIndex(e){this._tabIndex=e,this._markForCheck()}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=e}get disabledInteractive(){return this._disabledInteractive||this.buttonToggleGroup!==null&&this.buttonToggleGroup.disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e}constructor(e,r,o,s,a,c){this._changeDetectorRef=r,this._elementRef=o,this._focusMonitor=s,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new ie;let l=Number(a);this.tabIndex=l||l===0?l:null,this.buttonToggleGroup=e,this.appearance=c&&c.appearance?c.appearance:"standard",this.disabledInteractive=c?.disabledInteractive??!1}ngOnInit(){let e=this.buttonToggleGroup;this.id=this.id||`mat-button-toggle-${yu++}`,e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){let e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){if(this.disabled)return;let e=this.isSingleSelector()?!0:!this._checked;if(e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){let r=this.buttonToggleGroup._buttonToggles.find(o=>o.tabIndex===0);r&&(r.tabIndex=-1),this.tabIndex=0}this.change.emit(new Bn(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}};t.\u0275fac=function(r){return new(r||t)(v(bu,8),v(ne),v(me),v(kt),Rr("tabindex"),v(_u,8))},t.\u0275cmp=D({type:t,selectors:[["mat-button-toggle"]],viewQuery:function(r,o){if(r&1&&Ne(wf,5),r&2){let s;G(s=W())&&(o._buttonElement=s.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:14,hostBindings:function(r,o){r&1&&O("focus",function(){return o.focus()}),r&2&&(re("aria-label",null)("aria-labelledby",null)("id",o.id)("name",null),Me("mat-button-toggle-standalone",!o.buttonToggleGroup)("mat-button-toggle-checked",o.checked)("mat-button-toggle-disabled",o.disabled)("mat-button-toggle-disabled-interactive",o.disabledInteractive)("mat-button-toggle-appearance-standard",o.appearance==="standard"))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",Y],appearance:"appearance",checked:[2,"checked","checked",Y],disabled:[2,"disabled","disabled",Y],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Y]},outputs:{change:"change"},exportAs:["matButtonToggle"],standalone:!0,features:[dt,P],ngContentSelectors:Sf,decls:8,vars:14,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-label-content"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(r,o){if(r&1){let s=H();ge(),g(0,"button",1,0),O("click",function(){return $(s),U(o._onButtonClick())}),g(2,"span",2),B(3,Cf,1,1,"mat-pseudo-checkbox",3)(4,kf,1,1,"mat-pseudo-checkbox",3),te(5),b()(),F(6,"span",4)(7,"span",5)}if(r&2){let s=ht(1);A("id",o.buttonId)("disabled",o.disabled&&!o.disabledInteractive||null),re("role",o.isSingleSelector()?"radio":"button")("tabindex",o.disabled&&!o.disabledInteractive?-1:o.tabIndex)("aria-pressed",o.isSingleSelector()?null:o.checked)("aria-checked",o.isSingleSelector()?o.checked:null)("name",o._getButtonName())("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledby)("aria-disabled",o.disabled&&o.disabledInteractive?"true":null),S(3),J(o.buttonToggleGroup&&o.checked&&!o.buttonToggleGroup.multiple&&!o.buttonToggleGroup.hideSingleSelectionIndicator?3:-1),S(),J(o.buttonToggleGroup&&o.checked&&o.buttonToggleGroup.multiple&&!o.buttonToggleGroup.hideMultipleSelectionIndicator?4:-1),S(3),A("matRippleTrigger",s)("matRippleDisabled",o.disableRipple||o.disabled)}},dependencies:[Wt,Ea],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-legacy-button-toggle-selected-state-text-color)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle .mat-pseudo-checkbox{margin-right:12px}[dir=rtl] .mat-button-toggle .mat-pseudo-checkbox{margin-right:0;margin-left:12px}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{pointer-events:none;color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-legacy-button-toggle-disabled-state-text-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-disabled-interactive{pointer-events:auto}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color, var(--mat-app-on-surface));background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-label-text-font, var(--mat-app-label-large-font));font-size:var(--mat-standard-button-toggle-label-text-size, var(--mat-app-label-large-size));line-height:var(--mat-standard-button-toggle-label-text-line-height, var(--mat-app-label-large-line-height));font-weight:var(--mat-standard-button-toggle-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mat-standard-button-toggle-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container));background-color:var(--mat-standard-button-toggle-selected-state-background-color, var(--mat-app-secondary-container))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-standard-button-toggle-disabled-selected-state-text-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color, var(--mat-app-on-surface))}.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-button-toggle-appearance-standard.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}@media(hover: none){.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}"],encapsulation:2,changeDetection:0});let n=t;return n})(),wu=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=lt({type:t}),t.\u0275inj=at({imports:[Ze,He,zn,Ze]});let n=t;return n})();var Su=(()=>{class n{document;constructor(i){this.document=i}createLinkElementWithKey(i){let e=this.document.createElement("link");return e.setAttribute("rel","stylesheet"),e.classList.add(this.getClassNameForKey(i)),this.document.head.appendChild(e),e}getClassNameForKey(i){return`style-manager-${i}`}getExistingLinkElementByKey(i){return this.document.head.querySelector(`link[rel="stylesheet"].${this.getClassNameForKey(i)}`)}getLinkElementForKey(i){return this.getExistingLinkElementByKey(i)||this.createLinkElementWithKey(i)}removeStyle(i){let e=this.getExistingLinkElementByKey(i);e&&this.document.head.removeChild(e)}setStyle(i){this.getLinkElementForKey("theme").setAttribute("href",i)}static \u0275fac=function(e){return new(e||n)(fe(qe))};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Cu=(()=>{class n{isLocalStorageAvailable=typeof localStorage<"u";clear(){this.isLocalStorageAvailable&&localStorage.clear()}get(i){return this.isLocalStorageAvailable?localStorage.getItem(i):null}remove(i){this.isLocalStorageAvailable&&localStorage.removeItem(i)}set(i,e){this.isLocalStorageAvailable&&localStorage.setItem(i,e)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ku="theme-name",xu="theme-type",Tu=(()=>{class n{browserStorage=m(Cu);getStoredThemeName(){return this.browserStorage.get(ku)}getStoredThemeType(){return this.browserStorage.get(xu)}storeTheme(i){this.browserStorage.set(ku,i)}storeThemeType(i){this.browserStorage.set(xu,i)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Iu="rose-red",Vn=(()=>{class n{styleManager;_themeStorage;currentThemeName=ut(Iu);themeType=ut("light");themes=this.getThemesList();translocoService=m(Qt);constructor(i,e){this.styleManager=i,this._themeStorage=e}getThemesList(){return[{color:"#ffd9e1",displayName:"labels.themepicker.flamingo_gleam",name:"rose-red",background:this.themeType()==="dark"?"#191a1e":"#fffbff"},{color:"#d7e3ff",displayName:"labels.themepicker.dolphin_dream",name:"azure-blue",background:this.themeType()==="dark"?"#191a1e":"#fffbff"}]}initializeTheme(){return h(this,null,function*(){let i=this._themeStorage.getStoredThemeName()||Iu,e=this._themeStorage.getStoredThemeType()||"light";this.themeType.set(e),this.selectTheme(i)})}selectTheme(i){let e=this.themes.find(s=>s.name===i);if(!e)return;this.currentThemeName.set(e.name);let r=this.themeType(),o=`${e.name}-${r}.css`;this.styleManager.setStyle(o),this._themeStorage.storeTheme(i),this.themes=this.getThemesList()}selectThemeType(i){this.themeType.set(i),this._themeStorage.storeThemeType(i),this.selectTheme(this.currentThemeName())}toggleThemeType(){let i=this.themeType()==="light"?"dark":"light";this.selectThemeType(i)}static \u0275fac=function(e){return new(e||n)(fe(Su),fe(Tu))};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ef=(n,t)=>t.name;function Af(n,t){if(n&1){let i=H();g(0,"button",10),O("click",function(){let r=$(i).$implicit,o=T(2);return U(o.themeService.selectTheme(r.name))}),g(1,"span"),L(2),b(),Ir(),g(3,"svg",11),F(4,"path",12)(5,"path",13)(6,"path",14),b()()}if(n&2){let i=t.$implicit,e=T().$implicit,r=T();Vt(r.themeService.currentThemeName()===i.name?"item-selected":""),S(2),Ye(e(i.displayName)),S(2),re("fill",i.background),S(),re("fill",i.color),S(),re("fill",i.color)}}function Df(n,t){if(n&1){let i=H();jr(0),g(1,"button",2)(2,"mat-icon",3),L(3,"palette"),b()(),g(4,"mat-menu",4,0),qt(6,Af,7,6,"button",5,Ef),g(8,"div",6)(9,"mat-button-toggle-group",7),O("change",function(){$(i);let r=T();return U(r.themeService.toggleThemeType())}),g(10,"mat-button-toggle",8),O("click",function(){$(i);let r=T();return U(r.themeService.selectTheme("light"))}),g(11,"mat-icon"),L(12,"light_mode"),b()(),g(13,"mat-button-toggle",9),O("click",function(){$(i);let r=T();return U(r.themeService.selectTheme("dark"))}),g(14,"mat-icon"),L(15,"dark_mode"),b()()()()(),Lr()}if(n&2){let i=ht(5),e=T();S(),A("mat-menu-trigger-for",i),S(5),Ht(e.themeService.themes),S(3),A("hideSingleSelectionIndicator",!0)("value",e.themeService.themeType())}}var Ru=(()=>{class n{sidenavContainerService=m(Pe);themeService=m(Vn);toggleDrawer(){this.sidenavContainerService.toggleDrawer()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["theme-navbar-widget"]],standalone:!0,features:[P],decls:1,vars:0,consts:[["themeMenu","matMenu"],[4,"transloco"],["color","primary","mat-icon-button","",3,"mat-menu-trigger-for"],[1,"navbar-button-icon"],["xPosition","before",1,"theme-navbar-widget-menu"],["mat-menu-item","",3,"class"],[1,"text-center","mt-2"],[3,"change","hideSingleSelectionIndicator","value"],["value","light",3,"click"],["value","dark",3,"click"],["mat-menu-item","",3,"click"],["matMenuItemIcon","","width","80","height","80","viewBox","0 0 80 80",1,"theme-icon"],["d","M77.87 0C79.05 0 80 .95 80 2.13v75.74c0 1.17-.95 2.13-2.13 2.13H2.13C.96 80 0 79.04 0 77.87V2.13C0 .95.96 0 2.13 0h75.74z"],["d","M54 40c3.32 0 6 2.69 6 6 0 1.2 0-1.2 0 0 0 3.31-2.68 6-6 6H26c-3.31 0-6-2.69-6-6 0-1.2 0 1.2 0 0 0-3.31 2.69-6 6-6h28z"],["d","M0 0h80v17.24H0V0z"]],template:function(e,r){e&1&&B(0,Df,16,3,"ng-container",1)},dependencies:[_e,pt,cl,ci,We,it,li,Ae,Ee,ve,wu,ks,zn,ll,He,zr],styles:[".theme-icon[_ngcontent-%COMP%]{margin-right:0;margin-left:24px;order:1;width:24px;height:24px;border-radius:4px}.theme-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{vertical-align:middle}"]})}return n})();var qn=(()=>{class n{isLocalStorageAvailable=typeof localStorage<"u";translocoService=m(Qt);activeLang=ut("en");allTranslations=ut({});firstInit=!0;changeLanguage(i){this.activeLang.set(i),this.setLocalStorageLang(i),this.translocoService.setActiveLang(i),this.translocoService.setDefaultLang(i)}initializeTranslation(){let i=this.getLocalStorageLang();this.activeLang.set(i),this.translocoService.setActiveLang(i)}getLocalStorageLang(){return this.isLocalStorageAvailable?localStorage?.getItem(Eu)??Mu:Mu}setLocalStorageLang(i){this.isLocalStorageAvailable&&localStorage?.setItem(Eu,i)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Au=["en","es"],Mu="es",Eu="activeLang";function Of(n,t){if(n&1){let i=H();g(0,"button",4),O("click",function(){let r=$(i).$implicit,o=T();return U(o.translationService.changeLanguage(r))}),g(1,"span",5),L(2),b()()}if(n&2){let i=t.$implicit,e=T();Vt(e.translationService.activeLang()===i?"item-selected":""),S(2),Ye(i)}}var Du=(()=>{class n{fullLanguagesMap={en:"English",es:"Espa\xF1ol"};languages=Au;sidenavContainerService=m(Pe);translationService=m(qn);static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["translation-navbar-widget"]],standalone:!0,features:[P],decls:10,vars:4,consts:[["languagePicker","matMenu"],["mat-button","",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item","",3,"class"],["mat-menu-item","",3,"click"],[1,"uppercase"]],template:function(e,r){if(e&1&&(g(0,"button",1)(1,"span"),L(2),Ri(3,"uppercase"),b(),g(4,"mat-icon"),L(5,"language"),b()(),g(6,"mat-menu",2,0),qt(8,Of,3,3,"button",3,Js),b()),e&2){let o=ht(7);A("matMenuTriggerFor",o),S(2),Ye(Nr(3,2,r.translationService.activeLang())),S(6),Ht(r.languages)}},dependencies:[_e,Br,ci,We,it,li,Ae,Ee,ve,ha]})}return n})();function Pf(n,t){if(n&1){let i=H();g(0,"button",3),O("click",function(){$(i);let r=T();return U(r.toggleDrawer())}),g(1,"mat-icon",4),L(2,"menu"),b()()}}function jf(n,t){n&1&&F(0,"app-sections-navigator")}function Lf(n,t){n&1&&F(0,"app-auth-sidenav-widget")}var Ou=(()=>{class n{router=m(be);sidenavContainerService=m(Pe);showAuthButton=!1;toggleDrawer(){this.sidenavContainerService.toggleDrawer()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-navbar"]],standalone:!0,features:[P],decls:8,vars:3,consts:[[1,"flex","p-1","flex-row","flex-wrap","items-center","justify-between"],["mat-icon-button",""],[1,"flex","flex-row","items-center"],["mat-icon-button","",3,"click"],["color","primary"]],template:function(e,r){e&1&&(g(0,"nav",0),B(1,Pf,3,0,"button",1)(2,jf,1,0,"app-sections-navigator"),g(3,"div",2),F(4,"translation-navbar-widget")(5,"theme-navbar-widget"),B(6,Lf,1,0,"app-auth-sidenav-widget"),b()(),F(7,"app-qt-aliens")),e&2&&(S(),J(r.sidenavContainerService.isHandheld?1:-1),S(),J(r.sidenavContainerService.isHandheld?-1:2),S(4),J(r.showAuthButton?6:-1))},dependencies:[Du,Ru,Ae,Ee,_e,pt,vt,du,Fn,uu],styles:["[_nghost-%COMP%]{position:sticky;top:0;z-index:50;margin-bottom:.25rem}"]})}return n})();var Ff=["container"];function Nf(n,t){n&1&&F(0,"app-footer")}var Pu=(()=>{class n{container;sidenavContainerService=m(Pe);router=m(be);ngOnInit(){this.router.events.subscribe(i=>{i instanceof Te&&this.container&&(this.container.nativeElement.scrollTop=0)})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-root"]],viewQuery:function(e,r){if(e&1&&Ne(Ff,5),e&2){let o;G(o=W())&&(r.container=o.first)}},standalone:!0,features:[$e([]),P],decls:7,vars:1,consts:[["container",""],[1,"app-container","overflow-y-scroll","overflow-x-hidden","h-screen-dvh","flex","flex-col"],[1,"grow"]],template:function(e,r){e&1&&(g(0,"app-sidenav-container")(1,"div",1,0),F(3,"app-navbar"),g(4,"div",2),F(5,"router-outlet"),b(),B(6,Nf,1,0,"app-footer"),b()()),e&2&&(S(6),J(r.sidenavContainerService.isHandheld?-1:6))},dependencies:[Uo,Ou,Vr,vu,ve],styles:[".app-container[_ngcontent-%COMP%]{font-size:large;height:100dvh}#container[_ngcontent-%COMP%]{scroll-behavior:smooth}"]})}return n})();var zw=Math.pow(2,31)-1;var xs=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}};function $f(){return new xs}var ju=new N("mat-snack-bar-default-options",{providedIn:"root",factory:$f});var Uf="@",Bf=(()=>{let t=class t{constructor(e,r,o,s,a){this.doc=e,this.delegate=r,this.zone=o,this.animationType=s,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=m(Hs,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-PBGLNPWA.js").then(r=>r)).catch(r=>{throw new ae(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(e,r){let o=this.delegate.createRenderer(e,r);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let s=new Ts(o);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let c=a.createRenderer(e,r);s.use(c),this.scheduler?.notify(9)}).catch(a=>{s.use(o)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};t.\u0275fac=function(r){Ar()},t.\u0275prov=M({token:t,factory:t.\u0275fac});let n=t;return n})(),Ts=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let i of this.replay)i(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,i){return this.delegate.createElement(t,i)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,i){this.delegate.appendChild(t,i)}insertBefore(t,i,e,r){this.delegate.insertBefore(t,i,e,r)}removeChild(t,i,e){this.delegate.removeChild(t,i,e)}selectRootElement(t,i){return this.delegate.selectRootElement(t,i)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,i,e,r){this.delegate.setAttribute(t,i,e,r)}removeAttribute(t,i,e){this.delegate.removeAttribute(t,i,e)}addClass(t,i){this.delegate.addClass(t,i)}removeClass(t,i){this.delegate.removeClass(t,i)}setStyle(t,i,e,r){this.delegate.setStyle(t,i,e,r)}removeStyle(t,i,e){this.delegate.removeStyle(t,i,e)}setProperty(t,i,e){this.shouldReplay(i)&&this.replay.push(r=>r.setProperty(t,i,e)),this.delegate.setProperty(t,i,e)}setValue(t,i){this.delegate.setValue(t,i)}listen(t,i,e){return this.shouldReplay(i)&&this.replay.push(r=>r.listen(t,i,e)),this.delegate.listen(t,i,e)}shouldReplay(t){return this.replay!==null&&t.startsWith(Uf)}};function Lu(n="animations"){return Ws("NgAsyncAnimations"),xr([{provide:Gs,useFactory:(t,i,e)=>new Bf(t,i,e,n),deps:[qe,_a,le]},{provide:Er,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Fu=[{path:"",redirectTo:"about",pathMatch:"full"},{path:"resume",loadComponent:()=>import("./chunk-4CSVWTM3.js").then(n=>n.ResumeComponent),pathMatch:"full"},{path:"about",loadComponent:()=>import("./chunk-3OBD4YD5.js").then(n=>n.AboutComponent),pathMatch:"full"},{path:"heart-love",loadComponent:()=>import("./chunk-SSEP4EGC.js").then(n=>n.HeartLoveComponent),pathMatch:"full"},{path:"auth",loadComponent:()=>import("./chunk-UXCHDBTX.js").then(n=>n.AuthComponent),pathMatch:"full"},{path:"**",redirectTo:"about",pathMatch:"full"}];var Nu=(()=>{class n{http=m(ma);getTranslation(i){return this.http.get(`/assets/i18n/${i}.json`)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var $u=["en","es"],Uu={providers:[Da({config:{availableLangs:$u,defaultLang:"en",reRenderOnLangChange:!0,prodMode:!na()},loader:Nu}),ra({eventCoalescing:!0}),Zl(Fu),wa(),ga(va()),Lu(),{provide:Mi,useFactory:(n,t,i,e)=>()=>{$u.forEach(r=>i.load(r).subscribe()),n.initializeTranslation(),t.initializeTheme(),e.initializeSupabase()},deps:[qn,Vn,Qt,wt],multi:!0},{provide:ju,useValue:{duration:2e3}}]};ba(Pu,Uu).catch(n=>console.error(n));
