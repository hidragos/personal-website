import{b as bs,c as ys,f as Oc,g as ws}from"./chunk-X5YLR3NI.js";import{B as ir,C as po,D as vs,E as Yt,a as Qa,c as rs,d as ns,e as os,f as as,g as ss,h as ls,i as cs,j as ds,l as us,m as nn,n as hs,o as ms,p as Mi,q as ps,s as fs,t as gs,u as on,x as an,y as _s}from"./chunk-QZS6T2H4.js";import{$ as Ne,A as za,B as Qt,D as re,E as uo,F as Wa,H as Zr,I as It,J as qa,Q as tr,S as Mt,T as Xr,V as lt,X as be,Y as Ga,Z as Ka,_ as Be,a as Le,aa as en,b as Si,ba as Ei,c as so,d as _t,e as lo,ea as Ya,f as qr,fa as Ja,ga as Za,i as Gr,ia as Xa,j as co,ja as es,k as Ti,ka as ho,l as Fa,la as tn,m as Kt,ma as ts,na as mo,o as Yr,oa as is,pa as rn,q as Jr,r as Ba,sa as ct,ta as Ii,ua as xs,v as Na,va as sn,w as $a,x as Ha,y as Va,z as Ua}from"./chunk-3ZVAZC7S.js";import{c as vt,d as Ge,g as Ae,h as Ke,i as Qe}from"./chunk-2J4O7ELU.js";import{d as Kr,e as Qr,f as La,h as Et}from"./chunk-MKT6AYFA.js";import{g as ja}from"./chunk-LUYJJVFE.js";import{d as Fe,k as er,m as ki,o as Da,q as Pa,r as ve}from"./chunk-F6VEFF7R.js";import{Aa as pe,Ab as Xi,B as bi,Ba as oe,Bb as X,Cb as Oa,Cc as _e,D as Yi,Da as H,Db as $r,E as Zn,Ea as Br,Eb as Hr,F as Xn,Fb as f,G as Ca,Gb as _,Hb as ie,Hc as Ue,Ib as wi,Ja as Ea,Jb as xi,Kb as z,L as Lr,Lb as Vr,Lc as Ra,Mb as Ci,O as ka,Pb as C,Qb as Ur,R as gt,Rb as w,S as eo,Sb as ge,T as Z,Tb as K,U as to,Ub as rt,V as Sa,Vb as qt,Wb as qe,Xa as ao,Xb as Y,Y as yi,Yb as V,Z as q,Zb as U,_ as Te,_a as Ia,a as Fr,aa as me,ab as v,ac as Gt,bb as p,bc as k,ca as Re,cc as Ie,da as E,db as Ji,dc as Me,f as F,g as ba,h as Yn,ha as D,hb as St,i as ya,ia as Ee,ic as De,ja as te,jb as Ma,jc as P,k as Jn,ka as Ta,lb as Zi,lc as Ve,mb as Aa,o as ft,ob as zt,oc as zr,pc as Wr,qa as io,qb as Wt,ra as I,sa as M,sb as Tt,ta as ro,u as wa,v as _i,va as no,vb as B,w as vi,wa as oo,wb as ce,x as Ce,xa as it,xb as T,y as xa,yb as Nr,zb as fe}from"./chunk-TLNYMMAR.js";import{a as We,b as jr,e as pt,g as Mc,h as Ac,i as h}from"./chunk-ODN5LVDJ.js";var ks=pt(_o=>{"use strict";Object.defineProperty(_o,"__esModule",{value:!0});var go=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}};_o.default=go});var bo=pt(or=>{"use strict";var Ss=or&&or.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(or,"__esModule",{value:!0});var Dc=Ss((ws(),Ac(Oc))),Pc=Ss(ks()),vo=class{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=Dc.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,t){return this.headers=Object.assign({},this.headers),this.headers[i]=t,this}then(i,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let e=this.fetch,r=e(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>h(this,null,function*(){var a,s,l;let c=null,d=null,u=null,g=o.status,m=o.statusText;if(o.ok){if(this.method!=="HEAD"){let O=yield o.text();O===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=O:d=JSON.parse(O))}let y=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),b=(s=o.headers.get("content-range"))===null||s===void 0?void 0:s.split("/");y&&b&&b.length>1&&(u=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,u=null,g=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let y=yield o.text();try{c=JSON.parse(y),Array.isArray(c)&&o.status===404&&(d=[],c=null,g=200,m="OK")}catch{o.status===404&&y===""?(g=204,m="No Content"):c={message:y}}if(c&&this.isMaybeSingle&&(!((l=c?.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,g=200,m="OK"),c&&this.shouldThrowOnError)throw new Pc.default(c)}return{error:c,data:d,count:u,status:g,statusText:m}}));return this.shouldThrowOnError||(r=r.catch(o=>{var a,s,l;return{error:{message:`${(a=o?.name)!==null&&a!==void 0?a:"FetchError"}: ${o?.message}`,details:`${(s=o?.stack)!==null&&s!==void 0?s:""}`,hint:"",code:`${(l=o?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),r.then(i,t)}};or.default=vo});var wo=pt(ar=>{"use strict";var jc=ar&&ar.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ar,"__esModule",{value:!0});var Fc=jc(bo()),yo=class extends Fc.default{select(i){let t=!1,e=(i??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",e),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:t=!0,nullsFirst:e,foreignTable:r,referencedTable:o=r}={}){let a=o?`${o}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${i}.${t?"asc":"desc"}${e===void 0?"":e?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:t,referencedTable:e=t}={}){let r=typeof e>"u"?"limit":`${e}.limit`;return this.url.searchParams.set(r,`${i}`),this}range(i,t,{foreignTable:e,referencedTable:r=e}={}){let o=typeof r>"u"?"offset":`${r}.offset`,a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${i}`),this.url.searchParams.set(a,`${t-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:t=!1,settings:e=!1,buffers:r=!1,wal:o=!1,format:a="text"}={}){var s;let l=[i?"analyze":null,t?"verbose":null,e?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.Accept)!==null&&s!==void 0?s:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`,a==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ar.default=yo});var un=pt(sr=>{"use strict";var Lc=sr&&sr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(sr,"__esModule",{value:!0});var Bc=Lc(wo()),xo=class extends Bc.default{eq(i,t){return this.url.searchParams.append(i,`eq.${t}`),this}neq(i,t){return this.url.searchParams.append(i,`neq.${t}`),this}gt(i,t){return this.url.searchParams.append(i,`gt.${t}`),this}gte(i,t){return this.url.searchParams.append(i,`gte.${t}`),this}lt(i,t){return this.url.searchParams.append(i,`lt.${t}`),this}lte(i,t){return this.url.searchParams.append(i,`lte.${t}`),this}like(i,t){return this.url.searchParams.append(i,`like.${t}`),this}likeAllOf(i,t){return this.url.searchParams.append(i,`like(all).{${t.join(",")}}`),this}likeAnyOf(i,t){return this.url.searchParams.append(i,`like(any).{${t.join(",")}}`),this}ilike(i,t){return this.url.searchParams.append(i,`ilike.${t}`),this}ilikeAllOf(i,t){return this.url.searchParams.append(i,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(i,t){return this.url.searchParams.append(i,`ilike(any).{${t.join(",")}}`),this}is(i,t){return this.url.searchParams.append(i,`is.${t}`),this}in(i,t){let e=Array.from(new Set(t)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(i,`in.(${e})`),this}contains(i,t){return typeof t=="string"?this.url.searchParams.append(i,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(i,`cs.{${t.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(t)}`),this}containedBy(i,t){return typeof t=="string"?this.url.searchParams.append(i,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(i,`cd.{${t.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(t)}`),this}rangeGt(i,t){return this.url.searchParams.append(i,`sr.${t}`),this}rangeGte(i,t){return this.url.searchParams.append(i,`nxl.${t}`),this}rangeLt(i,t){return this.url.searchParams.append(i,`sl.${t}`),this}rangeLte(i,t){return this.url.searchParams.append(i,`nxr.${t}`),this}rangeAdjacent(i,t){return this.url.searchParams.append(i,`adj.${t}`),this}overlaps(i,t){return typeof t=="string"?this.url.searchParams.append(i,`ov.${t}`):this.url.searchParams.append(i,`ov.{${t.join(",")}}`),this}textSearch(i,t,{config:e,type:r}={}){let o="";r==="plain"?o="pl":r==="phrase"?o="ph":r==="websearch"&&(o="w");let a=e===void 0?"":`(${e})`;return this.url.searchParams.append(i,`${o}fts${a}.${t}`),this}match(i){return Object.entries(i).forEach(([t,e])=>{this.url.searchParams.append(t,`eq.${e}`)}),this}not(i,t,e){return this.url.searchParams.append(i,`not.${t}.${e}`),this}or(i,{foreignTable:t,referencedTable:e=t}={}){let r=e?`${e}.or`:"or";return this.url.searchParams.append(r,`(${i})`),this}filter(i,t,e){return this.url.searchParams.append(i,`${t}.${e}`),this}};sr.default=xo});var ko=pt(cr=>{"use strict";var Nc=cr&&cr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(cr,"__esModule",{value:!0});var lr=Nc(un()),Co=class{constructor(i,{headers:t={},schema:e,fetch:r}){this.url=i,this.headers=t,this.schema=e,this.fetch=r}select(i,{head:t=!1,count:e}={}){let r=t?"HEAD":"GET",o=!1,a=(i??"*").split("").map(s=>/\s/.test(s)&&!o?"":(s==='"'&&(o=!o),s)).join("");return this.url.searchParams.set("select",a),e&&(this.headers.Prefer=`count=${e}`),new lr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:t,defaultToNull:e=!0}={}){let r="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),t&&o.push(`count=${t}`),e||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(i)){let a=i.reduce((s,l)=>s.concat(Object.keys(l)),[]);if(a.length>0){let s=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",s.join(","))}}return new lr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:t,ignoreDuplicates:e=!1,count:r,defaultToNull:o=!0}={}){let a="POST",s=[`resolution=${e?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),o||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(i)){let l=i.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){let c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new lr.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:t}={}){let e="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),this.headers.Prefer=r.join(","),new lr.default({method:e,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){let t="DELETE",e=[];return i&&e.push(`count=${i}`),this.headers.Prefer&&e.unshift(this.headers.Prefer),this.headers.Prefer=e.join(","),new lr.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};cr.default=Co});var Ts=pt(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.version=void 0;hn.version="0.0.0-automated"});var Es=pt(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.DEFAULT_HEADERS=void 0;var $c=Ts();mn.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${$c.version}`}});var Ms=pt(dr=>{"use strict";var Is=dr&&dr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(dr,"__esModule",{value:!0});var Hc=Is(ko()),Vc=Is(un()),Uc=Es(),So=class n{constructor(i,{headers:t={},schema:e,fetch:r}={}){this.url=i,this.headers=Object.assign(Object.assign({},Uc.DEFAULT_HEADERS),t),this.schemaName=e,this.fetch=r}from(i){let t=new URL(`${this.url}/${i}`);return new Hc.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,t={},{head:e=!1,get:r=!1,count:o}={}){let a,s=new URL(`${this.url}/rpc/${i}`),l;e||r?(a=e?"HEAD":"GET",Object.entries(t).filter(([d,u])=>u!==void 0).map(([d,u])=>[d,Array.isArray(u)?`{${u.join(",")}}`:`${u}`]).forEach(([d,u])=>{s.searchParams.append(d,u)})):(a="POST",l=t);let c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new Vc.default({method:a,url:s,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};dr.default=So});var js=pt(Pe=>{"use strict";var ur=Pe&&Pe.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.PostgrestBuilder=Pe.PostgrestTransformBuilder=Pe.PostgrestFilterBuilder=Pe.PostgrestQueryBuilder=Pe.PostgrestClient=void 0;var As=ur(Ms());Pe.PostgrestClient=As.default;var Os=ur(ko());Pe.PostgrestQueryBuilder=Os.default;var Rs=ur(un());Pe.PostgrestFilterBuilder=Rs.default;var Ds=ur(wo());Pe.PostgrestTransformBuilder=Ds.default;var Ps=ur(bo());Pe.PostgrestBuilder=Ps.default;Pe.default={PostgrestClient:As.default,PostgrestQueryBuilder:Os.default,PostgrestFilterBuilder:Rs.default,PostgrestTransformBuilder:Ds.default,PostgrestBuilder:Ps.default}});var At=(()=>{class n{isLocalStorageAvailable=typeof localStorage<"u";clear(){this.isLocalStorageAvailable&&localStorage.clear()}get(t){return this.isLocalStorageAvailable?localStorage.getItem(t):null}remove(t){this.isLocalStorageAvailable&&localStorage.removeItem(t)}set(t,e){this.isLocalStorageAvailable&&localStorage.setItem(t,e)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Cs=n=>{let i;return n?i=n:typeof fetch>"u"?i=(...t)=>import("./chunk-NPJLHOA5.js").then(({default:e})=>e(...t)):i=fetch,(...t)=>i(...t)};var rr=class extends Error{constructor(i,t="FunctionsError",e){super(i),this.name=t,this.context=e}},ln=class extends rr{constructor(i){super("Failed to send a request to the Edge Function","FunctionsFetchError",i)}},cn=class extends rr{constructor(i){super("Relay Error invoking the Edge Function","FunctionsRelayError",i)}},dn=class extends rr{constructor(i){super("Edge Function returned a non-2xx status code","FunctionsHttpError",i)}},fo=function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n}(fo||{});var Rc=function(n,i,t,e){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(d){try{c(e.next(d))}catch(u){a(u)}}function l(d){try{c(e.throw(d))}catch(u){a(u)}}function c(d){d.done?o(d.value):r(d.value).then(s,l)}c((e=e.apply(n,i||[])).next())})},nr=class{constructor(i,{headers:t={},customFetch:e,region:r=fo.Any}={}){this.url=i,this.headers=t,this.region=r,this.fetch=Cs(e)}setAuth(i){this.headers.Authorization=`Bearer ${i}`}invoke(i,t={}){var e;return Rc(this,void 0,void 0,function*(){try{let{headers:r,method:o,body:a}=t,s={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(s["x-region"]=l);let c;a&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(s["Content-Type"]="application/octet-stream",c=a):typeof a=="string"?(s["Content-Type"]="text/plain",c=a):typeof FormData<"u"&&a instanceof FormData?c=a:(s["Content-Type"]="application/json",c=JSON.stringify(a)));let d=yield this.fetch(`${this.url}/${i}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},s),this.headers),r),body:c}).catch(x=>{throw new ln(x)}),u=d.headers.get("x-relay-error");if(u&&u==="true")throw new cn(d);if(!d.ok)throw new dn(d);let g=((e=d.headers.get("Content-Type"))!==null&&e!==void 0?e:"text/plain").split(";")[0].trim(),m;return g==="application/json"?m=yield d.json():g==="application/octet-stream"?m=yield d.blob():g==="text/event-stream"?m=d:g==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(r){return{data:null,error:r}}})}};var Fs=Mc(js(),1),{PostgrestClient:Ls,PostgrestQueryBuilder:cm,PostgrestFilterBuilder:dm,PostgrestTransformBuilder:um,PostgrestBuilder:hm}=Fs.default;var Bs="2.10.2";var Ns={"X-Client-Info":`realtime-js/${Bs}`},$s="1.0.0",pn=1e4,Hs=1e3,Ai=function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n}(Ai||{}),ze=function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n}(ze||{}),Ye=function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n}(Ye||{}),To=function(n){return n.websocket="websocket",n}(To||{}),Jt=function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n}(Jt||{});var fn=class{constructor(){this.HEADER_LENGTH=1}decode(i,t){return i.constructor===ArrayBuffer?t(this._binaryDecode(i)):t(typeof i=="string"?JSON.parse(i):{})}_binaryDecode(i){let t=new DataView(i),e=new TextDecoder;return this._decodeBroadcast(i,t,e)}_decodeBroadcast(i,t,e){let r=t.getUint8(1),o=t.getUint8(2),a=this.HEADER_LENGTH+2,s=e.decode(i.slice(a,a+r));a=a+r;let l=e.decode(i.slice(a,a+o));a=a+o;let c=JSON.parse(e.decode(i.slice(a,i.byteLength)));return{ref:null,topic:s,event:l,payload:c}}};var Oi=class{constructor(i,t){this.callback=i,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=i,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var G=function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n}(G||{}),Io=(n,i,t={})=>{var e;let r=(e=t.skipTypes)!==null&&e!==void 0?e:[];return Object.keys(i).reduce((o,a)=>(o[a]=zc(a,n,i,r),o),{})},zc=(n,i,t,e)=>{let r=i.find(s=>s.name===n),o=r?.type,a=t[n];return o&&!e.includes(o)?Vs(o,a):Eo(a)},Vs=(n,i)=>{if(n.charAt(0)==="_"){let t=n.slice(1,n.length);return Kc(i,t)}switch(n){case G.bool:return Wc(i);case G.float4:case G.float8:case G.int2:case G.int4:case G.int8:case G.numeric:case G.oid:return qc(i);case G.json:case G.jsonb:return Gc(i);case G.timestamp:return Qc(i);case G.abstime:case G.date:case G.daterange:case G.int4range:case G.int8range:case G.money:case G.reltime:case G.text:case G.time:case G.timestamptz:case G.timetz:case G.tsrange:case G.tstzrange:return Eo(i);default:return Eo(i)}},Eo=n=>n,Wc=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},qc=n=>{if(typeof n=="string"){let i=parseFloat(n);if(!Number.isNaN(i))return i}return n},Gc=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(i){return console.log(`JSON parse error: ${i}`),n}return n},Kc=(n,i)=>{if(typeof n!="string")return n;let t=n.length-1,e=n[t];if(n[0]==="{"&&e==="}"){let o,a=n.slice(1,t);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>Vs(i,s))}return n},Qc=n=>typeof n=="string"?n.replace(" ","T"):n,gn=n=>{let i=n;return i=i.replace(/^ws/i,"http"),i=i.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),i.replace(/\/+$/,"")};var Ri=class{constructor(i,t,e={},r=pn){this.channel=i,this.event=t,this.payload=e,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(i){this.timeout=i,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(i){this.payload=Object.assign(Object.assign({},this.payload),i)}receive(i,t){var e;return this._hasReceived(i)&&t((e=this.receivedResp)===null||e===void 0?void 0:e.response),this.recHooks.push({status:i,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let i=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},i),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(i,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:i,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:i,response:t}){this.recHooks.filter(e=>e.status===i).forEach(e=>e.callback(t))}_hasReceived(i){return this.receivedResp&&this.receivedResp.status===i}};var hr=class n{constructor(i,t){this.channel=i,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let e=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(e.state,{},r=>{let{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,r,o,a),this.pendingDiffs.forEach(l=>{this.state=n.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(e.diff,{},r=>{let{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=n.syncDiff(this.state,r,o,a),s())}),this.onJoin((r,o,a)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:o,newPresences:a})}),this.onLeave((r,o,a)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(i,t,e,r){let o=this.cloneDeep(i),a=this.transformState(t),s={},l={};return this.map(o,(c,d)=>{a[c]||(l[c]=d)}),this.map(a,(c,d)=>{let u=o[c];if(u){let g=d.map(b=>b.presence_ref),m=u.map(b=>b.presence_ref),x=d.filter(b=>m.indexOf(b.presence_ref)<0),y=u.filter(b=>g.indexOf(b.presence_ref)<0);x.length>0&&(s[c]=x),y.length>0&&(l[c]=y)}else s[c]=d}),this.syncDiff(o,{joins:s,leaves:l},e,r)}static syncDiff(i,t,e,r){let{joins:o,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return e||(e=()=>{}),r||(r=()=>{}),this.map(o,(s,l)=>{var c;let d=(c=i[s])!==null&&c!==void 0?c:[];if(i[s]=this.cloneDeep(l),d.length>0){let u=i[s].map(m=>m.presence_ref),g=d.filter(m=>u.indexOf(m.presence_ref)<0);i[s].unshift(...g)}e(s,d,l)}),this.map(a,(s,l)=>{let c=i[s];if(!c)return;let d=l.map(u=>u.presence_ref);c=c.filter(u=>d.indexOf(u.presence_ref)<0),i[s]=c,r(s,c,l),c.length===0&&delete i[s]}),i}static map(i,t){return Object.getOwnPropertyNames(i).map(e=>t(e,i[e]))}static transformState(i){return i=this.cloneDeep(i),Object.getOwnPropertyNames(i).reduce((t,e)=>{let r=i[e];return"metas"in r?t[e]=r.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[e]=r,t},{})}static cloneDeep(i){return JSON.parse(JSON.stringify(i))}onJoin(i){this.caller.onJoin=i}onLeave(i){this.caller.onLeave=i}onSync(i){this.caller.onSync=i}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var mr=class n{constructor(i,t={config:{}},e){this.topic=i,this.params=t,this.socket=e,this.bindings={},this.state=ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=i.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Ri(this,Ye.join,this.params,this.timeout),this.rejoinTimer=new Oi(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ze.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ye.reply,{},(r,o)=>{this._trigger(this._replyEventName(o),r)}),this.presence=new hr(this),this.broadcastEndpointURL=gn(this.socket.endPoint)+"/api/broadcast"}subscribe(i,t=this.timeout){var e,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:o,presence:a,private:s}}=this.params;this._onError(d=>i&&i("CHANNEL_ERROR",d)),this._onClose(()=>i&&i("CLOSED"));let l={},c={broadcast:o,presence:a,postgres_changes:(r=(e=this.bindings.postgres_changes)===null||e===void 0?void 0:e.map(d=>d.filter))!==null&&r!==void 0?r:[],private:s};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:d})=>{var u;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),d===void 0){i&&i("SUBSCRIBED");return}else{let g=this.bindings.postgres_changes,m=(u=g?.length)!==null&&u!==void 0?u:0,x=[];for(let y=0;y<m;y++){let b=g[y],{filter:{event:O,schema:N,table:$,filter:S}}=b,A=d&&d[y];if(A&&A.event===O&&A.schema===N&&A.table===$&&A.filter===S)x.push(Object.assign(Object.assign({},b),{id:A.id}));else{this.unsubscribe(),i&&i("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,i&&i("SUBSCRIBED");return}}).receive("error",d=>{i&&i("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{i&&i("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(e){return h(this,arguments,function*(i,t={}){return yield this.send({type:"presence",event:"track",payload:i},t.timeout||this.timeout)})}untrack(){return h(this,arguments,function*(i={}){return yield this.send({type:"presence",event:"untrack"},i)})}on(i,t,e){return this._on(i,t,e)}send(e){return h(this,arguments,function*(i,t={}){var r,o;if(!this._canPush()&&i.type==="broadcast"){let{event:a,payload:s}=i,l={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s}]})};try{let c=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return yield(o=c.body)===null||o===void 0?void 0:o.cancel(),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,l,c;let d=this._push(i.type,i,t.timeout||this.timeout);i.type==="broadcast"&&!(!((c=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})})}updateJoinPayload(i){this.joinPush.updatePayload(i)}unsubscribe(i=this.timeout){this.state=ze.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ye.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(e=>{let r=new Ri(this,Ye.leave,{},i);r.receive("ok",()=>{t(),e("ok")}).receive("timeout",()=>{t(),e("timed out")}).receive("error",()=>{e("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}_fetchWithTimeout(i,t,e){return h(this,null,function*(){let r=new AbortController,o=setTimeout(()=>r.abort(),e),a=yield this.socket.fetch(i,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(o),a})}_push(i,t,e=this.timeout){if(!this.joinedOnce)throw`tried to push '${i}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Ri(this,i,t,e);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(i,t,e){return t}_isMember(i){return this.topic===i}_joinRef(){return this.joinPush.ref}_trigger(i,t,e){var r,o;let a=i.toLocaleLowerCase(),{close:s,error:l,leave:c,join:d}=Ye;if(e&&[s,l,c,d].indexOf(a)>=0&&e!==this._joinRef())return;let g=this._onMessage(a,t,e);if(t&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(m=>{var x,y,b;return((x=m.filter)===null||x===void 0?void 0:x.event)==="*"||((b=(y=m.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(m=>m.callback(g,e)):(o=this.bindings[a])===null||o===void 0||o.filter(m=>{var x,y,b,O,N,$;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){let S=m.id,A=(x=m.filter)===null||x===void 0?void 0:x.event;return S&&((y=t.ids)===null||y===void 0?void 0:y.includes(S))&&(A==="*"||A?.toLocaleLowerCase()===((b=t.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{let S=(N=(O=m?.filter)===null||O===void 0?void 0:O.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return S==="*"||S===(($=t?.event)===null||$===void 0?void 0:$.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof g=="object"&&"ids"in g){let x=g.data,{schema:y,table:b,commit_timestamp:O,type:N,errors:$}=x;g=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:O,eventType:N,new:{},old:{},errors:$}),this._getPayloadRecords(x))}m.callback(g,e)})}_isClosed(){return this.state===ze.closed}_isJoined(){return this.state===ze.joined}_isJoining(){return this.state===ze.joining}_isLeaving(){return this.state===ze.leaving}_replyEventName(i){return`chan_reply_${i}`}_on(i,t,e){let r=i.toLocaleLowerCase(),o={type:r,filter:t,callback:e};return this.bindings[r]?this.bindings[r].push(o):this.bindings[r]=[o],this}_off(i,t){let e=i.toLocaleLowerCase();return this.bindings[e]=this.bindings[e].filter(r=>{var o;return!(((o=r.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===e&&n.isEqual(r.filter,t))}),this}static isEqual(i,t){if(Object.keys(i).length!==Object.keys(t).length)return!1;for(let e in i)if(i[e]!==t[e])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(i){this._on(Ye.close,{},i)}_onError(i){this._on(Ye.error,{},t=>i(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(i=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ze.joining,this.joinPush.resend(i))}_getPayloadRecords(i){let t={new:{},old:{}};return(i.type==="INSERT"||i.type==="UPDATE")&&(t.new=Io(i.columns,i.record)),(i.type==="UPDATE"||i.type==="DELETE")&&(t.old=Io(i.columns,i.old_record)),t}};var Jc=()=>{},Zc=typeof WebSocket<"u",pr=class{constructor(i,t){var e;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Ns,this.params={},this.timeout=pn,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Jc,this.conn=null,this.sendBuffer=[],this.serializer=new fn,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...s)=>import("./chunk-NPJLHOA5.js").then(({default:l})=>l(...s)):a=fetch,(...s)=>a(...s)},this.endPoint=`${i}/${To.websocket}`,this.httpEndpoint=gn(i),t?.transport?this.transport=t.transport:this.transport=null,t?.params&&(this.params=t.params),t?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);let r=(e=t?.params)===null||e===void 0?void 0:e.apikey;r&&(this.accessToken=r,this.apiKey=r),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=t?.encode?t.encode:(o,a)=>a(JSON.stringify(o)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Oi(()=>h(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Zc){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Mo(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-UHLMCCUZ.js").then(({default:i})=>{this.conn=new i(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(i,t){this.conn&&(this.conn.onclose=function(){},i?this.conn.close(i,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(i){return h(this,null,function*(){let t=yield i.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return h(this,null,function*(){let i=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),i})}log(i,t,e){this.logger(i,t,e)}connectionState(){switch(this.conn&&this.conn.readyState){case Ai.connecting:return Jt.Connecting;case Ai.open:return Jt.Open;case Ai.closing:return Jt.Closing;default:return Jt.Closed}}isConnected(){return this.connectionState()===Jt.Open}channel(i,t={config:{}}){let e=new mr(`realtime:${i}`,t,this);return this.channels.push(e),e}push(i){let{topic:t,event:e,payload:r,ref:o}=i,a=()=>{this.encode(i,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${t} ${e} (${o})`,r),this.isConnected()?a():this.sendBuffer.push(a)}setAuth(i){this.accessToken=i,this.channels.forEach(t=>{i&&t.updateJoinPayload({access_token:i}),t.joinedOnce&&t._isJoined()&&t._push(Ye.access_token,{access_token:i})})}_makeRef(){let i=this.ref+1;return i===this.ref?this.ref=0:this.ref=i,this.ref.toString()}_leaveOpenTopic(i){let t=this.channels.find(e=>e.topic===i&&(e._isJoined()||e._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${i}"`),t.unsubscribe())}_remove(i){this.channels=this.channels.filter(t=>t._joinRef()!==i._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=i=>this._onConnError(i),this.conn.onmessage=i=>this._onConnMessage(i),this.conn.onclose=i=>this._onConnClose(i))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$s}))}_onConnMessage(i){this.decode(i.data,t=>{let{topic:e,event:r,payload:o,ref:a}=t;(a&&a===this.pendingHeartbeatRef||r===o?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${e} ${r} ${a&&"("+a+")"||""}`,o),this.channels.filter(s=>s._isMember(e)).forEach(s=>s._trigger(r,o,a)),this.stateChangeCallbacks.message.forEach(s=>s(t))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(i=>i())}_onConnClose(i){this.log("transport","close",i),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(i))}_onConnError(i){this.log("transport",i.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(i))}_triggerChanError(){this.channels.forEach(i=>i._trigger(Ye.error))}_appendParams(i,t){if(Object.keys(t).length===0)return i;let e=i.match(/\?/)?"&":"?",r=new URLSearchParams(t);return`${i}${e}${r}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(i=>i()),this.sendBuffer=[])}_sendHeartbeat(){var i;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(i=this.conn)===null||i===void 0||i.close(Hs,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}};var Mo=class{constructor(i,t,e){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ai.connecting,this.send=()=>{},this.url=null,this.url=i,this.close=e.close}};var Di=class extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}};function ae(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var _n=class extends Di{constructor(i,t){super(i),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Zt=class extends Di{constructor(i,t){super(i),this.name="StorageUnknownError",this.originalError=t}};var Xc=function(n,i,t,e){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(d){try{c(e.next(d))}catch(u){a(u)}}function l(d){try{c(e.throw(d))}catch(u){a(u)}}function c(d){d.done?o(d.value):r(d.value).then(s,l)}c((e=e.apply(n,i||[])).next())})},bn=n=>{let i;return n?i=n:typeof fetch>"u"?i=(...t)=>import("./chunk-NPJLHOA5.js").then(({default:e})=>e(...t)):i=fetch,(...t)=>i(...t)},Us=()=>Xc(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-NPJLHOA5.js")).Response:Response}),vn=n=>{if(Array.isArray(n))return n.map(t=>vn(t));if(typeof n=="function"||n!==Object(n))return n;let i={};return Object.entries(n).forEach(([t,e])=>{let r=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));i[r]=vn(e)}),i};var Xt=function(n,i,t,e){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(d){try{c(e.next(d))}catch(u){a(u)}}function l(d){try{c(e.throw(d))}catch(u){a(u)}}function c(d){d.done?o(d.value):r(d.value).then(s,l)}c((e=e.apply(n,i||[])).next())})},Ao=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),ed=(n,i,t)=>Xt(void 0,void 0,void 0,function*(){let e=yield Us();n instanceof e&&!t?.noResolveJson?n.json().then(r=>{i(new _n(Ao(r),n.status||500))}).catch(r=>{i(new Zt(Ao(r),r))}):i(new Zt(Ao(n),n))}),td=(n,i,t,e)=>{let r={method:n,headers:i?.headers||{}};return n==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},i?.headers),e&&(r.body=JSON.stringify(e)),Object.assign(Object.assign({},r),t))};function fr(n,i,t,e,r,o){return Xt(this,void 0,void 0,function*(){return new Promise((a,s)=>{n(t,td(i,e,r,o)).then(l=>{if(!l.ok)throw l;return e?.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>ed(l,s,e))})})}function Pi(n,i,t,e){return Xt(this,void 0,void 0,function*(){return fr(n,"GET",i,t,e)})}function dt(n,i,t,e,r){return Xt(this,void 0,void 0,function*(){return fr(n,"POST",i,e,r,t)})}function zs(n,i,t,e,r){return Xt(this,void 0,void 0,function*(){return fr(n,"PUT",i,e,r,t)})}function Ws(n,i,t,e){return Xt(this,void 0,void 0,function*(){return fr(n,"HEAD",i,Object.assign(Object.assign({},t),{noResolveJson:!0}),e)})}function yn(n,i,t,e,r){return Xt(this,void 0,void 0,function*(){return fr(n,"DELETE",i,e,r,t)})}var $e=function(n,i,t,e){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(d){try{c(e.next(d))}catch(u){a(u)}}function l(d){try{c(e.throw(d))}catch(u){a(u)}}function c(d){d.done?o(d.value):r(d.value).then(s,l)}c((e=e.apply(n,i||[])).next())})},id={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qs={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},wn=class{constructor(i,t={},e,r){this.url=i,this.headers=t,this.bucketId=e,this.fetch=bn(r)}uploadOrUpdate(i,t,e,r){return $e(this,void 0,void 0,function*(){try{let o,a=Object.assign(Object.assign({},qs),r),s=Object.assign(Object.assign({},this.headers),i==="POST"&&{"x-upsert":String(a.upsert)}),l=a.metadata;typeof Blob<"u"&&e instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),o.append("",e),l&&o.append("metadata",this.encodeMetadata(l))):typeof FormData<"u"&&e instanceof FormData?(o=e,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=e,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),r?.headers&&(s=Object.assign(Object.assign({},s),r.headers));let c=this._removeEmptyFolders(t),d=this._getFinalPath(c),u=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:i,body:o,headers:s},a?.duplex?{duplex:a.duplex}:{})),g=yield u.json();return u.ok?{data:{path:c,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(o){if(ae(o))return{data:null,error:o};throw o}})}upload(i,t,e){return $e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",i,t,e)})}uploadToSignedUrl(i,t,e,r){return $e(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(i),a=this._getFinalPath(o),s=new URL(this.url+`/object/upload/sign/${a}`);s.searchParams.set("token",t);try{let l,c=Object.assign({upsert:qs.upsert},r),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&e instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",e)):typeof FormData<"u"&&e instanceof FormData?(l=e,l.append("cacheControl",c.cacheControl)):(l=e,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);let u=yield this.fetch(s.toString(),{method:"PUT",body:l,headers:d}),g=yield u.json();return u.ok?{data:{path:o,fullPath:g.Key},error:null}:{data:null,error:g}}catch(l){if(ae(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(i,t){return $e(this,void 0,void 0,function*(){try{let e=this._getFinalPath(i),r=Object.assign({},this.headers);t?.upsert&&(r["x-upsert"]="true");let o=yield dt(this.fetch,`${this.url}/object/upload/sign/${e}`,{},{headers:r}),a=new URL(this.url+o.url),s=a.searchParams.get("token");if(!s)throw new Di("No token returned by API");return{data:{signedUrl:a.toString(),path:i,token:s},error:null}}catch(e){if(ae(e))return{data:null,error:e};throw e}})}update(i,t,e){return $e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",i,t,e)})}move(i,t,e){return $e(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:i,destinationKey:t,destinationBucket:e?.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}copy(i,t,e){return $e(this,void 0,void 0,function*(){try{return{data:{path:(yield dt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:i,destinationKey:t,destinationBucket:e?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}createSignedUrl(i,t,e){return $e(this,void 0,void 0,function*(){try{let r=this._getFinalPath(i),o=yield dt(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},e?.transform?{transform:e.transform}:{}),{headers:this.headers}),a=e?.download?`&download=${e.download===!0?"":e.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}createSignedUrls(i,t,e){return $e(this,void 0,void 0,function*(){try{let r=yield dt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:i},{headers:this.headers}),o=e?.download?`&download=${e.download===!0?"":e.download}`:"";return{data:r.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}download(i,t){return $e(this,void 0,void 0,function*(){let r=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),a=o?`?${o}`:"";try{let s=this._getFinalPath(i);return{data:yield(yield Pi(this.fetch,`${this.url}/${r}/${s}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}info(i){return $e(this,void 0,void 0,function*(){let t=this._getFinalPath(i);try{let e=yield Pi(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:vn(e),error:null}}catch(e){if(ae(e))return{data:null,error:e};throw e}})}exists(i){return $e(this,void 0,void 0,function*(){let t=this._getFinalPath(i);try{return yield Ws(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(e){if(ae(e)&&e instanceof Zt){let r=e.originalError;if([400,404].includes(r?.status))return{data:!1,error:e}}throw e}})}getPublicUrl(i,t){let e=this._getFinalPath(i),r=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&r.push(o);let s=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});l!==""&&r.push(l);let c=r.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${e}${c}`)}}}remove(i){return $e(this,void 0,void 0,function*(){try{return{data:yield yn(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:i},{headers:this.headers}),error:null}}catch(t){if(ae(t))return{data:null,error:t};throw t}})}list(i,t,e){return $e(this,void 0,void 0,function*(){try{let r=Object.assign(Object.assign(Object.assign({},id),t),{prefix:i||""});return{data:yield dt(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},e),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){let t=[];return i.width&&t.push(`width=${i.width}`),i.height&&t.push(`height=${i.height}`),i.resize&&t.push(`resize=${i.resize}`),i.format&&t.push(`format=${i.format}`),i.quality&&t.push(`quality=${i.quality}`),t.join("&")}};var Gs="2.7.0";var Ks={"X-Client-Info":`storage-js/${Gs}`};var ji=function(n,i,t,e){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(d){try{c(e.next(d))}catch(u){a(u)}}function l(d){try{c(e.throw(d))}catch(u){a(u)}}function c(d){d.done?o(d.value):r(d.value).then(s,l)}c((e=e.apply(n,i||[])).next())})},xn=class{constructor(i,t={},e){this.url=i,this.headers=Object.assign(Object.assign({},Ks),t),this.fetch=bn(e)}listBuckets(){return ji(this,void 0,void 0,function*(){try{return{data:yield Pi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}})}getBucket(i){return ji(this,void 0,void 0,function*(){try{return{data:yield Pi(this.fetch,`${this.url}/bucket/${i}`,{headers:this.headers}),error:null}}catch(t){if(ae(t))return{data:null,error:t};throw t}})}createBucket(i,t={public:!1}){return ji(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket`,{id:i,name:i,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(ae(e))return{data:null,error:e};throw e}})}updateBucket(i,t){return ji(this,void 0,void 0,function*(){try{return{data:yield zs(this.fetch,`${this.url}/bucket/${i}`,{id:i,name:i,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(ae(e))return{data:null,error:e};throw e}})}emptyBucket(i){return ji(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket/${i}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(ae(t))return{data:null,error:t};throw t}})}deleteBucket(i){return ji(this,void 0,void 0,function*(){try{return{data:yield yn(this.fetch,`${this.url}/bucket/${i}`,{},{headers:this.headers}),error:null}}catch(t){if(ae(t))return{data:null,error:t};throw t}})}};var gr=class extends xn{constructor(i,t={},e){super(i,t,e)}from(i){return new wn(this.url,this.headers,i,this.fetch)}};var Qs="2.45.4";var _r="";typeof Deno<"u"?_r="deno":typeof document<"u"?_r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_r="react-native":_r="node";var rd={"X-Client-Info":`supabase-js-${_r}/${Qs}`},Ys={headers:rd},Js={schema:"public"},Zs={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Xs={};ws();var nd=function(n,i,t,e){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(d){try{c(e.next(d))}catch(u){a(u)}}function l(d){try{c(e.throw(d))}catch(u){a(u)}}function c(d){d.done?o(d.value):r(d.value).then(s,l)}c((e=e.apply(n,i||[])).next())})},od=n=>{let i;return n?i=n:typeof fetch>"u"?i=bs:i=fetch,(...t)=>i(...t)},ad=()=>typeof Headers>"u"?ys:Headers,el=(n,i,t)=>{let e=od(t),r=ad();return(o,a)=>nd(void 0,void 0,void 0,function*(){var s;let l=(s=yield i())!==null&&s!==void 0?s:n,c=new r(a?.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),e(o,Object.assign(Object.assign({},a),{headers:c}))})};var sd=function(n,i,t,e){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(d){try{c(e.next(d))}catch(u){a(u)}}function l(d){try{c(e.throw(d))}catch(u){a(u)}}function c(d){d.done?o(d.value):r(d.value).then(s,l)}c((e=e.apply(n,i||[])).next())})};function tl(n){return n.replace(/\/$/,"")}function il(n,i){let{db:t,auth:e,realtime:r,global:o}=n,{db:a,auth:s,realtime:l,global:c}=i,d={db:Object.assign(Object.assign({},a),t),auth:Object.assign(Object.assign({},s),e),realtime:Object.assign(Object.assign({},l),r),global:Object.assign(Object.assign({},c),o),accessToken:()=>sd(this,void 0,void 0,function*(){return""})};return n.accessToken?d.accessToken=n.accessToken:delete d.accessToken,d}function rl(n){return Math.round(Date.now()/1e3)+n}function nl(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let i=Math.random()*16|0;return(n=="x"?i:i&3|8).toString(16)})}var nt=()=>typeof document<"u",ei={tested:!1,writable:!1},Ot=()=>{if(!nt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ei.tested)return ei.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),ei.tested=!0,ei.writable=!0}catch{ei.tested=!0,ei.writable=!1}return ei.writable};function Cn(n){let i={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((r,o)=>{i[o]=r})}catch{}return t.searchParams.forEach((e,r)=>{i[r]=e}),i}var kn=n=>{let i;return n?i=n:typeof fetch>"u"?i=(...t)=>import("./chunk-NPJLHOA5.js").then(({default:e})=>e(...t)):i=fetch,(...t)=>i(...t)},ol=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Rt=(n,i,t)=>h(void 0,null,function*(){yield n.setItem(i,JSON.stringify(t))}),br=(n,i)=>h(void 0,null,function*(){let t=yield n.getItem(i);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),Sn=(n,i)=>h(void 0,null,function*(){yield n.removeItem(i)});function ld(n){let i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t="",e,r,o,a,s,l,c,d=0;for(n=n.replace("-","+").replace("_","/");d<n.length;)a=i.indexOf(n.charAt(d++)),s=i.indexOf(n.charAt(d++)),l=i.indexOf(n.charAt(d++)),c=i.indexOf(n.charAt(d++)),e=a<<2|s>>4,r=(s&15)<<4|l>>2,o=(l&3)<<6|c,t=t+String.fromCharCode(e),l!=64&&r!=0&&(t=t+String.fromCharCode(r)),c!=64&&o!=0&&(t=t+String.fromCharCode(o));return t}var vr=class n{constructor(){this.promise=new n.promiseConstructor((i,t)=>{this.resolve=i,this.reject=t})}};vr.promiseConstructor=Promise;function Oo(n){let i=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=n.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!i.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");let e=t[1];return JSON.parse(ld(e))}function al(n){return h(this,null,function*(){return yield new Promise(i=>{setTimeout(()=>i(null),n)})})}function sl(n,i){return new Promise((e,r)=>{h(this,null,function*(){for(let o=0;o<1/0;o++)try{let a=yield n(o);if(!i(o,null,a)){e(a);return}}catch(a){if(!i(o,a)){r(a);return}}})})}function cd(n){return("0"+n.toString(16)).substr(-2)}function ti(){let i=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",e=t.length,r="";for(let o=0;o<56;o++)r+=t.charAt(Math.floor(Math.random()*e));return r}return crypto.getRandomValues(i),Array.from(i,cd).join("")}function dd(n){return h(this,null,function*(){let t=new TextEncoder().encode(n),e=yield crypto.subtle.digest("SHA-256",t),r=new Uint8Array(e);return Array.from(r).map(o=>String.fromCharCode(o)).join("")})}function ud(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function ii(n){return h(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let t=yield dd(n);return ud(t)})}var yr=class extends Error{constructor(i,t){super(i),this.__isAuthError=!0,this.name="AuthError",this.status=t}};function R(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}var Tn=class extends yr{constructor(i,t){super(i,t),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}};function ll(n){return R(n)&&n.name==="AuthApiError"}var Fi=class extends yr{constructor(i,t){super(i),this.name="AuthUnknownError",this.originalError=t}},bt=class extends yr{constructor(i,t,e){super(i),this.name=t,this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}},yt=class extends bt{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}},Li=class extends bt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}},ri=class extends bt{constructor(i){super(i,"AuthInvalidCredentialsError",400)}},ni=class extends bt{constructor(i,t=null){super(i,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},wr=class extends bt{constructor(i,t=null){super(i,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Bi=class extends bt{constructor(i,t){super(i,"AuthRetryableFetchError",t)}};function In(n){return R(n)&&n.name==="AuthRetryableFetchError"}var En=class extends bt{constructor(i,t,e){super(i,"AuthWeakPasswordError",t),this.reasons=e}};var hd=function(n,i){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&i.indexOf(e)<0&&(t[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(n);r<e.length;r++)i.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(n,e[r])&&(t[e[r]]=n[e[r]]);return t},Ni=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),md=[502,503,504];function cl(n){return h(this,null,function*(){if(!ol(n))throw new Bi(Ni(n),0);if(md.includes(n.status))throw new Bi(Ni(n),n.status);let i;try{i=yield n.json()}catch(t){throw new Fi(Ni(t),t)}throw typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((t,e)=>t&&typeof e=="string",!0)?new En(Ni(i),n.status,i.weak_password.reasons):new Tn(Ni(i),n.status||500)})}var pd=(n,i,t,e)=>{let r={method:n,headers:i?.headers||{}};return n==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},i?.headers),r.body=JSON.stringify(e),Object.assign(Object.assign({},r),t))};function j(n,i,t,e){return h(this,null,function*(){var r;let o=Object.assign({},e?.headers);e?.jwt&&(o.Authorization=`Bearer ${e.jwt}`);let a=(r=e?.query)!==null&&r!==void 0?r:{};e?.redirectTo&&(a.redirect_to=e.redirectTo);let s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=yield fd(n,i,t+s,{headers:o,noResolveJson:e?.noResolveJson},{},e?.body);return e?.xform?e?.xform(l):{data:Object.assign({},l),error:null}})}function fd(n,i,t,e,r,o){return h(this,null,function*(){let a=pd(i,e,r,o),s;try{s=yield n(t,a)}catch(l){throw console.error(l),new Bi(Ni(l),0)}if(s.ok||(yield cl(s)),e?.noResolveJson)return s;try{return yield s.json()}catch(l){yield cl(l)}})}function Dt(n){var i;let t=null;gd(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=rl(n.expires_in)));let e=(i=n.user)!==null&&i!==void 0?i:n;return{data:{session:t,user:e},error:null}}function Ro(n){let i=Dt(n);return!i.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,e)=>t&&typeof e=="string",!0)&&(i.data.weak_password=n.weak_password),i}function ut(n){var i;return{data:{user:(i=n.user)!==null&&i!==void 0?i:n},error:null}}function dl(n){return{data:n,error:null}}function ul(n){let{action_link:i,email_otp:t,hashed_token:e,redirect_to:r,verification_type:o}=n,a=hd(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:i,email_otp:t,hashed_token:e,redirect_to:r,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function hl(n){return n}function gd(n){return n.access_token&&n.refresh_token&&n.expires_in}var _d=function(n,i){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&i.indexOf(e)<0&&(t[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(n);r<e.length;r++)i.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(n,e[r])&&(t[e[r]]=n[e[r]]);return t},$i=class{constructor({url:i="",headers:t={},fetch:e}){this.url=i,this.headers=t,this.fetch=kn(e),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(i,t="global"){return h(this,null,function*(){try{return yield j(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:i,noResolveJson:!0}),{data:null,error:null}}catch(e){if(R(e))return{data:null,error:e};throw e}})}inviteUserByEmail(e){return h(this,arguments,function*(i,t={}){try{return yield j(this.fetch,"POST",`${this.url}/invite`,{body:{email:i,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ut})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}})}generateLink(i){return h(this,null,function*(){try{let{options:t}=i,e=_d(i,["options"]),r=Object.assign(Object.assign({},e),t);return"newEmail"in e&&(r.new_email=e?.newEmail,delete r.newEmail),yield j(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:ul,redirectTo:t?.redirectTo})}catch(t){if(R(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(i){return h(this,null,function*(){try{return yield j(this.fetch,"POST",`${this.url}/admin/users`,{body:i,headers:this.headers,xform:ut})}catch(t){if(R(t))return{data:{user:null},error:t};throw t}})}listUsers(i){return h(this,null,function*(){var t,e,r,o,a,s,l;try{let c={nextPage:null,lastPage:0,total:0},d=yield j(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(e=(t=i?.page)===null||t===void 0?void 0:t.toString())!==null&&e!==void 0?e:"",per_page:(o=(r=i?.perPage)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:""},xform:hl});if(d.error)throw d.error;let u=yield d.json(),g=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(x=>{let y=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);c[`${b}Page`]=y}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},u),c),error:null}}catch(c){if(R(c))return{data:{users:[]},error:c};throw c}})}getUserById(i){return h(this,null,function*(){try{return yield j(this.fetch,"GET",`${this.url}/admin/users/${i}`,{headers:this.headers,xform:ut})}catch(t){if(R(t))return{data:{user:null},error:t};throw t}})}updateUserById(i,t){return h(this,null,function*(){try{return yield j(this.fetch,"PUT",`${this.url}/admin/users/${i}`,{body:t,headers:this.headers,xform:ut})}catch(e){if(R(e))return{data:{user:null},error:e};throw e}})}deleteUser(i,t=!1){return h(this,null,function*(){try{return yield j(this.fetch,"DELETE",`${this.url}/admin/users/${i}`,{headers:this.headers,body:{should_soft_delete:t},xform:ut})}catch(e){if(R(e))return{data:{user:null},error:e};throw e}})}_listFactors(i){return h(this,null,function*(){try{let{data:t,error:e}=yield j(this.fetch,"GET",`${this.url}/admin/users/${i.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:t,error:e}}catch(t){if(R(t))return{data:null,error:t};throw t}})}_deleteFactor(i){return h(this,null,function*(){try{return{data:yield j(this.fetch,"DELETE",`${this.url}/admin/users/${i.userId}/factors/${i.id}`,{headers:this.headers}),error:null}}catch(t){if(R(t))return{data:null,error:t};throw t}})}};var Mn="2.61.0";var ml="http://localhost:9999",pl="supabase.auth.token";var fl={"X-Client-Info":`gotrue-js/${Mn}`},Do=10;var gl={getItem:n=>Ot()?globalThis.localStorage.getItem(n):null,setItem:(n,i)=>{Ot()&&globalThis.localStorage.setItem(n,i)},removeItem:n=>{Ot()&&globalThis.localStorage.removeItem(n)}};function Po(n={}){return{getItem:i=>n[i]||null,setItem:(i,t)=>{n[i]=t},removeItem:i=>{delete n[i]}}}function _l(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var vd={debug:!!(globalThis&&Ot()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},An=class extends Error{constructor(i){super(i),this.isAcquireTimeout=!0}};_l();var bd={url:ml,storageKey:pl,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fl,flowType:"implicit",debug:!1},xr=30*1e3,vl=3;function yd(n,i,t){return h(this,null,function*(){return yield t()})}var jo=(()=>{class n{constructor(t){var e;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=n.nextInstanceID,n.nextInstanceID+=1,this.instanceID>0&&nt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let r=Object.assign(Object.assign({},bd),t);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new $i({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=kn(r.fetch),this.lock=r.lock||yd,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:Ot()?this.storage=gl:(this.memoryStorage={},this.storage=Po(this.memoryStorage)):(this.memoryStorage={},this.storage=Po(this.memoryStorage)),nt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(e=this.broadcastChannel)===null||e===void 0||e.addEventListener("message",o=>h(this,null,function*(){this._debug("received broadcast notification from other tab or client",o),yield this._notifyAllSubscribers(o.data.event,o.data.session,!1)}))}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Mn}) ${new Date().toISOString()}`,...t),this}initialize(){return h(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=h(this,null,function*(){return yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return h(this,null,function*(){try{let t=nt()?yield this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){let{data:e,error:r}=yield this._getSessionFromURL(t);if(r)return this._debug("#_initialize()","error detecting session from URL",r),r?.message==="Identity is already linked"||r?.message==="Identity is already linked to another user"?{error:r}:(yield this._removeSession(),{error:r});let{session:o,redirectType:a}=e;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),yield this._saveSession(o),setTimeout(()=>h(this,null,function*(){a==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",o):yield this._notifyAllSubscribers("SIGNED_IN",o)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(t){return R(t)?{error:t}:{error:new Fi("Unexpected error during initialization",t)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signUp(t){return h(this,null,function*(){var e,r,o;try{yield this._removeSession();let a;if("email"in t){let{email:u,password:g,options:m}=t,x=null,y=null;if(this.flowType==="pkce"){let b=ti();yield Rt(this.storage,`${this.storageKey}-code-verifier`,b),x=yield ii(b),y=b===x?"plain":"s256"}a=yield j(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m?.emailRedirectTo,body:{email:u,password:g,data:(e=m?.data)!==null&&e!==void 0?e:{},gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:x,code_challenge_method:y},xform:Dt})}else if("phone"in t){let{phone:u,password:g,options:m}=t;a=yield j(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:g,data:(r=m?.data)!==null&&r!==void 0?r:{},channel:(o=m?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Dt})}else throw new ri("You must provide either an email or phone number and a password");let{data:s,error:l}=a;if(l||!s)return{data:{user:null,session:null},error:l};let c=s.session,d=s.user;return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(R(a))return{data:{user:null,session:null},error:a};throw a}})}signInWithPassword(t){return h(this,null,function*(){try{yield this._removeSession();let e;if("email"in t){let{email:a,password:s,options:l}=t;e=yield j(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Ro})}else if("phone"in t){let{phone:a,password:s,options:l}=t;e=yield j(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Ro})}else throw new ri("You must provide either an email or phone number and a password");let{data:r,error:o}=e;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Li}:(r.session&&(yield this._saveSession(r.session),yield this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(e){if(R(e))return{data:{user:null,session:null},error:e};throw e}})}signInWithOAuth(t){return h(this,null,function*(){var e,r,o,a;return yield this._removeSession(),yield this._handleProviderSignIn(t.provider,{redirectTo:(e=t.options)===null||e===void 0?void 0:e.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})})}exchangeCodeForSession(t){return h(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>h(this,null,function*(){return this._exchangeCodeForSession(t)}))})}_exchangeCodeForSession(t){return h(this,null,function*(){let e=yield br(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(e??"").split("/"),{data:a,error:s}=yield j(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Dt});return yield Sn(this.storage,`${this.storageKey}-code-verifier`),s?{data:{user:null,session:null,redirectType:null},error:s}:!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Li}:(a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:s})})}signInWithIdToken(t){return h(this,null,function*(){yield this._removeSession();try{let{options:e,provider:r,token:o,access_token:a,nonce:s}=t,l=yield j(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:e?.captchaToken}},xform:Dt}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Li}:(c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(e){if(R(e))return{data:{user:null,session:null},error:e};throw e}})}signInWithOtp(t){return h(this,null,function*(){var e,r,o,a,s;try{if(yield this._removeSession(),"email"in t){let{email:l,options:c}=t,d=null,u=null;if(this.flowType==="pkce"){let m=ti();yield Rt(this.storage,`${this.storageKey}-code-verifier`,m),d=yield ii(m),u=m===d?"plain":"s256"}let{error:g}=yield j(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(e=c?.data)!==null&&e!==void 0?e:{},create_user:(r=c?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in t){let{phone:l,options:c}=t,{data:d,error:u}=yield j(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(a=c?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(s=c?.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:u}}throw new ri("You must provide either an email or phone number.")}catch(l){if(R(l))return{data:{user:null,session:null},error:l};throw l}})}verifyOtp(t){return h(this,null,function*(){var e,r;try{t.type!=="email_change"&&t.type!=="phone_change"&&(yield this._removeSession());let o,a;"options"in t&&(o=(e=t.options)===null||e===void 0?void 0:e.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);let{data:s,error:l}=yield j(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:Dt});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");let c=s.session,d=s.user;return c?.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(o){if(R(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithSSO(t){return h(this,null,function*(){var e,r,o;try{yield this._removeSession();let a=null,s=null;if(this.flowType==="pkce"){let l=ti();yield Rt(this.storage,`${this.storageKey}-code-verifier`,l),a=yield ii(l),s=l===a?"plain":"s256"}return yield j(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(e=t.options)===null||e===void 0?void 0:e.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:dl})}catch(a){if(R(a))return{data:null,error:a};throw a}})}reauthenticate(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return h(this,null,function*(){try{return yield this._useSession(t=>h(this,null,function*(){let{data:{session:e},error:r}=t;if(r)throw r;if(!e)throw new yt;let{error:o}=yield j(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:e.access_token});return{data:{user:null,session:null},error:o}}))}catch(t){if(R(t))return{data:{user:null,session:null},error:t};throw t}})}resend(t){return h(this,null,function*(){try{t.type!="email_change"&&t.type!="phone_change"&&(yield this._removeSession());let e=`${this.url}/resend`;if("email"in t){let{email:r,type:o,options:a}=t,{error:s}=yield j(this.fetch,"POST",e,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){let{phone:r,type:o,options:a}=t,{data:s,error:l}=yield j(this.fetch,"POST",e,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:s?.message_id},error:l}}throw new ri("You must provide either an email or phone number and a type")}catch(e){if(R(e))return{data:{user:null,session:null},error:e};throw e}})}getSession(){return h(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>h(this,null,function*(){return this._useSession(t=>h(this,null,function*(){return t}))}))})}_acquireLock(t,e){return h(this,null,function*(){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=h(this,null,function*(){return yield r,yield e()});return this.pendingInLock.push(h(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,t,()=>h(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let r=e();for(this.pendingInLock.push(h(this,null,function*(){try{yield r}catch{}})),yield r;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(t){return h(this,null,function*(){this._debug("#_useSession","begin");try{let e=yield this.__loadSession();return yield t(e)}finally{this._debug("#_useSession","end")}})}__loadSession(){return h(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,e=yield br(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",e),e!==null&&(this._isValidSession(e)?t=e:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!t)return{data:{session:null},error:null};let r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r)return{data:{session:t},error:null};let{session:o,error:a}=yield this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(t){return h(this,null,function*(){return t?yield this._getUser(t):(yield this.initializePromise,this._acquireLock(-1,()=>h(this,null,function*(){return yield this._getUser()})))})}_getUser(t){return h(this,null,function*(){try{return t?yield j(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ut}):yield this._useSession(e=>h(this,null,function*(){var r,o;let{data:a,error:s}=e;if(s)throw s;return yield j(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0,xform:ut})}))}catch(e){if(R(e))return{data:{user:null},error:e};throw e}})}updateUser(r){return h(this,arguments,function*(t,e={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._updateUser(t,e)}))})}_updateUser(r){return h(this,arguments,function*(t,e={}){try{return yield this._useSession(o=>h(this,null,function*(){let{data:a,error:s}=o;if(s)throw s;if(!a.session)throw new yt;let l=a.session,c=null,d=null;if(this.flowType==="pkce"&&t.email!=null){let m=ti();yield Rt(this.storage,`${this.storageKey}-code-verifier`,m),c=yield ii(m),d=m===c?"plain":"s256"}let{data:u,error:g}=yield j(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:e?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:ut});if(g)throw g;return l.user=u.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}}))}catch(o){if(R(o))return{data:{user:null},error:o};throw o}})}_decodeJWT(t){return Oo(t)}setSession(t){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._setSession(t)}))})}_setSession(t){return h(this,null,function*(){try{if(!t.access_token||!t.refresh_token)throw new yt;let e=Date.now()/1e3,r=e,o=!0,a=null,s=Oo(t.access_token);if(s.exp&&(r=s.exp,o=r<=e),o){let{session:l,error:c}=yield this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{let{data:l,error:c}=yield this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-e,expires_at:r},yield this._saveSession(a),yield this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(e){if(R(e))return{data:{session:null,user:null},error:e};throw e}})}refreshSession(t){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._refreshSession(t)}))})}_refreshSession(t){return h(this,null,function*(){try{return yield this._useSession(e=>h(this,null,function*(){var r;if(!t){let{data:s,error:l}=e;if(l)throw l;t=(r=s.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new yt;let{session:o,error:a}=yield this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}}))}catch(e){if(R(e))return{data:{user:null,session:null},error:e};throw e}})}_getSessionFromURL(t){return h(this,null,function*(){try{if(!nt())throw new ni("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new ni("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new wr("Not a valid PKCE flow url.");let e=Cn(window.location.href);if(t){if(!e.code)throw new wr("No code detected.");let{data:$,error:S}=yield this._exchangeCodeForSession(e.code);if(S)throw S;let A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:$.session,redirectType:null},error:null}}if(e.error||e.error_description||e.error_code)throw new ni(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});let{provider_token:r,provider_refresh_token:o,access_token:a,refresh_token:s,expires_in:l,expires_at:c,token_type:d}=e;if(!a||!l||!s||!d)throw new ni("No session defined in URL");let u=Math.round(Date.now()/1e3),g=parseInt(l),m=u+g;c&&(m=parseInt(c));let x=m-u;x*1e3<=xr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${g}s`);let y=m-g;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,m,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",y,m,u);let{data:b,error:O}=yield this._getUser(a);if(O)throw O;let N={provider_token:r,provider_refresh_token:o,access_token:a,expires_in:g,expires_at:m,refresh_token:s,token_type:d,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:e.type},error:null}}catch(e){if(R(e))return{data:{session:null,redirectType:null},error:e};throw e}})}_isImplicitGrantFlow(){let t=Cn(window.location.href);return!!(nt()&&(t.access_token||t.error_description))}_isPKCEFlow(){return h(this,null,function*(){let t=Cn(window.location.href),e=yield br(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&e)})}signOut(){return h(this,arguments,function*(t={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._signOut(t)}))})}_signOut(){return h(this,arguments,function*({scope:t}={scope:"global"}){return yield this._useSession(e=>h(this,null,function*(){var r;let{data:o,error:a}=e;if(a)return{error:a};let s=(r=o.session)===null||r===void 0?void 0:r.access_token;if(s){let{error:l}=yield this.admin.signOut(s,t);if(l&&!(ll(l)&&(l.status===404||l.status===401)))return{error:l}}return t!=="others"&&(yield this._removeSession(),yield Sn(this.storage,`${this.storageKey}-code-verifier`),yield this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}}))})}onAuthStateChange(t){let e=nl(),r={id:e,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",e),this.stateChangeEmitters.delete(e)}};return this._debug("#onAuthStateChange()","registered callback with id",e),this.stateChangeEmitters.set(e,r),h(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){this._emitInitialSession(e)}))}),{data:{subscription:r}}}_emitInitialSession(t){return h(this,null,function*(){return yield this._useSession(e=>h(this,null,function*(){var r,o;try{let{data:{session:a},error:s}=e;if(s)throw s;yield(r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){yield(o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}}))})}resetPasswordForEmail(r){return h(this,arguments,function*(t,e={}){let o=null,a=null;if(this.flowType==="pkce"){let s=ti();yield Rt(this.storage,`${this.storageKey}-code-verifier`,`${s}/PASSWORD_RECOVERY`),o=yield ii(s),a=s===o?"plain":"s256"}try{return yield j(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:a,gotrue_meta_security:{captcha_token:e.captchaToken}},headers:this.headers,redirectTo:e.redirectTo})}catch(s){if(R(s))return{data:null,error:s};throw s}})}getUserIdentities(){return h(this,null,function*(){var t;try{let{data:e,error:r}=yield this.getUser();if(r)throw r;return{data:{identities:(t=e.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(e){if(R(e))return{data:null,error:e};throw e}})}linkIdentity(t){return h(this,null,function*(){var e;try{let{data:r,error:o}=yield this._useSession(a=>h(this,null,function*(){var s,l,c,d,u;let{data:g,error:m}=a;if(m)throw m;let x=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield j(this.fetch,"GET",x,{headers:this.headers,jwt:(u=(d=g.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})}));if(o)throw o;return nt()&&!(!((e=t.options)===null||e===void 0)&&e.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:t.provider,url:r?.url},error:null}}catch(r){if(R(r))return{data:{provider:t.provider,url:null},error:r};throw r}})}unlinkIdentity(t){return h(this,null,function*(){try{return yield this._useSession(e=>h(this,null,function*(){var r,o;let{data:a,error:s}=e;if(s)throw s;return yield j(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})}))}catch(e){if(R(e))return{data:null,error:e};throw e}})}_refreshAccessToken(t){return h(this,null,function*(){let e=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(e,"begin");try{let r=Date.now();return yield sl(o=>h(this,null,function*(){return yield al(o*200),this._debug(e,"refreshing attempt",o),yield j(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Dt})}),(o,a,s)=>s&&s.error&&In(s.error)&&Date.now()+(o+1)*200-r<xr)}catch(r){if(this._debug(e,"error",r),R(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(e,"end")}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,e){return h(this,null,function*(){let r=yield this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:e.redirectTo,scopes:e.scopes,queryParams:e.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",e,"url",r),nt()&&!e.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}})}_recoverAndRefresh(){return h(this,null,function*(){var t;let e="#_recoverAndRefresh()";this._debug(e,"begin");try{let r=yield br(this.storage,this.storageKey);if(this._debug(e,"session from storage",r),!this._isValidSession(r)){this._debug(e,"session is not valid"),r!==null&&(yield this._removeSession());return}let o=Math.round(Date.now()/1e3),a=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<o+Do;if(this._debug(e,`session has${a?"":" not"} expired with margin of ${Do}s`),a){if(this.autoRefreshToken&&r.refresh_token){let{error:s}=yield this._callRefreshToken(r.refresh_token);s&&(console.error(s),In(s)||(this._debug(e,"refresh failed with a non-retryable error, removing the session",s),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(e,"error",r),console.error(r);return}finally{this._debug(e,"end")}})}_callRefreshToken(t){return h(this,null,function*(){var e,r;if(!t)throw new yt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new vr;let{data:a,error:s}=yield this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new yt;yield this._saveSession(a.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);let l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(o,"error",a),R(a)){let s={session:null,error:a};return In(a)||(yield this._removeSession(),yield this._notifyAllSubscribers("SIGNED_OUT",null)),(e=this.refreshingDeferred)===null||e===void 0||e.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(t,e,r=!0){return h(this,null,function*(){let o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",e,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:e});let a=[],s=Array.from(this.stateChangeEmitters.values()).map(l=>h(this,null,function*(){try{yield l.callback(t,e)}catch(c){a.push(c)}}));if(yield Promise.all(s),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(o,"end")}})}_saveSession(t){return h(this,null,function*(){this._debug("#_saveSession()",t),yield Rt(this.storage,this.storageKey,t)})}_removeSession(){return h(this,null,function*(){this._debug("#_removeSession()"),yield Sn(this.storage,this.storageKey)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&nt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(e){console.error("removing visibilitychange callback failed",e)}}_startAutoRefresh(){return h(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),xr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(()=>h(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return h(this,null,function*(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)})}startAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return h(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>h(this,null,function*(){try{let t=Date.now();try{return yield this._useSession(e=>h(this,null,function*(){let{data:{session:r}}=e;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((r.expires_at*1e3-t)/xr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${xr}ms, refresh threshold is ${vl} ticks`),o<=vl&&(yield this._callRefreshToken(r.refresh_token))}))}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(t){if(t.isAcquireTimeout||t instanceof An)this._debug("auto refresh token tick lock not available");else throw t}})}_handleVisibilityChange(){return h(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!nt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>h(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}})}_onVisibilityChanged(t){return h(this,null,function*(){let e=`#_onVisibilityChanged(${t})`;this._debug(e,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(e,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(t,e,r){return h(this,null,function*(){let o=[`provider=${encodeURIComponent(e)}`];if(r?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){let a=ti();yield Rt(this.storage,`${this.storageKey}-code-verifier`,a);let s=yield ii(a),l=a===s?"plain":"s256";this._debug("PKCE","code verifier",`${a.substring(0,5)}...`,"code challenge",s,"method",l);let c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});o.push(c.toString())}if(r?.queryParams){let a=new URLSearchParams(r.queryParams);o.push(a.toString())}return r?.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${o.join("&")}`})}_unenroll(t){return h(this,null,function*(){try{return yield this._useSession(e=>h(this,null,function*(){var r;let{data:o,error:a}=e;return a?{data:null,error:a}:yield j(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token})}))}catch(e){if(R(e))return{data:null,error:e};throw e}})}_enroll(t){return h(this,null,function*(){try{return yield this._useSession(e=>h(this,null,function*(){var r,o;let{data:a,error:s}=e;if(s)return{data:null,error:s};let{data:l,error:c}=yield j(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(!((o=l?.totp)===null||o===void 0)&&o.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})}))}catch(e){if(R(e))return{data:null,error:e};throw e}})}_verify(t){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(e=>h(this,null,function*(){var r;let{data:o,error:a}=e;if(a)return{data:null,error:a};let{data:s,error:l}=yield j(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:l})}))}catch(e){if(R(e))return{data:null,error:e};throw e}}))})}_challenge(t){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(e=>h(this,null,function*(){var r;let{data:o,error:a}=e;return a?{data:null,error:a}:yield j(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token})}))}catch(e){if(R(e))return{data:null,error:e};throw e}}))})}_challengeAndVerify(t){return h(this,null,function*(){let{data:e,error:r}=yield this._challenge({factorId:t.factorId});return r?{data:null,error:r}:yield this._verify({factorId:t.factorId,challengeId:e.id,code:t.code})})}_listFactors(){return h(this,null,function*(){let{data:{user:t},error:e}=yield this.getUser();if(e)return{data:null,error:e};let r=t?.factors||[],o=r.filter(a=>a.factor_type==="totp"&&a.status==="verified");return{data:{all:r,totp:o},error:null}})}_getAuthenticatorAssuranceLevel(){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){return yield this._useSession(t=>h(this,null,function*(){var e,r;let{data:{session:o},error:a}=t;if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let s=this._decodeJWT(o.access_token),l=null;s.aal&&(l=s.aal);let c=l;((r=(e=o.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");let u=s.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}))})}}return n.nextInstanceID=0,n})();var wd=jo,Fo=wd;var On=class extends Fo{constructor(i){super(i)}};var xd=function(n,i,t,e){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(d){try{c(e.next(d))}catch(u){a(u)}}function l(d){try{c(e.throw(d))}catch(u){a(u)}}function c(d){d.done?o(d.value):r(d.value).then(s,l)}c((e=e.apply(n,i||[])).next())})},Rn=class{constructor(i,t,e){var r,o,a;if(this.supabaseUrl=i,this.supabaseKey=t,!i)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");let s=tl(i);this.realtimeUrl=`${s}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${s}/auth/v1`,this.storageUrl=`${s}/storage/v1`,this.functionsUrl=`${s}/functions/v1`;let l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:Js,realtime:Xs,auth:Object.assign(Object.assign({},Zs),{storageKey:l}),global:Ys},d=il(e??{},c);this.storageKey=(r=d.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(u,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=el(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},d.realtime)),this.rest=new Ls(`${s}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new nr(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new gr(this.storageUrl,this.headers,this.fetch)}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,t={},e={}){return this.rest.rpc(i,t,e)}channel(i,t={config:{}}){return this.realtime.channel(i,t)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var i,t;return xd(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:e}=yield this.auth.getSession();return(t=(i=e.session)===null||i===void 0?void 0:i.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:t,detectSessionInUrl:e,storage:r,storageKey:o,flowType:a,lock:s,debug:l},c,d){var u;let g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new On({url:this.authUrl,headers:Object.assign(Object.assign({},g),c),storageKey:o,autoRefreshToken:i,persistSession:t,detectSessionInUrl:e,storage:r,flowType:a,lock:s,debug:l,fetch:d,hasCustomAuthorizationHeader:(u="Authorization"in this.headers)!==null&&u!==void 0?u:!1})}_initRealtimeClient(i){return new pr(this.realtimeUrl,Object.assign(Object.assign({},i),{params:Object.assign({apikey:this.supabaseKey},i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(i,t,e){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==e?(this.realtime.setAuth(e??null),this.changedAccessToken=e):i==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var bl=(n,i,t)=>new Rn(n,i,t);var Lo={production:!1,supabaseUrl:"https://zbznarraayfwtijhdnmy.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpiem5hcnJhYXlmd3Rpamhkbm15Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjYzNjIxNTgsImV4cCI6MjA0MTkzODE1OH0.BigS8tKoVoJJrrH9fFuZQPoEmSF8Ad8d3NUSf4LBNCU",tinyMicApiKeys:"6itl2lrw0ugmy67fp6yzsyf9l062nsyrmmqkgyb3akm7rtol"};var Dn=(()=>{class n{supabase;ngZone=E(oe);localStorageService=E(At);router=E(Kr);_session=null;initializeSupabase(){return h(this,null,function*(){this.supabase=yield this.ngZone.runOutsideAngular(()=>bl(Lo.supabaseUrl,Lo.supabaseKey)),this.authChanges((t,e)=>{t==="SIGNED_IN"&&this.redirectToUrlBeforeSignIn()})})}redirectToUrlBeforeSignIn(){setTimeout(()=>{let t=this.localStorageService.get("UrlBeforeSignIn");if(!t)return;let e=t.split("#")[1];this.router.navigateByUrl(e),this.localStorageService.remove("UrlBeforeSignIn")})}get session(){return this.supabase.auth.getSession().then(({data:t})=>{this._session=t.session}),this._session}get supabaseClient(){return this.supabase}profile(t){return this.supabase.from("profiles").select("username, website, avatar_url").eq("id",t.id).single()}authChanges(t){return this.supabase.auth.onAuthStateChange(t)}signIn(t){return this.supabase.auth.signInWithOtp({email:t})}signInWithGoogle(){return this.supabase.auth.signInWithOAuth({provider:"google"})}signOut(){return this.supabase.auth.signOut()}updateProfile(t){let e=jr(We({},t),{updated_at:new Date});return this.supabase.from("profiles").upsert(e)}downLoadImage(t){return this.supabase.storage.from("avatars").download(t)}uploadAvatar(t,e){return this.supabase.storage.from("avatars").upload(t,e)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var yl=(()=>{class n{supabaseService=E(Dn);localStorageService=E(At);supabase=this.supabaseService.supabaseClient;isSignedIn=!1;user=zt(null);constructor(){this.supabase.auth.onAuthStateChange((t,e)=>{e&&(this.isSignedIn=!0,this.user.set(e.user))})}signInWithGoogle(){return h(this,null,function*(){let{error:t,data:e}=yield this.supabase.auth.signInWithOAuth({provider:"google",options:{skipBrowserRedirect:!0}});if(t){console.error("Error signing in with Google:",t.message);return}if(!e){console.error("Error signing in with Google: no user");return}let r=`${window.location.href}`;return this.localStorageService.set("UrlBeforeSignIn",r),window.location.href=e.url,{error:t,data:e}})}signOut(){return this.supabase.auth.signOut()}static \u0275fac=function(e){return new(e||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var wl=qr({passive:!0}),xl=(()=>{let i=class i{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return ya;let r=so(e),o=this._monitoredElements.get(r);if(o)return o.subject;let a=new F,s="cdk-text-field-autofilled",l=c=>{c.animationName==="cdk-text-field-autofill-start"&&!r.classList.contains(s)?(r.classList.add(s),this._ngZone.run(()=>a.next({target:c.target,isAutofilled:!0}))):c.animationName==="cdk-text-field-autofill-end"&&r.classList.contains(s)&&(r.classList.remove(s),this._ngZone.run(()=>a.next({target:c.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",l,wl),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:a,unlisten:()=>{r.removeEventListener("animationstart",l,wl)}}),a}stopMonitoring(e){let r=so(e),o=this._monitoredElements.get(r);o&&(o.unlisten(),o.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}};i.\u0275fac=function(r){return new(r||i)(Re(_t),Re(oe))},i.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var ag=(()=>{let i=class i{get minRows(){return this._minRows}set minRows(e){this._minRows=Si(e),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(e){this._maxRows=Si(e),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(e){this._enabled!==e&&((this._enabled=e)?this.resizeToFitContent(!0):this.reset())}get placeholder(){return this._textareaElement.placeholder}set placeholder(e){this._cachedPlaceholderHeight=void 0,e?this._textareaElement.setAttribute("placeholder",e):this._textareaElement.removeAttribute("placeholder"),this._cacheTextareaPlaceholderHeight()}constructor(e,r,o,a){this._elementRef=e,this._platform=r,this._ngZone=o,this._destroyed=new F,this._enabled=!0,this._previousMinRows=-1,this._isViewInited=!1,this._handleFocusEvent=s=>{this._hasFocus=s.type==="focus"},this._document=a,this._textareaElement=this._elementRef.nativeElement}_setMinHeight(){let e=this.minRows&&this._cachedLineHeight?`${this.minRows*this._cachedLineHeight}px`:null;e&&(this._textareaElement.style.minHeight=e)}_setMaxHeight(){let e=this.maxRows&&this._cachedLineHeight?`${this.maxRows*this._cachedLineHeight}px`:null;e&&(this._textareaElement.style.maxHeight=e)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{let e=this._getWindow();_i(e,"resize").pipe(xa(16),Z(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0)),this._textareaElement.addEventListener("focus",this._handleFocusEvent),this._textareaElement.addEventListener("blur",this._handleFocusEvent)}),this._isViewInited=!0,this.resizeToFitContent(!0))}ngOnDestroy(){this._textareaElement.removeEventListener("focus",this._handleFocusEvent),this._textareaElement.removeEventListener("blur",this._handleFocusEvent),this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let e=this._textareaElement.cloneNode(!1);e.rows=1,e.style.position="absolute",e.style.visibility="hidden",e.style.border="none",e.style.padding="0",e.style.height="",e.style.minHeight="",e.style.maxHeight="",e.style.overflow="hidden",this._textareaElement.parentNode.appendChild(e),this._cachedLineHeight=e.clientHeight,e.remove(),this._setMinHeight(),this._setMaxHeight()}_measureScrollHeight(){let e=this._textareaElement,r=e.style.marginBottom||"",o=this._platform.FIREFOX,a=o&&this._hasFocus,s=o?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring";a&&(e.style.marginBottom=`${e.clientHeight}px`),e.classList.add(s);let l=e.scrollHeight-4;return e.classList.remove(s),a&&(e.style.marginBottom=r),l}_cacheTextareaPlaceholderHeight(){if(!this._isViewInited||this._cachedPlaceholderHeight!=null)return;if(!this.placeholder){this._cachedPlaceholderHeight=0;return}let e=this._textareaElement.value;this._textareaElement.value=this._textareaElement.placeholder,this._cachedPlaceholderHeight=this._measureScrollHeight(),this._textareaElement.value=e}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(e=!1){if(!this._enabled||(this._cacheTextareaLineHeight(),this._cacheTextareaPlaceholderHeight(),!this._cachedLineHeight))return;let r=this._elementRef.nativeElement,o=r.value;if(!e&&this._minRows===this._previousMinRows&&o===this._previousValue)return;let a=this._measureScrollHeight(),s=Math.max(a,this._cachedPlaceholderHeight||0);r.style.height=`${s}px`,this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame<"u"?requestAnimationFrame(()=>this._scrollToCaretPosition(r)):setTimeout(()=>this._scrollToCaretPosition(r))}),this._previousValue=o,this._previousMinRows=this._minRows}reset(){this._initialHeight!==void 0&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(e){let{selectionStart:r,selectionEnd:o}=e;!this._destroyed.isStopped&&this._hasFocus&&e.setSelectionRange(r,o)}};i.\u0275fac=function(r){return new(r||i)(p(H),p(_t),p(oe),p(Fe,8))},i.\u0275dir=te({type:i,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(r,o){r&1&&C("input",function(){return o._noopInputHandler()})},inputs:{minRows:[0,"cdkAutosizeMinRows","minRows"],maxRows:[0,"cdkAutosizeMaxRows","maxRows"],enabled:[2,"cdkTextareaAutosize","enabled",Ue],placeholder:"placeholder"},exportAs:["cdkTextareaAutosize"],standalone:!0,features:[Tt]});let n=i;return n})(),Cl=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Ee({type:i}),i.\u0275inj=Te({});let n=i;return n})();var kd=new me("MAT_INPUT_VALUE_ACCESSOR"),Sd=["button","checkbox","file","hidden","image","radio","range","reset","submit"],Td=0,xg=(()=>{let i=class i{get disabled(){return this._disabled}set disabled(e){this._disabled=Le(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(us.required)??!1}set required(e){this._required=Le(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&lo().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Le(e)}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,r,o,a,s,l,c,d,u,g){this._elementRef=e,this._platform=r,this.ngControl=o,this._autofillMonitor=d,this._ngZone=u,this._formField=g,this._uid=`mat-input-${Td++}`,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new F,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(y=>lo().has(y)),this._iOSKeyupListener=y=>{let b=y.target;!b.value&&b.selectionStart===0&&b.selectionEnd===0&&(b.setSelectionRange(1,1),b.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};let m=this._elementRef.nativeElement,x=m.nodeName.toLowerCase();this._inputValueAccessor=c||m,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&u.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new uo(l,o,s,a,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=x==="select",this._isTextarea=x==="textarea",this._isInFormField=!!g,this._isNativeSelect&&(this.controlType=m.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let r=this._elementRef.nativeElement;this._previousPlaceholder=e,e?r.setAttribute("placeholder",e):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){Sd.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}else return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&this._type!=="number"&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}};i.\u0275fac=function(r){return new(r||i)(p(H),p(_t),p(nn,10),p(Mi,8),p(on,8),p(Wa),p(kd,10),p(xl),p(oe),p(po,8))},i.\u0275dir=te({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(r,o){r&1&&C("focus",function(){return o._focusChanged(!0)})("blur",function(){return o._focusChanged(!1)})("input",function(){return o._onInput()}),r&2&&(Vr("id",o.id)("disabled",o.disabled)("required",o.required),ce("name",o.name||null)("readonly",o.readonly&&!o._isNativeSelect||null)("aria-invalid",o.empty&&o.required?null:o.errorState)("aria-required",o.required)("id",o.id),fe("mat-input-server",o._isServer)("mat-mdc-form-field-textarea-control",o._isInFormField&&o._isTextarea)("mat-mdc-form-field-input-control",o._isInFormField)("mdc-text-field__input",o._isInFormField)("mat-mdc-native-select-inline",o._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[De([{provide:ir,useExisting:i}]),io]});let n=i;return n})(),kl=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Ee({type:i}),i.\u0275inj=Te({imports:[re,Yt,Yt,Cl,re]});let n=i;return n})();var Sl=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Ee({type:i}),i.\u0275inj=Te({imports:[re,re]});let n=i;return n})();var Dd=["mat-menu-item",""],Pd=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],jd=["mat-icon, [matMenuItemIcon]","*"];function Fd(n,i){n&1&&(ro(),f(0,"svg",2),ie(1,"polygon",3),_())}var Ld=["*"];function Bd(n,i){if(n&1){let t=z();f(0,"div",0),C("keydown",function(r){I(t);let o=w();return M(o._handleKeydown(r))})("click",function(){I(t);let r=w();return M(r.closed.emit("click"))})("@transformMenu.start",function(r){I(t);let o=w();return M(o._onAnimationStart(r))})("@transformMenu.done",function(r){I(t);let o=w();return M(o._onAnimationDone(r))}),f(1,"div",1),K(2),_()()}if(n&2){let t=w();Xi(t._classList),T("id",t.panelId)("@transformMenu",t._panelAnimationState),ce("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}var Vo=new me("MAT_MENU_PANEL"),oi=(()=>{let i=class i{constructor(e,r,o,a,s){this._elementRef=e,this._document=r,this._focusMonitor=o,this._parentMenu=a,this._changeDetectorRef=s,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new F,this._focused=new F,this._highlighted=!1,this._triggersSubmenu=!1,a?.addItem?.(this)}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let e=this._elementRef.nativeElement.cloneNode(!0),r=e.querySelectorAll("mat-icon, .material-icons");for(let o=0;o<r.length;o++)r[o].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}};i.\u0275fac=function(r){return new(r||i)(p(H),p(Fe),p(Qt),p(Vo,8),p(_e))},i.\u0275cmp=D({type:i,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(r,o){r&1&&C("click",function(s){return o._checkDisabled(s)})("mouseenter",function(){return o._handleMouseEnter()}),r&2&&(ce("role",o.role)("tabindex",o._getTabIndex())("aria-disabled",o.disabled)("disabled",o.disabled||null),fe("mat-mdc-menu-item-highlighted",o._highlighted)("mat-mdc-menu-item-submenu-trigger",o._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",Ue],disableRipple:[2,"disableRipple","disableRipple",Ue]},exportAs:["matMenuItem"],standalone:!0,features:[Tt,P],attrs:Dd,ngContentSelectors:jd,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(r,o){r&1&&(ge(Pd),K(0),f(1,"span",0),K(2,1),_(),ie(3,"div",1),B(4,Fd,2,0,":svg:svg",2)),r&2&&(v(3),T("matRippleDisabled",o.disableRipple||o.disabled)("matRippleTrigger",o._getHostElement()),v(),X(o._triggersSubmenu?4:-1))},dependencies:[Zr],encapsulation:2,changeDetection:0});let n=i;return n})();var Nd=new me("MatMenuContent");var Pn={transformMenu:vt("transformMenu",[Ke("void",Ae({opacity:0,transform:"scale(0.8)"})),Qe("void => enter",Ge("120ms cubic-bezier(0, 0, 0.2, 1)",Ae({opacity:1,transform:"scale(1)"}))),Qe("* => void",Ge("100ms 25ms linear",Ae({opacity:0})))]),fadeInItems:vt("fadeInItems",[Ke("showing",Ae({opacity:1})),Qe("void => *",[Ae({opacity:0}),Ge("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},e_=Pn.fadeInItems,t_=Pn.transformMenu,$d=0,Hd=new me("mat-menu-default-options",{providedIn:"root",factory:Vd});function Vd(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var Pt=(()=>{let i=class i{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}set panelClass(e){let r=this._previousPanelClass,o=We({},this._classList);r&&r.length&&r.split(" ").forEach(a=>{o[a]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(a=>{o[a]=!0}),this._elementRef.nativeElement.className=""),this._classList=o}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,r,o,a){this._elementRef=e,this._changeDetectorRef=a,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new Br,this._classList={},this._panelAnimationState="void",this._animationDone=new F,this.closed=new pe,this.close=this.closed,this.panelId=`mat-menu-panel-${$d++}`,this._injector=E(it),this.overlayPanelClass=o.overlayPanelClass||"",this._xPosition=o.xPosition,this._yPosition=o.yPosition,this.backdropClass=o.backdropClass,this.overlapTrigger=o.overlapTrigger,this.hasBackdrop=o.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Na(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(gt(this._directDescendantItems),eo(e=>vi(...e.map(r=>r._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{let r=this._keyManager;if(this._panelAnimationState==="enter"&&r.activeItem?._hasFocus()){let o=e.toArray(),a=Math.max(0,Math.min(o.length-1,r.activeItemIndex||0));o[a]&&!o[a].disabled?r.setActiveItem(a):r.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe(gt(this._directDescendantItems),eo(r=>vi(...r.map(o=>o._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){let r=e.keyCode,o=this._keyManager;switch(r){case 27:Yr(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(r===38||r===40)&&o.setFocusOrigin("keyboard"),o.onKeydown(e);return}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=Zi(()=>{let r=null;if(this._directDescendantItems.length&&(r=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!r||!r.contains(document.activeElement)){let o=this._keyManager;o.setFocusOrigin(e).setFirstItemActive(),!o.activeItem&&r&&r.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){if(this._baseElevation===null){let l=(typeof getComputedStyle=="function"?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(l)}let r=Math.min(this._baseElevation+e,24),o=`${this._elevationPrefix}${r}`,a=Object.keys(this._classList).find(s=>s.startsWith(this._elevationPrefix));if(!a||a===this._previousElevation){let s=We({},this._classList);this._previousElevation&&(s[this._previousElevation]=!1),s[o]=!0,this._previousElevation=o,this._classList=s}}setPositionClasses(e=this.xPosition,r=this.yPosition){this._classList=jr(We({},this._classList),{"mat-menu-before":e==="before","mat-menu-after":e==="after","mat-menu-above":r==="above","mat-menu-below":r==="below"}),this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,e.toState==="enter"&&this._keyManager.activeItemIndex===0&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(gt(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}};i.\u0275fac=function(r){return new(r||i)(p(H),p(oe),p(Hd),p(_e))},i.\u0275cmp=D({type:i,selectors:[["mat-menu"]],contentQueries:function(r,o,a){if(r&1&&(qe(a,Nd,5),qe(a,oi,5),qe(a,oi,4)),r&2){let s;V(s=U())&&(o.lazyContent=s.first),V(s=U())&&(o._allItems=s),V(s=U())&&(o.items=s)}},viewQuery:function(r,o){if(r&1&&Y(Ji,5),r&2){let a;V(a=U())&&(o.templateRef=a.first)}},hostVars:3,hostBindings:function(r,o){r&2&&ce("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",Ue],hasBackdrop:[2,"hasBackdrop","hasBackdrop",e=>e==null?null:Ue(e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[De([{provide:Vo,useExisting:i}]),Tt,P],ngContentSelectors:Ld,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(r,o){r&1&&(ge(),B(0,Bd,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-app-surface-container));will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-app-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-app-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Pn.transformMenu,Pn.fadeInItems]},changeDetection:0});let n=i;return n})(),Ml=new me("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let n=E(ct);return()=>n.scrollStrategies.reposition()}});function Ud(n){return()=>n.scrollStrategies.reposition()}var zd={provide:Ml,deps:[ct],useFactory:Ud},Tl=qr({passive:!0});var jn=(()=>{let i=class i{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._parentMaterialMenu,this._menuCloseSubscription=e.close.subscribe(r=>{this._destroyMenu(r),(r==="click"||r==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,r,o,a,s,l,c,d,u){this._overlay=e,this._element=r,this._viewContainerRef=o,this._menuItemInstance=l,this._dir=c,this._focusMonitor=d,this._ngZone=u,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Fr.EMPTY,this._hoverSubscription=Fr.EMPTY,this._menuCloseSubscription=Fr.EMPTY,this._changeDetectorRef=E(_e),this._handleTouchStart=g=>{Ua(g)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new pe,this.onMenuOpen=this.menuOpened,this.menuClosed=new pe,this.onMenuClose=this.menuClosed,this._scrollStrategy=a,this._parentMaterialMenu=s instanceof Pt?s:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,Tl)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Tl),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let e=this.menu;if(this._menuOpen||!e)return;let r=this._createOverlay(e),o=r.getConfig(),a=o.positionStrategy;this._setPosition(e,a),o.hasBackdrop=e.hasBackdrop==null?!this.triggersSubmenu():e.hasBackdrop,r.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof Pt&&(e._startAnimation(),e._directDescendantItems.changes.pipe(Z(e.close)).subscribe(()=>{a.withLockedPosition(!1).reapplyLastPosition(),a.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,r):this._element.nativeElement.focus(r)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;let r=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&(e==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,r instanceof Pt?(r._resetAnimation(),r.lazyContent?r._animationDone.pipe(Ce(o=>o.toState==="void"),Yi(1),Z(r.lazyContent._attached)).subscribe({next:()=>r.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),r?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let r=0,o=e.parentMenu;for(;o;)r++,o=o.parentMenu;e.setElevation(r)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){let r=this._getOverlayConfig(e);this._subscribeToPositions(e,r.positionStrategy),this._overlayRef=this._overlay.create(r),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new rn({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,r){e.setPositionClasses&&r.positionChanges.subscribe(o=>{let a=o.connectionPair.overlayX==="start"?"after":"before",s=o.connectionPair.overlayY==="top"?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(a,s)):e.setPositionClasses(a,s)})}_setPosition(e,r){let[o,a]=e.xPosition==="before"?["end","start"]:["start","end"],[s,l]=e.yPosition==="above"?["bottom","top"]:["top","bottom"],[c,d]=[s,l],[u,g]=[o,a],m=0;if(this.triggersSubmenu()){if(g=o=e.xPosition==="before"?"start":"end",a=u=o==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let x=this._parentMaterialMenu.items.first;this._parentInnerPadding=x?x._getHostElement().offsetTop:0}m=s==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(c=s==="top"?"bottom":"top",d=l==="top"?"bottom":"top");r.withPositions([{originX:o,originY:c,overlayX:u,overlayY:s,offsetY:m},{originX:a,originY:c,overlayX:g,overlayY:s,offsetY:m},{originX:o,originY:d,overlayX:u,overlayY:l,offsetY:-m},{originX:a,originY:d,overlayX:g,overlayY:l,offsetY:-m}])}_menuClosingActions(){let e=this._overlayRef.backdropClick(),r=this._overlayRef.detachments(),o=this._parentMaterialMenu?this._parentMaterialMenu.closed:Jn(),a=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Ce(s=>s!==this._menuItemInstance),Ce(()=>this._menuOpen)):Jn();return vi(e,o,a,r)}_handleMousedown(e){Va(e)||(this._openedBy=e.button===0?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){let r=e.keyCode;(r===13||r===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(r===39&&this.dir==="ltr"||r===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Ce(e=>e===this._menuItemInstance&&!e.disabled),Xn(0,Yn)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Pt&&this.menu._isAnimating?this.menu._animationDone.pipe(Yi(1),Xn(0,Yn),Z(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new tn(e.templateRef,this._viewContainerRef)),this._portal}};i.\u0275fac=function(r){return new(r||i)(p(ct),p(H),p(Aa),p(Ml),p(Vo,8),p(oi,10),p(Gr,8),p(Qt),p(oe))},i.\u0275dir=te({type:i,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(r,o){r&1&&C("click",function(s){return o._handleClick(s)})("mousedown",function(s){return o._handleMousedown(s)})("keydown",function(s){return o._handleKeydown(s)}),r&2&&ce("aria-haspopup",o.menu?"menu":null)("aria-expanded",o.menuOpen)("aria-controls",o.menuOpen?o.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0});let n=i;return n})(),jt=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Ee({type:i}),i.\u0275inj=Te({providers:[zd],imports:[ve,It,re,Ii,Kt,re]});let n=i;return n})();var Wd=["form"],Uo=class{text="Are you sure you want to delete this item?";title="Confirm deletion";confirmText="Delete";closeText="Cancel"},Ol=(()=>{class n{dialogRef;data;form;complexDeleteTextToReproduceInput="";dialogData;constructor(t,e){this.dialogRef=t,this.data=e,this.dialogData=new Uo,Object.assign(this.dialogData,e),this.dialogRef.backdropClick().subscribe(()=>{this.closeDialog(!1)})}closeDialog(t){this.dialogRef.close(t)}static \u0275fac=function(e){return new(e||n)(p(rs),p(ns))};static \u0275cmp=D({type:n,selectors:[["app-are-you-sure-dialog"]],viewQuery:function(e,r){if(e&1&&Y(Wd,7),e&2){let o;V(o=U())&&(r.form=o.first)}},standalone:!0,features:[P],decls:14,vars:4,consts:[["form","ngForm"],["mat-dialog-title",""],["fxLayout","column","mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","color","warn","type","button",3,"click"]],template:function(e,r){if(e&1){let o=z();f(0,"section")(1,"form",null,0)(3,"span",1),k(4),_(),f(5,"div",2),k(6),_(),f(7,"div",3),ie(8,"div"),f(9,"div")(10,"button",4),C("click",function(){return I(o),M(r.closeDialog(!1))}),k(11),_(),f(12,"button",5),C("click",function(){return I(o),M(r.closeDialog(!0))}),k(13),_()()()()()}e&2&&(v(4),Me(" ",r.dialogData.title," "),v(2),Me(" ",r.dialogData.text," "),v(5),Me(" ",r.dialogData.closeText," "),v(2),Me(" ",r.dialogData.confirmText," "))},dependencies:[cs,as,ls,ss,Yt,be,Mt,ve,an,fs,ms,Mi],encapsulation:2})}return n})();function Gd(n,i){n&1&&(f(0,"mat-icon"),k(1,"account_circle"),_())}function Kd(n,i){if(n&1&&ie(0,"img",8),n&2){let t=w(2);T("src",t.user.avatarUrl,ao)}}function Qd(n,i){n&1&&(f(0,"mat-icon"),k(1,"add"),_())}function Yd(n,i){if(n&1&&(f(0,"span"),k(1),_()),n&2){let t=w(2).$implicit;v(),Ie(t("authWidget.writePost"))}}function Jd(n,i){if(n&1&&(f(0,"span"),k(1),_()),n&2){let t=w(2).$implicit;v(),Ie(t("authWidget.signInToWrite"))}}function Zd(n,i){n&1&&(f(0,"mat-icon"),k(1,"manage_accounts"),_())}function Xd(n,i){if(n&1&&(f(0,"a",18),B(1,Zd,2,0,"mat-icon",3),f(2,"span"),k(3),_()()),n&2){let t=w(2).$implicit,e=w();T("routerLink","/manage-profile")("disabled",!e.supabaseAuthService.user()),v(),T("ngIf",e.supabaseAuthService.user()),v(2),Ie(t("authWidget.manageProfile"))}}function eu(n,i){if(n&1){let t=z();f(0,"mat-card",6)(1,"mat-card-header",9)(2,"mat-card-title")(3,"div",10)(4,"div",11)(5,"span",12),k(6),_(),f(7,"span",13),k(8),_(),f(9,"span",14),k(10),_()(),f(11,"div",15),ie(12,"img",16),_()()()(),f(13,"mat-card-content")(14,"div",17)(15,"a",18),B(16,Qd,2,0,"mat-icon",3)(17,Yd,2,1,"span",3)(18,Jd,2,1,"span",3),_(),B(19,Xd,4,4,"a",19),f(20,"a",20),C("click",function(){I(t);let r=w(2);return M(r.signOut())}),f(21,"mat-icon"),k(22,"logout"),_(),k(23),_()()()()}if(n&2){let t=w().$implicit,e=w();v(6),Me(" ",t("authWidget.greeting")," "),v(2),Ie(e.user.fullName),v(2),Ie(e.user.email),v(2),T("src",e.user.avatarUrl,ao),v(3),T("routerLink","/blog/new")("disabled",!e.supabaseAuthService.user()),v(),T("ngIf",e.supabaseAuthService.user()),v(),T("ngIf",e.supabaseAuthService.user()),v(),T("ngIf",!e.supabaseAuthService.user()),v(),T("ngIf",e.supabaseAuthService.user()),v(4),Me(" ",t("authWidget.signOut")," ")}}function tu(n,i){if(n&1){let t=z();f(0,"a",21),C("click",function(){I(t);let r=w(2);return M(r.signInWithGoogle())}),ie(1,"mat-icon",22),f(2,"span"),k(3),_()()}if(n&2){let t=w().$implicit;v(3),Ie(t("authWidget.signInWithGoogle"))}}function iu(n,i){if(n&1&&(wi(0),f(1,"button",2),B(2,Gd,2,0,"mat-icon",3)(3,Kd,1,1,"img",4),_(),f(4,"mat-menu",5,0),B(6,eu,24,11,"mat-card",6)(7,tu,4,1,"a",7),_(),xi()),n&2){let t=Gt(5),e=w();v(),T("matMenuTriggerFor",t),v(),T("ngIf",!e.user),v(),T("ngIf",e.user),v(),T("backdropClass","custom-menu"),v(2),X(e.user?6:-1),v(),T("ngIf",!(e.user!=null&&e.user.fullName))}}var Rl=(()=>{class n{matIconRegistry;domSanitizer;supabaseAuthService=E(yl);dialog=E(os);user=null;constructor(t,e){this.matIconRegistry=t,this.domSanitizer=e,Ra(()=>{if(!this.supabaseAuthService.user()?.email&&!this.user){this.user=null;return}this.user={email:this.supabaseAuthService.user()?.email||"",avatarUrl:this.supabaseAuthService.user()?.user_metadata.avatar_url||"",fullName:this.supabaseAuthService.user()?.user_metadata.full_name||""}}),this.matIconRegistry.addSvgIcon("google",this.domSanitizer.bypassSecurityTrustResourceUrl("assets/images/google.svg"))}signInWithGoogle(){return h(this,null,function*(){yield this.supabaseAuthService.signInWithGoogle()})}signOut(){return h(this,null,function*(){(yield this.dialog.open(Ol,{data:{title:"Sign out",text:"Are you sure you want to sign out?",confirmText:"BYE OFF"}}).afterClosed().toPromise())&&(yield this.supabaseAuthService.signOut(),window.location.reload())})}static \u0275fac=function(e){return new(e||n)(p(Ka),p(ja))};static \u0275cmp=D({type:n,selectors:[["app-auth-sidenav-widget"]],standalone:!0,features:[P],decls:1,vars:0,consts:[["picker","matMenu"],[4,"transloco"],["color","primary","mat-icon-button","",3,"matMenuTriggerFor"],[4,"ngIf"],["class","rounded-full",3,"src",4,"ngIf"],["xPosition","before",3,"backdropClass"],["appearance","outlined",1,"color-on-primary-container","auth-sidenav-widget-card"],["mat-menu-item","",3,"click",4,"ngIf"],[1,"rounded-full",3,"src"],[1,"w-[300px]"],[1,"flex","flex-col","overflow-hidden","mx-8","my-1"],[1,"flex","justify-center","flex-col","gap-1","text-center"],[1,"text-sm"],[1,"text-lg"],[1,"text-xs"],[1,"flex","flex-col","items-center","gap-1","text-ellipsis"],[1,"rounded-full","w-24","mat-elevation-z2","my-2",3,"src"],[1,"flex","flex-col","items-center","justify-center","w-full"],["mat-button","",3,"routerLink","disabled"],["mat-button","",3,"routerLink","disabled",4,"ngIf"],["color","warn","mat-button","",1,"mt-6",3,"click"],["mat-menu-item","",3,"click"],["svgIcon","google"]],template:function(e,r){e&1&&B(0,iu,8,6,"ng-container",1)},dependencies:[jt,Pt,oi,jn,be,Xr,lt,Ne,Be,Et,Qr,ve,ki,es,Ya,Za,Xa,Ja,Ei],styles:[".custom-menu[_ngcontent-%COMP%]{background:red!important}  .mat-mdc-menu-panel{max-width:100%!important;border-radius:16px!important}  .mat-mdc-menu-panel .mat-mdc-menu-content{background:transparent!important;padding:0!important}mat-card[_ngcontent-%COMP%]{padding:0!important;background:transparent}mat-card-header[_ngcontent-%COMP%]{padding:16px 0!important;border:0}"]})}return n})();var Dl=(()=>{class n{_scrollTop=new ba(0);scrollTop$=this._scrollTop.asObservable();setScrollTop(t){this._scrollTop.next(t)}get scrollTop(){return this._scrollTop.value}static \u0275fac=function(e){return new(e||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Pl=[{label:"labels.sections.about",route:"about",icon:"person"},{label:"labels.sections.resume",route:"resume",icon:"description"},{label:"labels.sections.blog",route:"blog",icon:"lightbulb"}],si=function(n){return n.Visible="visible",n.Hidden="hidden",n}(si||{}),Ft=function(n){return n.Up="Up",n.Down="Down",n}(Ft||{});var ht=(()=>{class n{isHandheld$=zt(!1);toggleDrawerSubject=new F;toggleDrawer$=this.toggleDrawerSubject.asObservable();get isHandheld(){return this.isHandheld$()}set isHandheld(t){this.isHandheld$.set(t)}toggleDrawer(){this.toggleDrawerSubject.next()}static \u0275fac=function(e){return new(e||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ru=(n,i)=>i.label,nu=n=>({"sidenav-button w-full sidenav-item":n});function ou(n,i){if(n&1&&(f(0,"mat-icon"),k(1),_()),n&2){let t=w().$implicit;v(),Ie(t.icon)}}function au(n,i){if(n&1){let t=z();f(0,"a",3),C("click",function(){I(t);let r=w(2);return M(r.onClick())}),f(1,"div",4)(2,"span"),k(3),_(),B(4,ou,2,1,"mat-icon",5),_()()}if(n&2){let t=i.$implicit,e=w().$implicit,r=w();rt("routerLink",t.route),T("ngClass",Ve(4,nu,r.isHandheld)),v(3),Ie(e(t.label)),v(),T("ngIf",r.isHandheld)}}function su(n,i){if(n&1&&(wi(0),f(1,"div",1),$r(2,au,5,6,"a",2,ru),_(),xi()),n&2){let t=w();v(2),Hr(t.sections)}}var Fn=(()=>{class n{sidenavContainerService=E(ht);sections=Pl.filter(t=>!t.hidden);onClick(){this.isHandheld&&this.sidenavContainerService.toggleDrawer()}get isHandheld(){return this.sidenavContainerService.isHandheld}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-sections-navigator"]],standalone:!0,features:[P],decls:1,vars:0,consts:[[4,"transloco"],[1,"flex","flex-row","flex-wrap","items-center"],["mat-button","","routerLinkActive","item-selected",3,"ngClass","routerLink"],["mat-button","","routerLinkActive","item-selected",3,"click","ngClass","routerLink"],[1,"flex","flex-row-reverse","justify-end","items-center","gap-6"],[4,"ngIf"]],template:function(e,r){e&1&&B(0,su,4,0,"ng-container",0)},dependencies:[Et,Qr,La,Ne,Be,Ei,be,Xr,ve,er,ki],styles:[".sidenav-button[_ngcontent-%COMP%]     .mdc-button__label{width:100%}.sidenav-item[_ngcontent-%COMP%]{height:52px!important}"]})}return n})();var Nn=["*"],lu=["content"],cu=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],du=["mat-drawer","mat-drawer-content","*"];function uu(n,i){if(n&1){let t=z();f(0,"div",1),C("click",function(){I(t);let r=w();return M(r._onBackdropClicked())}),_()}if(n&2){let t=w();fe("mat-drawer-shown",t._isShowingBackdrop())}}function hu(n,i){n&1&&(f(0,"mat-drawer-content"),K(1,2),_())}var mu=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],pu=["mat-sidenav","mat-sidenav-content","*"];function fu(n,i){if(n&1){let t=z();f(0,"div",1),C("click",function(){I(t);let r=w();return M(r._onBackdropClicked())}),_()}if(n&2){let t=w();fe("mat-drawer-shown",t._isShowingBackdrop())}}function gu(n,i){n&1&&(f(0,"mat-sidenav-content"),K(1,2),_())}var _u='.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-app-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-app-background));box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-app-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color, var(--mat-app-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}',jl={transformDrawer:vt("transform",[Ke("open, open-instant",Ae({transform:"none",visibility:"visible"})),Ke("void",Ae({"box-shadow":"none",visibility:"hidden"})),Qe("void => open-instant",Ge("0ms")),Qe("void <=> open, open-instant => void",Ge("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])};var vu=new me("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:bu}),Wo=new me("MAT_DRAWER_CONTAINER");function bu(){return!1}var Ln=(()=>{let i=class i extends Ti{constructor(e,r,o,a,s){super(o,a,s),this._changeDetectorRef=e,this._container=r}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}};i.\u0275fac=function(r){return new(r||i)(p(_e),p(yi(()=>Ll)),p(H),p(co),p(oe))},i.\u0275cmp=D({type:i,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(r,o){r&2&&Nr("margin-left",o._container._contentMargins.left,"px")("margin-right",o._container._contentMargins.right,"px")},standalone:!0,features:[De([{provide:Ti,useExisting:i}]),Wt,P],ngContentSelectors:Nn,decls:1,vars:0,template:function(r,o){r&1&&(ge(),K(0))},encapsulation:2,changeDetection:0});let n=i;return n})(),Fl=(()=>{let i=class i{get position(){return this._position}set position(e){e=e==="end"?"end":"start",e!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Le(e)}get autoFocus(){let e=this._autoFocus;return e??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(e){(e==="true"||e==="false"||e==null)&&(e=Le(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Le(e))}constructor(e,r,o,a,s,l,c,d){this._elementRef=e,this._focusTrapFactory=r,this._focusMonitor=o,this._platform=a,this._ngZone=s,this._interactivityChecker=l,this._doc=c,this._container=d,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new F,this._animationEnd=new F,this._animationState="void",this.openedChange=new pe(!0),this._openedStream=this.openedChange.pipe(Ce(u=>u),ft(()=>{})),this.openedStart=this._animationStarted.pipe(Ce(u=>u.fromState!==u.toState&&u.toState.indexOf("open")===0),Zn(void 0)),this._closedStream=this.openedChange.pipe(Ce(u=>!u),ft(()=>{})),this.closedStart=this._animationStarted.pipe(Ce(u=>u.fromState!==u.toState&&u.toState==="void"),Zn(void 0)),this._destroyed=new F,this.onPositionChanged=new pe,this._modeChanged=new F,this._injector=E(it),this._changeDetectorRef=E(_e),this.openedChange.pipe(Z(this._destroyed)).subscribe(u=>{u?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{_i(this._elementRef.nativeElement,"keydown").pipe(Ce(u=>u.keyCode===27&&!this.disableClose&&!Yr(u)),Z(this._destroyed)).subscribe(u=>this._ngZone.run(()=>{this.close(),u.stopPropagation(),u.preventDefault()}))}),this._animationEnd.pipe(Ca((u,g)=>u.fromState===g.fromState&&u.toState===g.toState)).subscribe(u=>{let{fromState:g,toState:m}=u;(m.indexOf("open")===0&&g==="void"||m==="void"&&g.indexOf("open")===0)&&this.openedChange.emit(this._opened)})}_forceFocus(e,r){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{e.removeEventListener("blur",o),e.removeEventListener("mousedown",o),e.removeAttribute("tabindex")};e.addEventListener("blur",o),e.addEventListener("mousedown",o)})),e.focus(r)}_focusByCssSelector(e,r){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,r)}_takeFocus(){if(!this._focusTrap)return;let e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":Zi(()=>{!this._focusTrap.focusInitialElement()&&typeof e.focus=="function"&&e.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(e){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,r){e&&r&&(this._openedVia=r);let o=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),o}_setOpen(e,r,o){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",r&&this._restoreFocus(o)),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(a=>{this.openedChange.pipe(Yi(1)).subscribe(s=>a(s?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(e){if(!this._platform.isBrowser)return;let r=this._elementRef.nativeElement,o=r.parentNode;e==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),o.insertBefore(this._anchor,r)),o.appendChild(r)):this._anchor&&this._anchor.parentNode.insertBefore(r,this._anchor)}};i.\u0275fac=function(r){return new(r||i)(p(H),p(Ha),p(Qt),p(_t),p(oe),p($a),p(Fe,8),p(Wo,8))},i.\u0275cmp=D({type:i,selectors:[["mat-drawer"]],viewQuery:function(r,o){if(r&1&&Y(lu,5),r&2){let a;V(a=U())&&(o._content=a.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(r,o){r&1&&Ur("@transform.start",function(s){return o._animationStarted.next(s)})("@transform.done",function(s){return o._animationEnd.next(s)}),r&2&&(Ci("@transform",o._animationState),ce("align",null),fe("mat-drawer-end",o.position==="end")("mat-drawer-over",o.mode==="over")("mat-drawer-push",o.mode==="push")("mat-drawer-side",o.mode==="side")("mat-drawer-opened",o.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[P],ngContentSelectors:Nn,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(r,o){r&1&&(ge(),f(0,"div",1,0),K(2),_())},dependencies:[Ti],encapsulation:2,data:{animation:[jl.transformDrawer]},changeDetection:0});let n=i;return n})(),Ll=(()=>{let i=class i{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Le(e)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(e){this._backdropOverride=e==null?null:Le(e)}get scrollable(){return this._userContent||this._content}constructor(e,r,o,a,s,l=!1,c){this._dir=e,this._element=r,this._ngZone=o,this._changeDetectorRef=a,this._animationMode=c,this._drawers=new Br,this.backdropClick=new pe,this._destroyed=new F,this._doCheckSubject=new F,this._contentMargins={left:null,right:null},this._contentMarginChanges=new F,this._injector=E(it),e&&e.change.pipe(Z(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe(Z(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=l}ngAfterContentInit(){this._allDrawers.changes.pipe(gt(this._allDrawers),Z(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(r=>!r._container||r._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(gt(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(bi(10),Z(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,r=0;if(this._left&&this._left.opened){if(this._left.mode=="side")e+=this._left._getWidth();else if(this._left.mode=="push"){let o=this._left._getWidth();e+=o,r-=o}}if(this._right&&this._right.opened){if(this._right.mode=="side")r+=this._right._getWidth();else if(this._right.mode=="push"){let o=this._right._getWidth();r+=o,e-=o}}e=e||null,r=r||null,(e!==this._contentMargins.left||r!==this._contentMargins.right)&&(this._contentMargins={left:e,right:r},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Ce(r=>r.fromState!==r.toState),Z(this._drawers.changes)).subscribe(r=>{r.toState!=="open-instant"&&this._animationMode!=="NoopAnimations"&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),e.mode!=="side"&&e.openedChange.pipe(Z(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe(Z(this._drawers.changes)).subscribe(()=>{Zi(()=>{this._validateDrawers()},{injector:this._injector,phase:Ma.Read})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Z(vi(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){let r=this._element.nativeElement.classList,o="mat-drawer-container-has-open";e?r.add(o):r.remove(o)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{e.position=="end"?(this._end!=null,this._end=e):(this._start!=null,this._start=e)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._drawerHasBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(e){return e!=null&&e.opened}_drawerHasBackdrop(e){return this._backdropOverride==null?!!e&&e.mode!=="side":this._backdropOverride}};i.\u0275fac=function(r){return new(r||i)(p(Gr,8),p(H),p(oe),p(_e),p(Fa),p(vu),p(Ea,8))},i.\u0275cmp=D({type:i,selectors:[["mat-drawer-container"]],contentQueries:function(r,o,a){if(r&1&&(qe(a,Ln,5),qe(a,Fl,5)),r&2){let s;V(s=U())&&(o._content=s.first),V(s=U())&&(o._allDrawers=s)}},viewQuery:function(r,o){if(r&1&&Y(Ln,5),r&2){let a;V(a=U())&&(o._userContent=a.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(r,o){r&2&&fe("mat-drawer-container-explicit-backdrop",o._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[De([{provide:Wo,useExisting:i}]),P],ngContentSelectors:du,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(r,o){r&1&&(ge(cu),B(0,uu,1,2,"div",0),K(1),K(2,1),B(3,hu,2,0,"mat-drawer-content")),r&2&&(X(o.hasBackdrop?0:-1),v(3),X(o._content?-1:3))},dependencies:[Ln],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-app-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-app-background));box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-app-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color, var(--mat-app-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0});let n=i;return n})(),Bn=(()=>{let i=class i extends Ln{constructor(e,r,o,a,s){super(e,r,o,a,s)}};i.\u0275fac=function(r){return new(r||i)(p(_e),p(yi(()=>Go)),p(H),p(co),p(oe))},i.\u0275cmp=D({type:i,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(r,o){r&2&&Nr("margin-left",o._container._contentMargins.left,"px")("margin-right",o._container._contentMargins.right,"px")},standalone:!0,features:[De([{provide:Ti,useExisting:i}]),Wt,P],ngContentSelectors:Nn,decls:1,vars:0,template:function(r,o){r&1&&(ge(),K(0))},encapsulation:2,changeDetection:0});let n=i;return n})(),qo=(()=>{let i=class i extends Fl{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=Le(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=Si(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=Si(e)}};i.\u0275fac=(()=>{let e;return function(o){return(e||(e=no(i)))(o||i)}})(),i.\u0275cmp=D({type:i,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(r,o){r&2&&(ce("align",null),Nr("top",o.fixedInViewport?o.fixedTopGap:null,"px")("bottom",o.fixedInViewport?o.fixedBottomGap:null,"px"),fe("mat-drawer-end",o.position==="end")("mat-drawer-over",o.mode==="over")("mat-drawer-push",o.mode==="push")("mat-drawer-side",o.mode==="side")("mat-drawer-opened",o.opened)("mat-sidenav-fixed",o.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],standalone:!0,features:[Wt,P],ngContentSelectors:Nn,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(r,o){r&1&&(ge(),f(0,"div",1,0),K(2),_())},dependencies:[Ti],encapsulation:2,data:{animation:[jl.transformDrawer]},changeDetection:0});let n=i;return n})(),Go=(()=>{let i=class i extends Ll{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}};i.\u0275fac=(()=>{let e;return function(o){return(e||(e=no(i)))(o||i)}})(),i.\u0275cmp=D({type:i,selectors:[["mat-sidenav-container"]],contentQueries:function(r,o,a){if(r&1&&(qe(a,Bn,5),qe(a,qo,5)),r&2){let s;V(s=U())&&(o._content=s.first),V(s=U())&&(o._allDrawers=s)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(r,o){r&2&&fe("mat-drawer-container-explicit-backdrop",o._backdropOverride)},exportAs:["matSidenavContainer"],standalone:!0,features:[De([{provide:Wo,useExisting:i}]),Wt,P],ngContentSelectors:pu,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(r,o){r&1&&(ge(mu),B(0,fu,1,2,"div",0),K(1),K(2,1),B(3,gu,2,0,"mat-sidenav-content")),r&2&&(X(o.hasBackdrop?0:-1),v(3),X(o._content?-1:3))},dependencies:[Bn],styles:[_u],encapsulation:2,changeDetection:0});let n=i;return n})(),Bl=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Ee({type:i}),i.\u0275inj=Te({imports:[re,Kt,Kt,re]});let n=i;return n})();var wu=["drawer"],xu=["*"];function Cu(n,i){if(n&1){let t=z();f(0,"button",7),C("click",function(){I(t);let r=w();return M(r.startListening())}),f(1,"mat-icon"),k(2,"mic"),_()()}}var Nv=(()=>{class n{breakpointObserver=E(Jr);destroy$=new F;displayListenButton=!1;emptySpaceClickedNumber=0;isHandheld$=this.breakpointObserver.observe(["(max-width: 640px)"]).pipe(Z(this.destroy$),ft(t=>t.matches),gt(!0),to(t=>{this.sidenavContainerService.isHandheld=t,!t&&this.sidenav?.opened&&this.sidenav.close()}));sidenav;sidenavContainerService=E(ht);toggleDrawer$=this.sidenavContainerService.toggleDrawer$.pipe(Z(this.destroy$),to(()=>{this.sidenav&&this.sidenav.toggle()}));version=Qa;emptySpaceClicked(){this.emptySpaceClickedNumber++,this.emptySpaceClickedNumber>=7&&(this.displayListenButton=!0)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}ngOnInit(){wa([this.isHandheld$,this.toggleDrawer$]).subscribe()}redirectToPage(){window.location.href="/heart-love"}startListening(){let t=new window.webkitSpeechRecognition||new window.SpeechRecognition;t.lang="en-US",t.interimResults=!1,t.maxAlternatives=1,t.start(),t.onresult=e=>{e.results[0][0].transcript.trim().toLowerCase()==="i love you"?this.redirectToPage():alert("Please try again.")},t.onerror=e=>{console.error("Speech recognition error",e.error),alert("Error with speech recognition. Please try again.")}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-sidenav-container"]],viewQuery:function(e,r){if(e&1&&Y(wu,5),e&2){let o;V(o=U())&&(r.sidenav=o.first)}},standalone:!0,features:[P],ngContentSelectors:xu,decls:9,vars:4,consts:[["drawer",""],[1,"app-background"],["fixedInViewport","",1,"sidenav",3,"mode","opened","autoFocus"],[1,"flex","flex-col","justify-between","h-full","overflow-hidden"],["mat-button","",1,"flex","flex-1","justify-center","items-center",3,"click"],["mat-icon-button","",1,"mic-button"],[1,"overflow-y-auto","overflow-x-hidden"],["mat-icon-button","",1,"mic-button",3,"click"]],template:function(e,r){if(e&1){let o=z();ge(),f(0,"mat-sidenav-container",1)(1,"mat-sidenav",2,0)(3,"div",3),ie(4,"app-sections-navigator"),f(5,"div",4),C("click",function(){return I(o),M(r.emptySpaceClickedNumber>=7?null:r.emptySpaceClicked())}),B(6,Cu,3,0,"button",5),_()()(),f(7,"mat-sidenav-content",6),K(8),_()()}e&2&&(v(),T("mode","over")("opened",!1)("autoFocus",!1),v(5),X(r.displayListenButton?6:-1))},dependencies:[ve,Bl,qo,Go,Bn,It,Ne,Be,be,lt,Et,Fn],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:250px;border-radius:0}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mic-button[_ngcontent-%COMP%]{transform:scale(4)}"]})}return n})();var ku=["button"],Su=["*"];function Tu(n,i){if(n&1&&ie(0,"mat-pseudo-checkbox",3),n&2){let t=w();T("disabled",t.disabled)}}function Eu(n,i){if(n&1&&ie(0,"mat-pseudo-checkbox",3),n&2){let t=w();T("disabled",t.disabled)}}var Iu=new me("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:Mu});function Mu(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1,disabledInteractive:!1}}var Au=new me("MatButtonToggleGroup");var Ou=0,Ko=class{constructor(i,t){this.source=i,this.value=t}};var Ru=(()=>{let i=class i{get buttonId(){return`${this.id}-button`}get tabIndex(){return this._tabIndex}set tabIndex(e){this._tabIndex=e,this._markForCheck()}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=e}get disabledInteractive(){return this._disabledInteractive||this.buttonToggleGroup!==null&&this.buttonToggleGroup.disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e}constructor(e,r,o,a,s,l){this._changeDetectorRef=r,this._elementRef=o,this._focusMonitor=a,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new pe;let c=Number(s);this.tabIndex=c||c===0?c:null,this.buttonToggleGroup=e,this.appearance=l&&l.appearance?l.appearance:"standard",this.disabledInteractive=l?.disabledInteractive??!1}ngOnInit(){let e=this.buttonToggleGroup;this.id=this.id||`mat-button-toggle-${Ou++}`,e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){let e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){if(this.disabled)return;let e=this.isSingleSelector()?!0:!this._checked;if(e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){let r=this.buttonToggleGroup._buttonToggles.find(o=>o.tabIndex===0);r&&(r.tabIndex=-1),this.tabIndex=0}this.change.emit(new Ko(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}};i.\u0275fac=function(r){return new(r||i)(p(Au,8),p(_e),p(H),p(Qt),oo("tabindex"),p(Iu,8))},i.\u0275cmp=D({type:i,selectors:[["mat-button-toggle"]],viewQuery:function(r,o){if(r&1&&Y(ku,5),r&2){let a;V(a=U())&&(o._buttonElement=a.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:14,hostBindings:function(r,o){r&1&&C("focus",function(){return o.focus()}),r&2&&(ce("aria-label",null)("aria-labelledby",null)("id",o.id)("name",null),fe("mat-button-toggle-standalone",!o.buttonToggleGroup)("mat-button-toggle-checked",o.checked)("mat-button-toggle-disabled",o.disabled)("mat-button-toggle-disabled-interactive",o.disabledInteractive)("mat-button-toggle-appearance-standard",o.appearance==="standard"))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",Ue],appearance:"appearance",checked:[2,"checked","checked",Ue],disabled:[2,"disabled","disabled",Ue],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Ue]},outputs:{change:"change"},exportAs:["matButtonToggle"],standalone:!0,features:[Tt,P],ngContentSelectors:Su,decls:8,vars:14,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-label-content"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(r,o){if(r&1){let a=z();ge(),f(0,"button",1,0),C("click",function(){return I(a),M(o._onButtonClick())}),f(2,"span",2),B(3,Tu,1,1,"mat-pseudo-checkbox",3)(4,Eu,1,1,"mat-pseudo-checkbox",3),K(5),_()(),ie(6,"span",4)(7,"span",5)}if(r&2){let a=Gt(1);T("id",o.buttonId)("disabled",o.disabled&&!o.disabledInteractive||null),ce("role",o.isSingleSelector()?"radio":"button")("tabindex",o.disabled&&!o.disabledInteractive?-1:o.tabIndex)("aria-pressed",o.isSingleSelector()?null:o.checked)("aria-checked",o.isSingleSelector()?o.checked:null)("name",o._getButtonName())("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledby)("aria-disabled",o.disabled&&o.disabledInteractive?"true":null),v(3),X(o.buttonToggleGroup&&o.checked&&!o.buttonToggleGroup.multiple&&!o.buttonToggleGroup.hideSingleSelectionIndicator?3:-1),v(),X(o.buttonToggleGroup&&o.checked&&o.buttonToggleGroup.multiple&&!o.buttonToggleGroup.hideMultipleSelectionIndicator?4:-1),v(3),T("matRippleTrigger",a)("matRippleDisabled",o.disableRipple||o.disabled)}},dependencies:[Zr,qa],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-legacy-button-toggle-selected-state-text-color)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle .mat-pseudo-checkbox{margin-right:12px}[dir=rtl] .mat-button-toggle .mat-pseudo-checkbox{margin-right:0;margin-left:12px}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{pointer-events:none;color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-legacy-button-toggle-disabled-state-text-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-disabled-interactive{pointer-events:auto}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color, var(--mat-app-on-surface));background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-label-text-font, var(--mat-app-label-large-font));font-size:var(--mat-standard-button-toggle-label-text-size, var(--mat-app-label-large-size));line-height:var(--mat-standard-button-toggle-label-text-line-height, var(--mat-app-label-large-line-height));font-weight:var(--mat-standard-button-toggle-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mat-standard-button-toggle-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container));background-color:var(--mat-standard-button-toggle-selected-state-background-color, var(--mat-app-secondary-container))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-standard-button-toggle-disabled-selected-state-text-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color, var(--mat-app-on-surface))}.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-button-toggle-appearance-standard.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}@media(hover: none){.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}"],encapsulation:2,changeDetection:0});let n=i;return n})(),Nl=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Ee({type:i}),i.\u0275inj=Te({imports:[re,It,Ru,re]});let n=i;return n})();var $l=(()=>{class n{document;constructor(t){this.document=t}createLinkElementWithKey(t){let e=this.document.createElement("link");return e.setAttribute("rel","stylesheet"),e.classList.add(this.getClassNameForKey(t)),this.document.head.appendChild(e),e}getClassNameForKey(t){return`style-manager-${t}`}getExistingLinkElementByKey(t){return this.document.head.querySelector(`link[rel="stylesheet"].${this.getClassNameForKey(t)}`)}getLinkElementForKey(t){return this.getExistingLinkElementByKey(t)||this.createLinkElementWithKey(t)}removeStyle(t){let e=this.getExistingLinkElementByKey(t);e&&this.document.head.removeChild(e)}setStyle(t){this.getLinkElementForKey("theme").setAttribute("href",t)}static \u0275fac=function(e){return new(e||n)(Re(Fe))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Hl="theme-type",Vl=(()=>{class n{browserStorage=E(At);getStoredThemeType(){return this.browserStorage.get(Hl)}storeThemeType(t){this.browserStorage.set(Hl,t)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ul=(()=>{class n{styleManager;_themeStorage;themeType="light";theme="black-theme";constructor(t,e){this.styleManager=t,this._themeStorage=e}initializeTheme(){return h(this,null,function*(){let t=this._themeStorage.getStoredThemeType()||"light";this.themeType=t,this.updateTheme()})}updateTheme(){let t=this.themeType,e=`${this.theme}-${t}.css`;this.styleManager.setStyle(e)}selectThemeType(t){this.themeType=t,this._themeStorage.storeThemeType(t),this.updateTheme()}toggleThemeType(){let t=this.themeType==="light"?"dark":"light";this.selectThemeType(t)}static \u0275fac=function(e){return new(e||n)(Re($l),Re(Vl))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var zl=(()=>{class n{sidenavContainerService=E(ht);themeService=E(Ul);toggleDrawer(){this.sidenavContainerService.toggleDrawer()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["theme-navbar-widget"]],standalone:!0,features:[P],decls:3,vars:1,consts:[["mat-icon-button","","color","primary",3,"click"],[1,"xs-icon"]],template:function(e,r){e&1&&(f(0,"button",0),C("click",function(){return r.themeService.toggleThemeType()}),f(1,"mat-icon",1),k(2),_()()),e&2&&(v(2),Me(" ",r.themeService.themeType==="light"?"dark_mode":"light_mode"," "))},dependencies:[be,lt,sn,jt,Ne,Be,ve,Nl,Ga,It]})}return n})();var Gl=(()=>{class n{isLocalStorageAvailable=typeof localStorage<"u";translocoService=E(en);activeLang=zt("en");allTranslations=zt({});firstInit=!0;changeLanguage(t){this.activeLang.set(t),this.setLocalStorageLang(t),this.translocoService.setActiveLang(t),this.translocoService.setDefaultLang(t)}initializeTranslation(){let t=this.getLocalStorageLang();this.activeLang.set(t),this.translocoService.setActiveLang(t)}getLocalStorageLang(){return this.isLocalStorageAvailable?localStorage?.getItem(ql)??Wl:Wl}setLocalStorageLang(t){this.isLocalStorageAvailable&&localStorage?.setItem(ql,t)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Kl=["en","es","ro"],Wl="es",ql="activeLang";function ju(n,i){if(n&1){let t=z();f(0,"button",4),C("click",function(){let r=I(t).$implicit,o=w();return M(o.translationService.changeLanguage(r))}),f(1,"span"),k(2),_()()}if(n&2){let t=i.$implicit,e=w();Xi(e.translationService.activeLang()===t?"item-selected":""),v(2),Ie(e.getFullLanguageName(t))}}var Ql=(()=>{class n{fullLanguagesMap={en:"English",es:"Espa\xF1ol",ro:"Rom\xE2n\u0103"};languages=Kl;sidenavContainerService=E(ht);translationService=E(Gl);getFullLanguageName(t){return this.fullLanguagesMap[t]}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["translation-navbar-widget"]],standalone:!0,features:[P],decls:10,vars:4,consts:[["languagePicker","matMenu"],["mat-button","",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item","",3,"class"],["mat-menu-item","",3,"click"]],template:function(e,r){if(e&1&&(f(0,"button",1)(1,"span"),k(2),zr(3,"uppercase"),_(),f(4,"mat-icon"),k(5,"language"),_()(),f(6,"mat-menu",2,0),$r(8,ju,3,3,"button",3,Oa),_()),e&2){let o=Gt(7);T("matMenuTriggerFor",o),v(2),Ie(Wr(3,2,r.translationService.activeLang())),v(6),Hr(r.languages)}},dependencies:[be,Mt,jt,Pt,oi,jn,Ne,Be,ve,Da]})}return n})();function Fu(n,i){if(n&1){let t=z();f(0,"button",3),C("click",function(){I(t);let r=w();return M(r.toggleDrawer())}),f(1,"mat-icon",4),k(2,"menu"),_()()}}function Lu(n,i){n&1&&ie(0,"app-sections-navigator")}var e0=(()=>{class n{router=E(Kr);sidenavContainerService=E(ht);navbarService=E(Dl);showAuthButton=!0;isVisible=!0;get toggle(){return this.sidenavContainerService.isHandheld?this.isVisible?si.Visible:si.Hidden:si.Visible}toggleDrawer(){this.sidenavContainerService.toggleDrawer()}ngAfterViewInit(){this.triggerNavbarVisibilityBasedOnScroll()}triggerNavbarVisibilityBasedOnScroll(){let t=this.navbarService.scrollTop$.pipe(Sa(10),Lr(),ft(([o,a])=>{if(this.navbarService.scrollTop<=10)return Ft.Up;let s=Math.abs(a-o),l=a<o?Ft.Up:Ft.Down;return l==Ft.Down||s>3?l:null}),ka()),e=t.pipe(Ce(o=>o===Ft.Up)),r=t.pipe(Ce(o=>o===Ft.Down));e.subscribe(()=>this.isVisible=!0),r.subscribe(()=>this.isVisible=!1)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-navbar"]],hostVars:1,hostBindings:function(e,r){e&2&&Ci("@toggle",r.toggle)},standalone:!0,features:[P],decls:7,vars:2,consts:[[1,"flex","flex-row","flex-wrap","items-center","justify-between","navbar","p-1"],["mat-icon-button",""],[1,"flex","flex-row","items-center"],["mat-icon-button","",3,"click"],["color","primary"]],template:function(e,r){e&1&&(f(0,"nav",0),B(1,Fu,3,0,"button",1)(2,Lu,1,0,"app-sections-navigator"),f(3,"div",2),ie(4,"theme-navbar-widget")(5,"translation-navbar-widget")(6,"app-auth-sidenav-widget"),_()()),e&2&&(v(),X(r.sidenavContainerService.isHandheld?1:-1),v(),X(r.sidenavContainerService.isHandheld?-1:2))},dependencies:[Ql,zl,Ne,Be,be,lt,Et,Fn,Rl,Sl],styles:["[_nghost-%COMP%]{position:sticky;top:0;z-index:50;margin-bottom:.25rem;width:100%}"],data:{animation:[vt("toggle",[Ke(si.Hidden,Ae({transform:"translateY(-100%)"})),Ke(si.Visible,Ae({transform:"translateY(0)"})),Qe("* => *",Ge("250ms ease-in-out"))])]}})}return n})();var g0=(()=>{class n{el;placeholderText="";constructor(t){this.el=t}ngOnInit(){this.el.nativeElement.innerText=this.placeholderText}onFocus(){this.el.nativeElement.placeholder=""}onBlur(){this.el.nativeElement.placeholder=this.placeholderText}static \u0275fac=function(e){return new(e||n)(p(H))};static \u0275dir=te({type:n,selectors:[["","appTogglablePlaceholder",""]],hostBindings:function(e,r){e&1&&C("focus",function(){return r.onFocus()})("blur",function(){return r.onBlur()})},inputs:{placeholderText:[0,"appTogglablePlaceholder","placeholderText"]},standalone:!0})}return n})();var Yl=(()=>{class n{_scrolledToEnd=new pe;get scrolledToEnd(){return this._scrolledToEnd.asObservable()}constructor(){}emit(){this._scrolledToEnd.emit()}static \u0275fac=function(e){return new(e||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var I0=(()=>{class n{el;threshold=0;scrolledToEnd=new pe;scrollSubscription;scrollToEndService=E(Yl);constructor(t){this.el=t,this.initializeScrollListener()}initializeScrollListener(){this.scrollSubscription=_i(this.el.nativeElement,"scroll").pipe(ft(()=>this.el.nativeElement.scrollTop),Lr(),Ce(([t,e])=>{let r=this.el.nativeElement.scrollHeight,o=this.el.nativeElement.clientHeight,a=this.el.nativeElement.scrollTop;return r-(a+o)<=this.threshold})).subscribe(()=>{this.scrolledToEnd.emit(),this.scrollToEndService.emit()})}ngOnDestroy(){this.scrollSubscription&&this.scrollSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||n)(p(H))};static \u0275dir=te({type:n,selectors:[["","appScrollToEnd",""]],inputs:{threshold:"threshold"},outputs:{scrolledToEnd:"scrolledToEnd"},standalone:!0})}return n})();var D0=(()=>{class n{storageKeyPrefix="scroll-position-";localStorageService=E(At);saveScrollPosition(t,e){let r=this.storageKeyPrefix+t;this.localStorageService.set(r,JSON.stringify(e))}getScrollPosition(t){let e=this.storageKeyPrefix+t,r=this.localStorageService.get(e);return r?JSON.parse(r):null}clearScrollPosition(t){let e=this.storageKeyPrefix+t;this.localStorageService.remove(e)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Jl=(()=>{class n{el;constructor(t){this.el=t}onInput(){this.replaceYoutubeLinksWithIframe()}replaceYoutubeLinksWithIframe(){let t=this.el.nativeElement,e=t.innerHTML,r=/(https?:\/\/(www\.)?youtube\.com\/watch\?v=|https?:\/\/youtu\.be\/)([a-zA-Z0-9_-]{11})/g,o=e.replace(r,(a,s,l,c)=>`
          <iframe width="560" height="315" src="https://www.youtube.com/embed/${c}" 
          frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; 
          gyroscope; picture-in-picture" allowfullscreen></iframe><br>
        `);e!==o&&(t.innerHTML=o)}static \u0275fac=function(e){return new(e||n)(p(H))};static \u0275dir=te({type:n,selectors:[["","appYoutubeReplace",""]],hostBindings:function(e,r){e&1&&C("input",function(){return r.onInput()})},standalone:!0})}return n})();var L0=(()=>{class n{el;renderer;fallbackIcon="broken_image";constructor(t,e){this.el=t,this.renderer=e}onError(){let t=this.renderer.createElement("mat-icon"),e=this.renderer.createText(this.fallbackIcon);this.renderer.appendChild(t,e),this.renderer.setAttribute(t,"aria-hidden","false"),this.renderer.addClass(t,"mat-icon");let r=this.el.nativeElement.parentNode;this.renderer.removeChild(r,this.el.nativeElement),this.renderer.appendChild(r,t)}static \u0275fac=function(e){return new(e||n)(p(H),p(St))};static \u0275dir=te({type:n,selectors:[["","appFallbackImage",""]],hostBindings:function(e,r){e&1&&C("error",function(){return r.onError()})},inputs:{fallbackIcon:[0,"appFallbackImage","fallbackIcon"]},standalone:!0})}return n})();var Bu=new me("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let n=E(ct);return()=>n.scrollStrategies.reposition()}});function Nu(n){return()=>n.scrollStrategies.reposition()}var $u={provide:Bu,deps:[ct],useFactory:Nu};var Zl=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Ee({type:i}),i.\u0275inj=Te({providers:[$u],imports:[ve,Ii,tr,re,Kt,Yt,tr,re]});let n=i;return n})();var ee="top",de="bottom",se="right",ne="left",$n="auto",Lt=[ee,de,se,ne],wt="start",li="end",Xl="clippingParents",Hn="viewport",Vi="popper",ec="reference",Qo=Lt.reduce(function(n,i){return n.concat([i+"-"+wt,i+"-"+li])},[]),Vn=[].concat(Lt,[$n]).reduce(function(n,i){return n.concat([i,i+"-"+wt,i+"-"+li])},[]),Hu="beforeRead",Vu="read",Uu="afterRead",zu="beforeMain",Wu="main",qu="afterMain",Gu="beforeWrite",Ku="write",Qu="afterWrite",tc=[Hu,Vu,Uu,zu,Wu,qu,Gu,Ku,Qu];function ye(n){return n?(n.nodeName||"").toLowerCase():null}function Q(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var i=n.ownerDocument;return i&&i.defaultView||window}return n}function Je(n){var i=Q(n).Element;return n instanceof i||n instanceof Element}function ue(n){var i=Q(n).HTMLElement;return n instanceof i||n instanceof HTMLElement}function Ui(n){if(typeof ShadowRoot>"u")return!1;var i=Q(n).ShadowRoot;return n instanceof i||n instanceof ShadowRoot}function Yu(n){var i=n.state;Object.keys(i.elements).forEach(function(t){var e=i.styles[t]||{},r=i.attributes[t]||{},o=i.elements[t];!ue(o)||!ye(o)||(Object.assign(o.style,e),Object.keys(r).forEach(function(a){var s=r[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function Ju(n){var i=n.state,t={popper:{position:i.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(i.elements.popper.style,t.popper),i.styles=t,i.elements.arrow&&Object.assign(i.elements.arrow.style,t.arrow),function(){Object.keys(i.elements).forEach(function(e){var r=i.elements[e],o=i.attributes[e]||{},a=Object.keys(i.styles.hasOwnProperty(e)?i.styles[e]:t[e]),s=a.reduce(function(l,c){return l[c]="",l},{});!ue(r)||!ye(r)||(Object.assign(r.style,s),Object.keys(o).forEach(function(l){r.removeAttribute(l)}))})}}var ic={name:"applyStyles",enabled:!0,phase:"write",fn:Yu,effect:Ju,requires:["computeStyles"]};function we(n){return n.split("-")[0]}var ot=Math.max,ci=Math.min,xt=Math.round;function zi(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(i){return i.brand+"/"+i.version}).join(" "):navigator.userAgent}function Cr(){return!/^((?!chrome|android).)*safari/i.test(zi())}function Ze(n,i,t){i===void 0&&(i=!1),t===void 0&&(t=!1);var e=n.getBoundingClientRect(),r=1,o=1;i&&ue(n)&&(r=n.offsetWidth>0&&xt(e.width)/n.offsetWidth||1,o=n.offsetHeight>0&&xt(e.height)/n.offsetHeight||1);var a=Je(n)?Q(n):window,s=a.visualViewport,l=!Cr()&&t,c=(e.left+(l&&s?s.offsetLeft:0))/r,d=(e.top+(l&&s?s.offsetTop:0))/o,u=e.width/r,g=e.height/o;return{width:u,height:g,top:d,right:c+u,bottom:d+g,left:c,x:c,y:d}}function di(n){var i=Ze(n),t=n.offsetWidth,e=n.offsetHeight;return Math.abs(i.width-t)<=1&&(t=i.width),Math.abs(i.height-e)<=1&&(e=i.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:e}}function kr(n,i){var t=i.getRootNode&&i.getRootNode();if(n.contains(i))return!0;if(t&&Ui(t)){var e=i;do{if(e&&n.isSameNode(e))return!0;e=e.parentNode||e.host}while(e)}return!1}function je(n){return Q(n).getComputedStyle(n)}function Yo(n){return["table","td","th"].indexOf(ye(n))>=0}function ke(n){return((Je(n)?n.ownerDocument:n.document)||window.document).documentElement}function Ct(n){return ye(n)==="html"?n:n.assignedSlot||n.parentNode||(Ui(n)?n.host:null)||ke(n)}function rc(n){return!ue(n)||je(n).position==="fixed"?null:n.offsetParent}function Zu(n){var i=/firefox/i.test(zi()),t=/Trident/i.test(zi());if(t&&ue(n)){var e=je(n);if(e.position==="fixed")return null}var r=Ct(n);for(Ui(r)&&(r=r.host);ue(r)&&["html","body"].indexOf(ye(r))<0;){var o=je(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||i&&o.willChange==="filter"||i&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function at(n){for(var i=Q(n),t=rc(n);t&&Yo(t)&&je(t).position==="static";)t=rc(t);return t&&(ye(t)==="html"||ye(t)==="body"&&je(t).position==="static")?i:t||Zu(n)||i}function ui(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function hi(n,i,t){return ot(n,ci(i,t))}function nc(n,i,t){var e=hi(n,i,t);return e>t?t:e}function Sr(){return{top:0,right:0,bottom:0,left:0}}function Tr(n){return Object.assign({},Sr(),n)}function Er(n,i){return i.reduce(function(t,e){return t[e]=n,t},{})}var Xu=function(i,t){return i=typeof i=="function"?i(Object.assign({},t.rects,{placement:t.placement})):i,Tr(typeof i!="number"?i:Er(i,Lt))};function eh(n){var i,t=n.state,e=n.name,r=n.options,o=t.elements.arrow,a=t.modifiersData.popperOffsets,s=we(t.placement),l=ui(s),c=[ne,se].indexOf(s)>=0,d=c?"height":"width";if(!(!o||!a)){var u=Xu(r.padding,t),g=di(o),m=l==="y"?ee:ne,x=l==="y"?de:se,y=t.rects.reference[d]+t.rects.reference[l]-a[l]-t.rects.popper[d],b=a[l]-t.rects.reference[l],O=at(o),N=O?l==="y"?O.clientHeight||0:O.clientWidth||0:0,$=y/2-b/2,S=u[m],A=N-g[d]-u[x],W=N/2-g[d]/2+$,J=hi(S,W,A),xe=l;t.modifiersData[e]=(i={},i[xe]=J,i.centerOffset=J-W,i)}}function th(n){var i=n.state,t=n.options,e=t.element,r=e===void 0?"[data-popper-arrow]":e;r!=null&&(typeof r=="string"&&(r=i.elements.popper.querySelector(r),!r)||kr(i.elements.popper,r)&&(i.elements.arrow=r))}var oc={name:"arrow",enabled:!0,phase:"main",fn:eh,effect:th,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xe(n){return n.split("-")[1]}var ih={top:"auto",right:"auto",bottom:"auto",left:"auto"};function rh(n,i){var t=n.x,e=n.y,r=i.devicePixelRatio||1;return{x:xt(t*r)/r||0,y:xt(e*r)/r||0}}function ac(n){var i,t=n.popper,e=n.popperRect,r=n.placement,o=n.variation,a=n.offsets,s=n.position,l=n.gpuAcceleration,c=n.adaptive,d=n.roundOffsets,u=n.isFixed,g=a.x,m=g===void 0?0:g,x=a.y,y=x===void 0?0:x,b=typeof d=="function"?d({x:m,y}):{x:m,y};m=b.x,y=b.y;var O=a.hasOwnProperty("x"),N=a.hasOwnProperty("y"),$=ne,S=ee,A=window;if(c){var W=at(t),J="clientHeight",xe="clientWidth";if(W===Q(t)&&(W=ke(t),je(W).position!=="static"&&s==="absolute"&&(J="scrollHeight",xe="scrollWidth")),W=W,r===ee||(r===ne||r===se)&&o===li){S=de;var he=u&&W===A&&A.visualViewport?A.visualViewport.height:W[J];y-=he-e.height,y*=l?1:-1}if(r===ne||(r===ee||r===de)&&o===li){$=se;var le=u&&W===A&&A.visualViewport?A.visualViewport.width:W[xe];m-=le-e.width,m*=l?1:-1}}var Se=Object.assign({position:s},c&&ih),et=d===!0?rh({x:m,y},Q(t)):{x:m,y};if(m=et.x,y=et.y,l){var Oe;return Object.assign({},Se,(Oe={},Oe[S]=N?"0":"",Oe[$]=O?"0":"",Oe.transform=(A.devicePixelRatio||1)<=1?"translate("+m+"px, "+y+"px)":"translate3d("+m+"px, "+y+"px, 0)",Oe))}return Object.assign({},Se,(i={},i[S]=N?y+"px":"",i[$]=O?m+"px":"",i.transform="",i))}function nh(n){var i=n.state,t=n.options,e=t.gpuAcceleration,r=e===void 0?!0:e,o=t.adaptive,a=o===void 0?!0:o,s=t.roundOffsets,l=s===void 0?!0:s,c={placement:we(i.placement),variation:Xe(i.placement),popper:i.elements.popper,popperRect:i.rects.popper,gpuAcceleration:r,isFixed:i.options.strategy==="fixed"};i.modifiersData.popperOffsets!=null&&(i.styles.popper=Object.assign({},i.styles.popper,ac(Object.assign({},c,{offsets:i.modifiersData.popperOffsets,position:i.options.strategy,adaptive:a,roundOffsets:l})))),i.modifiersData.arrow!=null&&(i.styles.arrow=Object.assign({},i.styles.arrow,ac(Object.assign({},c,{offsets:i.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),i.attributes.popper=Object.assign({},i.attributes.popper,{"data-popper-placement":i.placement})}var sc={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:nh,data:{}};var Un={passive:!0};function oh(n){var i=n.state,t=n.instance,e=n.options,r=e.scroll,o=r===void 0?!0:r,a=e.resize,s=a===void 0?!0:a,l=Q(i.elements.popper),c=[].concat(i.scrollParents.reference,i.scrollParents.popper);return o&&c.forEach(function(d){d.addEventListener("scroll",t.update,Un)}),s&&l.addEventListener("resize",t.update,Un),function(){o&&c.forEach(function(d){d.removeEventListener("scroll",t.update,Un)}),s&&l.removeEventListener("resize",t.update,Un)}}var lc={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:oh,data:{}};var ah={left:"right",right:"left",bottom:"top",top:"bottom"};function Wi(n){return n.replace(/left|right|bottom|top/g,function(i){return ah[i]})}var sh={start:"end",end:"start"};function zn(n){return n.replace(/start|end/g,function(i){return sh[i]})}function mi(n){var i=Q(n),t=i.pageXOffset,e=i.pageYOffset;return{scrollLeft:t,scrollTop:e}}function pi(n){return Ze(ke(n)).left+mi(n).scrollLeft}function Jo(n,i){var t=Q(n),e=ke(n),r=t.visualViewport,o=e.clientWidth,a=e.clientHeight,s=0,l=0;if(r){o=r.width,a=r.height;var c=Cr();(c||!c&&i==="fixed")&&(s=r.offsetLeft,l=r.offsetTop)}return{width:o,height:a,x:s+pi(n),y:l}}function Zo(n){var i,t=ke(n),e=mi(n),r=(i=n.ownerDocument)==null?void 0:i.body,o=ot(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=ot(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),s=-e.scrollLeft+pi(n),l=-e.scrollTop;return je(r||t).direction==="rtl"&&(s+=ot(t.clientWidth,r?r.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}function fi(n){var i=je(n),t=i.overflow,e=i.overflowX,r=i.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+e)}function Wn(n){return["html","body","#document"].indexOf(ye(n))>=0?n.ownerDocument.body:ue(n)&&fi(n)?n:Wn(Ct(n))}function Bt(n,i){var t;i===void 0&&(i=[]);var e=Wn(n),r=e===((t=n.ownerDocument)==null?void 0:t.body),o=Q(e),a=r?[o].concat(o.visualViewport||[],fi(e)?e:[]):e,s=i.concat(a);return r?s:s.concat(Bt(Ct(a)))}function qi(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function lh(n,i){var t=Ze(n,!1,i==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function cc(n,i,t){return i===Hn?qi(Jo(n,t)):Je(i)?lh(i,t):qi(Zo(ke(n)))}function ch(n){var i=Bt(Ct(n)),t=["absolute","fixed"].indexOf(je(n).position)>=0,e=t&&ue(n)?at(n):n;return Je(e)?i.filter(function(r){return Je(r)&&kr(r,e)&&ye(r)!=="body"}):[]}function Xo(n,i,t,e){var r=i==="clippingParents"?ch(n):[].concat(i),o=[].concat(r,[t]),a=o[0],s=o.reduce(function(l,c){var d=cc(n,c,e);return l.top=ot(d.top,l.top),l.right=ci(d.right,l.right),l.bottom=ci(d.bottom,l.bottom),l.left=ot(d.left,l.left),l},cc(n,a,e));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Ir(n){var i=n.reference,t=n.element,e=n.placement,r=e?we(e):null,o=e?Xe(e):null,a=i.x+i.width/2-t.width/2,s=i.y+i.height/2-t.height/2,l;switch(r){case ee:l={x:a,y:i.y-t.height};break;case de:l={x:a,y:i.y+i.height};break;case se:l={x:i.x+i.width,y:s};break;case ne:l={x:i.x-t.width,y:s};break;default:l={x:i.x,y:i.y}}var c=r?ui(r):null;if(c!=null){var d=c==="y"?"height":"width";switch(o){case wt:l[c]=l[c]-(i[d]/2-t[d]/2);break;case li:l[c]=l[c]+(i[d]/2-t[d]/2);break;default:}}return l}function st(n,i){i===void 0&&(i={});var t=i,e=t.placement,r=e===void 0?n.placement:e,o=t.strategy,a=o===void 0?n.strategy:o,s=t.boundary,l=s===void 0?Xl:s,c=t.rootBoundary,d=c===void 0?Hn:c,u=t.elementContext,g=u===void 0?Vi:u,m=t.altBoundary,x=m===void 0?!1:m,y=t.padding,b=y===void 0?0:y,O=Tr(typeof b!="number"?b:Er(b,Lt)),N=g===Vi?ec:Vi,$=n.rects.popper,S=n.elements[x?N:g],A=Xo(Je(S)?S:S.contextElement||ke(n.elements.popper),l,d,a),W=Ze(n.elements.reference),J=Ir({reference:W,element:$,strategy:"absolute",placement:r}),xe=qi(Object.assign({},$,J)),he=g===Vi?xe:W,le={top:A.top-he.top+O.top,bottom:he.bottom-A.bottom+O.bottom,left:A.left-he.left+O.left,right:he.right-A.right+O.right},Se=n.modifiersData.offset;if(g===Vi&&Se){var et=Se[r];Object.keys(le).forEach(function(Oe){var Nt=[se,de].indexOf(Oe)>=0?1:-1,$t=[ee,de].indexOf(Oe)>=0?"y":"x";le[Oe]+=et[$t]*Nt})}return le}function ea(n,i){i===void 0&&(i={});var t=i,e=t.placement,r=t.boundary,o=t.rootBoundary,a=t.padding,s=t.flipVariations,l=t.allowedAutoPlacements,c=l===void 0?Vn:l,d=Xe(e),u=d?s?Qo:Qo.filter(function(x){return Xe(x)===d}):Lt,g=u.filter(function(x){return c.indexOf(x)>=0});g.length===0&&(g=u);var m=g.reduce(function(x,y){return x[y]=st(n,{placement:y,boundary:r,rootBoundary:o,padding:a})[we(y)],x},{});return Object.keys(m).sort(function(x,y){return m[x]-m[y]})}function dh(n){if(we(n)===$n)return[];var i=Wi(n);return[zn(n),i,zn(i)]}function uh(n){var i=n.state,t=n.options,e=n.name;if(!i.modifiersData[e]._skip){for(var r=t.mainAxis,o=r===void 0?!0:r,a=t.altAxis,s=a===void 0?!0:a,l=t.fallbackPlacements,c=t.padding,d=t.boundary,u=t.rootBoundary,g=t.altBoundary,m=t.flipVariations,x=m===void 0?!0:m,y=t.allowedAutoPlacements,b=i.options.placement,O=we(b),N=O===b,$=l||(N||!x?[Wi(b)]:dh(b)),S=[b].concat($).reduce(function(gi,kt){return gi.concat(we(kt)===$n?ea(i,{placement:kt,boundary:d,rootBoundary:u,padding:c,flipVariations:x,allowedAutoPlacements:y}):kt)},[]),A=i.rects.reference,W=i.rects.popper,J=new Map,xe=!0,he=S[0],le=0;le<S.length;le++){var Se=S[le],et=we(Se),Oe=Xe(Se)===wt,Nt=[ee,de].indexOf(et)>=0,$t=Nt?"width":"height",He=st(i,{placement:Se,boundary:d,rootBoundary:u,altBoundary:g,padding:c}),tt=Nt?Oe?se:ne:Oe?de:ee;A[$t]>W[$t]&&(tt=Wi(tt));var Ar=Wi(tt),Ht=[];if(o&&Ht.push(He[et]<=0),s&&Ht.push(He[tt]<=0,He[Ar]<=0),Ht.every(function(gi){return gi})){he=Se,xe=!1;break}J.set(Se,Ht)}if(xe)for(var Or=x?3:1,qn=function(kt){var Qi=S.find(function(Dr){var Vt=J.get(Dr);if(Vt)return Vt.slice(0,kt).every(function(Gn){return Gn})});if(Qi)return he=Qi,"break"},Ki=Or;Ki>0;Ki--){var Rr=qn(Ki);if(Rr==="break")break}i.placement!==he&&(i.modifiersData[e]._skip=!0,i.placement=he,i.reset=!0)}}var dc={name:"flip",enabled:!0,phase:"main",fn:uh,requiresIfExists:["offset"],data:{_skip:!1}};function uc(n,i,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-i.height-t.y,right:n.right-i.width+t.x,bottom:n.bottom-i.height+t.y,left:n.left-i.width-t.x}}function hc(n){return[ee,se,de,ne].some(function(i){return n[i]>=0})}function hh(n){var i=n.state,t=n.name,e=i.rects.reference,r=i.rects.popper,o=i.modifiersData.preventOverflow,a=st(i,{elementContext:"reference"}),s=st(i,{altBoundary:!0}),l=uc(a,e),c=uc(s,r,o),d=hc(l),u=hc(c);i.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},i.attributes.popper=Object.assign({},i.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}var mc={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hh};function mh(n,i,t){var e=we(n),r=[ne,ee].indexOf(e)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},i,{placement:n})):t,a=o[0],s=o[1];return a=a||0,s=(s||0)*r,[ne,se].indexOf(e)>=0?{x:s,y:a}:{x:a,y:s}}function ph(n){var i=n.state,t=n.options,e=n.name,r=t.offset,o=r===void 0?[0,0]:r,a=Vn.reduce(function(d,u){return d[u]=mh(u,i.rects,o),d},{}),s=a[i.placement],l=s.x,c=s.y;i.modifiersData.popperOffsets!=null&&(i.modifiersData.popperOffsets.x+=l,i.modifiersData.popperOffsets.y+=c),i.modifiersData[e]=a}var pc={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ph};function fh(n){var i=n.state,t=n.name;i.modifiersData[t]=Ir({reference:i.rects.reference,element:i.rects.popper,strategy:"absolute",placement:i.placement})}var fc={name:"popperOffsets",enabled:!0,phase:"read",fn:fh,data:{}};function ta(n){return n==="x"?"y":"x"}function gh(n){var i=n.state,t=n.options,e=n.name,r=t.mainAxis,o=r===void 0?!0:r,a=t.altAxis,s=a===void 0?!1:a,l=t.boundary,c=t.rootBoundary,d=t.altBoundary,u=t.padding,g=t.tether,m=g===void 0?!0:g,x=t.tetherOffset,y=x===void 0?0:x,b=st(i,{boundary:l,rootBoundary:c,padding:u,altBoundary:d}),O=we(i.placement),N=Xe(i.placement),$=!N,S=ui(O),A=ta(S),W=i.modifiersData.popperOffsets,J=i.rects.reference,xe=i.rects.popper,he=typeof y=="function"?y(Object.assign({},i.rects,{placement:i.placement})):y,le=typeof he=="number"?{mainAxis:he,altAxis:he}:Object.assign({mainAxis:0,altAxis:0},he),Se=i.modifiersData.offset?i.modifiersData.offset[i.placement]:null,et={x:0,y:0};if(W){if(o){var Oe,Nt=S==="y"?ee:ne,$t=S==="y"?de:se,He=S==="y"?"height":"width",tt=W[S],Ar=tt+b[Nt],Ht=tt-b[$t],Or=m?-xe[He]/2:0,qn=N===wt?J[He]:xe[He],Ki=N===wt?-xe[He]:-J[He],Rr=i.elements.arrow,gi=m&&Rr?di(Rr):{width:0,height:0},kt=i.modifiersData["arrow#persistent"]?i.modifiersData["arrow#persistent"].padding:Sr(),Qi=kt[Nt],Dr=kt[$t],Vt=hi(0,J[He],gi[He]),Gn=$?J[He]/2-Or-Vt-Qi-le.mainAxis:qn-Vt-Qi-le.mainAxis,Cc=$?-J[He]/2+Or+Vt+Dr+le.mainAxis:Ki+Vt+Dr+le.mainAxis,Kn=i.elements.arrow&&at(i.elements.arrow),kc=Kn?S==="y"?Kn.clientTop||0:Kn.clientLeft||0:0,da=(Oe=Se?.[S])!=null?Oe:0,Sc=tt+Gn-da-kc,Tc=tt+Cc-da,ua=hi(m?ci(Ar,Sc):Ar,tt,m?ot(Ht,Tc):Ht);W[S]=ua,et[S]=ua-tt}if(s){var ha,Ec=S==="x"?ee:ne,Ic=S==="x"?de:se,Ut=W[A],Pr=A==="y"?"height":"width",ma=Ut+b[Ec],pa=Ut-b[Ic],Qn=[ee,ne].indexOf(O)!==-1,fa=(ha=Se?.[A])!=null?ha:0,ga=Qn?ma:Ut-J[Pr]-xe[Pr]-fa+le.altAxis,_a=Qn?Ut+J[Pr]+xe[Pr]-fa-le.altAxis:pa,va=m&&Qn?nc(ga,Ut,_a):hi(m?ga:ma,Ut,m?_a:pa);W[A]=va,et[A]=va-Ut}i.modifiersData[e]=et}}var gc={name:"preventOverflow",enabled:!0,phase:"main",fn:gh,requiresIfExists:["offset"]};function ia(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function ra(n){return n===Q(n)||!ue(n)?mi(n):ia(n)}function _h(n){var i=n.getBoundingClientRect(),t=xt(i.width)/n.offsetWidth||1,e=xt(i.height)/n.offsetHeight||1;return t!==1||e!==1}function na(n,i,t){t===void 0&&(t=!1);var e=ue(i),r=ue(i)&&_h(i),o=ke(i),a=Ze(n,r,t),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(e||!e&&!t)&&((ye(i)!=="body"||fi(o))&&(s=ra(i)),ue(i)?(l=Ze(i,!0),l.x+=i.clientLeft,l.y+=i.clientTop):o&&(l.x=pi(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function vh(n){var i=new Map,t=new Set,e=[];n.forEach(function(o){i.set(o.name,o)});function r(o){t.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!t.has(s)){var l=i.get(s);l&&r(l)}}),e.push(o)}return n.forEach(function(o){t.has(o.name)||r(o)}),e}function oa(n){var i=vh(n);return tc.reduce(function(t,e){return t.concat(i.filter(function(r){return r.phase===e}))},[])}function aa(n){var i;return function(){return i||(i=new Promise(function(t){Promise.resolve().then(function(){i=void 0,t(n())})})),i}}function sa(n){var i=n.reduce(function(t,e){var r=t[e.name];return t[e.name]=r?Object.assign({},r,e,{options:Object.assign({},r.options,e.options),data:Object.assign({},r.data,e.data)}):e,t},{});return Object.keys(i).map(function(t){return i[t]})}var _c={placement:"bottom",modifiers:[],strategy:"absolute"};function vc(){for(var n=arguments.length,i=new Array(n),t=0;t<n;t++)i[t]=arguments[t];return!i.some(function(e){return!(e&&typeof e.getBoundingClientRect=="function")})}function bc(n){n===void 0&&(n={});var i=n,t=i.defaultModifiers,e=t===void 0?[]:t,r=i.defaultOptions,o=r===void 0?_c:r;return function(s,l,c){c===void 0&&(c=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},_c,o),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},u=[],g=!1,m={state:d,setOptions:function(O){var N=typeof O=="function"?O(d.options):O;y(),d.options=Object.assign({},o,d.options,N),d.scrollParents={reference:Je(s)?Bt(s):s.contextElement?Bt(s.contextElement):[],popper:Bt(l)};var $=oa(sa([].concat(e,d.options.modifiers)));return d.orderedModifiers=$.filter(function(S){return S.enabled}),x(),m.update()},forceUpdate:function(){if(!g){var O=d.elements,N=O.reference,$=O.popper;if(vc(N,$)){d.rects={reference:na(N,at($),d.options.strategy==="fixed"),popper:di($)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(le){return d.modifiersData[le.name]=Object.assign({},le.data)});for(var S=0;S<d.orderedModifiers.length;S++){if(d.reset===!0){d.reset=!1,S=-1;continue}var A=d.orderedModifiers[S],W=A.fn,J=A.options,xe=J===void 0?{}:J,he=A.name;typeof W=="function"&&(d=W({state:d,options:xe,name:he,instance:m})||d)}}}},update:aa(function(){return new Promise(function(b){m.forceUpdate(),b(d)})}),destroy:function(){y(),g=!0}};if(!vc(s,l))return m;m.setOptions(c).then(function(b){!g&&c.onFirstUpdate&&c.onFirstUpdate(b)});function x(){d.orderedModifiers.forEach(function(b){var O=b.name,N=b.options,$=N===void 0?{}:N,S=b.effect;if(typeof S=="function"){var A=S({state:d,name:O,instance:m,options:$}),W=function(){};u.push(A||W)}})}function y(){u.forEach(function(b){return b()}),u=[]}return m}}var bh=[lc,fc,sc,ic,pc,dc,gc,oc,mc],la=bc({defaultModifiers:bh});var yh=["toolbar"],wh=[[["","toolbar-buttons",""]],[["","editable-content",""]]],xh=["[toolbar-buttons]","[editable-content]"],yc=(()=>{class n{renderer;document;toolbarRef;editableDivRef;popperInstance;selectionChange$=new F;subscription;constructor(t,e){this.renderer=t,this.document=e}ngAfterViewInit(){this.editableDivRef=this.document.querySelector('[contenteditable="true"]'),this.subscription=this.selectionChange$.pipe(bi(100)).subscribe(()=>this.onSelectionChange());let t=this.editableDivRef;this.renderer.listen(t,"mouseup",()=>this.selectionChange$.next()),this.renderer.listen(t,"keyup",()=>this.selectionChange$.next()),this.renderer.listen("document","click",e=>this.handleClickOutside(e)),this.document.getElementsByClassName("app-container")[0].addEventListener("scroll",()=>{this.onSelectionChange()})}ngOnDestroy(){this.subscription.unsubscribe(),this.hideToolbar(),this.popperInstance&&this.popperInstance.destroy()}onSelectionChange(){let t=window.getSelection();if(t&&!t.isCollapsed&&this.isSelectionInsideEditableDiv(t)){let r=t.getRangeAt(0).getBoundingClientRect();if(r&&r.width>0&&r.height>0){let o=this.renderer.createElement("span");this.renderer.setStyle(o,"position","absolute"),this.renderer.setStyle(o,"top",`${r.top+window.scrollY}px`),this.renderer.setStyle(o,"left",`${r.left+window.scrollX}px`),this.renderer.setStyle(o,"width","1px"),this.renderer.setStyle(o,"height","1px"),this.renderer.setStyle(o,"pointer-events","none"),this.renderer.appendChild(this.document.body,o),this.showToolbar(o),setTimeout(()=>{this.renderer.removeChild(this.document.body,o)},100)}}else this.hideToolbar()}handleClickOutside(t){let e=t.target;this.toolbarRef&&!this.toolbarRef.nativeElement.contains(e)&&!this.editableDivRef.contains(e)&&this.hideToolbar()}isSelectionInsideEditableDiv(t){if(t.rangeCount===0)return!1;let r=t.getRangeAt(0).commonAncestorContainer;for(;r;){if(r===this.editableDivRef)return!0;r=r.parentNode}return!1}showToolbar(t){this.popperInstance&&this.popperInstance.destroy(),this.popperInstance=la(t,this.toolbarRef.nativeElement,{placement:"top",modifiers:[{name:"offset",options:{offset:[0,8]}}]}),this.toolbarRef.nativeElement.style.display="block"}hideToolbar(){this.popperInstance&&(this.popperInstance.destroy(),this.popperInstance=null),this.toolbarRef.nativeElement.style.display="none"}formatText(t){document.execCommand(t,!1),this.hideToolbar()}static \u0275fac=function(e){return new(e||n)(p(St),p(Fe))};static \u0275cmp=D({type:n,selectors:[["app-floating-toolbar"]],viewQuery:function(e,r){if(e&1&&Y(yh,7),e&2){let o;V(o=U())&&(r.toolbarRef=o.first)}},standalone:!0,features:[P],ngContentSelectors:xh,decls:4,vars:0,consts:[["toolbar",""],[1,"absolute","rounded-md","mat-elevation-z4","hidden","z-50","background","backdrop-blur",3,"click"]],template:function(e,r){if(e&1){let o=z();ge(wh),f(0,"div",1,0),C("click",function(){return I(o),M(r.onSelectionChange())}),K(2),_(),K(3,1)}},encapsulation:2})}return n})();var ca=(()=>{class n{_renderer;_elementRef;ngControl;_parentForm;_parentFormGroup;static nextId=0;id=`editor-form-field-${n.nextId++}`;focusOut=new pe;placeholder="";stateChanges=new F;focused=!1;touched=!1;controlType="editor-form-field";errorState=!1;describedBy="";editor;get required(){return this._required}set required(t){this._required=Le(t),this.stateChanges.next()}_required=!1;get disabled(){return this._disabled}set disabled(t){this.editor&&(this._disabled=Le(t),this._disabled?(this._renderer.addClass(this.editor,"disabled"),this.editor.setAttribute("contenteditable","false")):(this._renderer.removeClass(this.editor,"disabled"),this.editor.setAttribute("contenteditable","true")),this.stateChanges.next())}_disabled=!1;get empty(){return!this.value}get shouldLabelFloat(){return this.focused||!this.empty}get value(){return this._value}set value(t){this._value=t,this._renderer.setProperty(this.editor?.nativeElement,"innerText",this._value),this.stateChanges.next(),this.onChange(t)}_value="";onChange=t=>{};onTouched=()=>{};ngAfterViewInit(){this.editor=this._elementRef.nativeElement.querySelector("#editor")}constructor(t,e,r,o,a){this._renderer=t,this._elementRef=e,this.ngControl=r,this._parentForm=o,this._parentFormGroup=a,this.ngControl!=null&&(this.ngControl.valueAccessor=this)}ngOnDestroy(){this.stateChanges.complete()}ngDoCheck(){this.updateErrorState()}updateErrorState(){let t=this.errorState,e=this.ngControl?this.ngControl.control:null,r=this._parentFormGroup||this._parentForm,o=!!(e&&e.invalid&&(e.touched||r&&r.submitted));t!==o&&(this.errorState=o,this.stateChanges.next())}setDescribedByIds(t){this.describedBy=t.join(" ")}onContainerClick(t){this.focused||this.editor?.focus()}onFocusIn(){this.focused||(this.focused=!0,this.stateChanges.next())}onFocusOut(){this.focused&&(this.focused=!1,this.touched=!0,this.onTouched(),this.stateChanges.next(),this.focusOut.emit(!1))}onContentChange(){let t=this.editor?.innerHTML.trim()||"";this.value=t,this.onChange(t)}onPaste(t){t.preventDefault();let e=t.clipboardData;if(e){let r=e.getData("text/html"),o=e.getData("text/plain"),a="";if(r){let l=new DOMParser().parseFromString(r,"text/html");this.sanitizeNode(l.body),a=l.body.innerHTML}else a=o;this.insertHtmlAtCursor(a),this.onContentChange()}}insertHtmlAtCursor(t){let e=window.getSelection();if(!e||!e.rangeCount){this.editor?.insertAdjacentHTML("beforeend",t);return}let r=e.getRangeAt(0);r.deleteContents();let o=document.createElement("div");o.innerHTML=t;let a=document.createDocumentFragment(),s;for(;s=o.firstChild;)a.appendChild(s);r.insertNode(a),r.collapse(!1),e.removeAllRanges(),e.addRange(r)}sanitizeNode(t){if(t.nodeType===Node.ELEMENT_NODE){if(t.hasAttribute("style")){let r=(t.getAttribute("style")?.split(";")||[]).filter(o=>{let a=o.split(":")[0].trim().toLowerCase();return!["font-family","font-size","font-style","font-weight"].includes(a)});r.length>0?t.setAttribute("style",r.join("; ")):t.removeAttribute("style")}if(t.tagName.toLowerCase()==="font"){let e=t.parentNode;for(;t.firstChild;)e?.insertBefore(t.firstChild,t);e?.removeChild(t);return}Array.from(t.children).forEach(e=>this.sanitizeNode(e))}}writeValue(t){this.value=t,setTimeout(()=>{this._renderer.setProperty(this.editor,"innerHTML",this.value)})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}static \u0275fac=function(e){return new(e||n)(p(St),p(H),p(nn,10),p(Mi,8),p(on,8))};static \u0275cmp=D({type:n,selectors:[["editor-form-field"]],hostVars:5,hostBindings:function(e,r){e&1&&C("focusin",function(){return r.onFocusIn()})("focusout",function(){return r.onFocusOut()})("click",function(a){return r.onContainerClick(a)}),e&2&&(Vr("id",r.id),ce("id",r.id)("aria-describedby",r.describedBy),fe("floating",r.shouldLabelFloat))},inputs:{placeholder:"placeholder",required:"required",disabled:"disabled",value:"value"},outputs:{focusOut:"focusOut"},standalone:!0,features:[De([{provide:ir,useExisting:n}]),P],decls:1,vars:3,consts:[["contenteditable","true","id","editor","appYoutubeReplace","",1,"editor-content","p-2","rounded-md","min-h-64","h-fit","overflow-auto","border-none","outline-none",3,"input","focusin","focusout","paste"]],template:function(e,r){e&1&&(f(0,"div",0),C("input",function(){return r.onContentChange()})("focusin",function(){return r.onFocusIn()})("focusout",function(){return r.onFocusOut()})("paste",function(a){return r.onPaste(a)}),_()),e&2&&(fe("disabled",r.disabled),ce("data-placeholder",r.placeholder))},dependencies:[Jl],styles:['.editor-content.disabled[_ngcontent-%COMP%]{background-color:#f5f5f5;pointer-events:none}.editor-content[_ngcontent-%COMP%]:before{content:attr(data-placeholder);display:block}.editor-content[_ngcontent-%COMP%]:focus:before, .editor-content[_ngcontent-%COMP%]:not(:empty):before{content:""}']})}return n})();var Ch=["textColorInput"],kh=["backgroundColorInput"],Sh=["menuTriggerButton"],Th=["menuTrigger"],mt=n=>({"item-selected":n});function Eh(n,i){if(n&1){let t=z();f(0,"div",5)(1,"button",3),C("click",function(){I(t);let r=w(2);return M(r.format("justifyLeft"))}),f(2,"mat-icon"),k(3,"format_align_left"),_()(),f(4,"button",3),C("click",function(){I(t);let r=w(2);return M(r.format("justifyCenter"))}),f(5,"mat-icon"),k(6,"format_align_center"),_()(),f(7,"button",3),C("click",function(){I(t);let r=w(2);return M(r.format("justifyRight"))}),f(8,"mat-icon"),k(9,"format_align_right"),_()()(),f(10,"div",5)(11,"button",6),C("click",function(){I(t);let r=w(2);return M(r.format("outdent"))}),f(12,"mat-icon"),k(13,"arrow_left_alt"),_()(),f(14,"button",6),C("click",function(){I(t);let r=w(2);return M(r.format("indent"))}),f(15,"mat-icon"),k(16,"arrow_right_alt"),_()()()}if(n&2){let t=w().$implicit,e=w();v(),rt("matTooltip",t("editor.alignLeft")),T("disabled",e.disabled)("ngClass",Ve(17,mt,e.textAlign==="left")),v(3),rt("matTooltip",t("editor.alignCenter")),T("disabled",e.disabled)("ngClass",Ve(19,mt,e.textAlign==="center")),v(3),rt("matTooltip",t("editor.alignRight")),T("disabled",e.disabled)("ngClass",Ve(21,mt,e.textAlign==="right")),v(4),qt("matTooltip","",t("editor.indentLeft")," (",e.metaKey," + [)"),T("disabled",e.disabled),v(3),qt("matTooltip","",t("editor.indentRight")," (",e.metaKey," + ])"),T("disabled",e.disabled)}}function Ih(n,i){if(n&1&&(f(0,"div",13),k(1),zr(2,"json"),_()),n&2){let t=w(2);v(),Me(" ",Wr(2,1,t.formControl.value)," ")}}function Mh(n,i){if(n&1){let t=z();wi(0),f(1,"app-floating-toolbar")(2,"div",1)(3,"div",2)(4,"button",3),C("click",function(){I(t);let r=w();return M(r.onHeadingChange("P"))}),f(5,"mat-icon"),k(6,"title"),_()(),f(7,"button",3),C("click",function(){I(t);let r=w();return M(r.onHeadingChange("H1"))}),f(8,"mat-icon"),k(9,"format_h1"),_()(),f(10,"button",3),C("click",function(){I(t);let r=w();return M(r.onHeadingChange("H2"))}),f(11,"mat-icon"),k(12,"format_h2"),_()(),f(13,"button",3),C("click",function(){I(t);let r=w();return M(r.onHeadingChange("H3"))}),f(14,"mat-icon"),k(15,"format_h3"),_()()(),f(16,"div",4)(17,"div",5)(18,"button",3),C("click",function(){I(t);let r=w();return M(r.format("bold"))}),f(19,"mat-icon"),k(20,"format_bold"),_()(),f(21,"button",3),C("click",function(){I(t);let r=w();return M(r.format("italic"))}),f(22,"mat-icon"),k(23,"format_italic"),_()(),f(24,"button",3),C("click",function(){I(t);let r=w();return M(r.format("underline"))}),f(25,"mat-icon"),k(26,"format_underlined"),_()(),f(27,"button",6),C("click",function(){I(t);let r=w();return M(r.format("removeFormat"))}),f(28,"mat-icon"),k(29,"format_clear"),_()()(),B(30,Eh,17,23),_()(),f(31,"div",7)(32,"mat-form-field",8)(33,"editor-form-field",9),C("focusOut",function(){I(t);let r=w();return M(r.saveSelection())}),_()()()(),f(34,"div",10)(35,"button",11),C("click",function(){I(t);let r=w();return M(r.toggleSourceView())}),f(36,"mat-icon"),k(37),_(),k(38),_()(),B(39,Ih,3,3,"div",12),xi()}if(n&2){let t=i.$implicit,e=w();v(4),rt("matTooltip",t("editor.paragraph")),T("disabled",e.disabled)("ngClass",Ve(39,mt,e.currentHeading==="P")),v(3),rt("matTooltip",t("editor.heading1")),T("disabled",e.disabled)("ngClass",Ve(41,mt,e.currentHeading==="H1")),v(3),rt("matTooltip",t("editor.heading2")),T("disabled",e.disabled)("ngClass",Ve(43,mt,e.currentHeading==="H2")),v(3),rt("matTooltip",t("editor.heading3")),T("disabled",e.disabled)("ngClass",Ve(45,mt,e.currentHeading==="H3")),v(5),qt("matTooltip","",t("editor.bold")," (",e.metaKey," + B)"),T("disabled",e.disabled)("ngClass",Ve(47,mt,e.isBold)),v(3),qt("matTooltip","",t("editor.italic")," (",e.metaKey," + I)"),T("disabled",e.disabled)("ngClass",Ve(49,mt,e.isItalic)),v(3),qt("matTooltip","",t("editor.underline")," (",e.metaKey," + U)"),T("disabled",e.disabled)("ngClass",Ve(51,mt,e.isUnderline)),v(3),qt("matTooltip","",t("editor.removeFormat")," (",e.metaKey," + X)"),T("disabled",e.disabled),v(3),X(-1),v(3),T("placeholder",e.placeholder)("formControl",e.formControl),v(2),rt("matTooltip",e.showSource?t("editor.hideSource"):t("editor.showSource")),T("disabled",e.disabled),v(2),Ie(e.showSource?"visibility_off":"visibility"),v(),Me(" ",e.showSource?t("editor.hideSource"):t("editor.showSource")," "),v(),T("ngIf",e.showSource)}}var tS=(()=>{class n{renderer;elRef;document;contentEditable;textColorInput;backgroundColorInput;menuTriggerButton;menuTrigger;placeholder="Enter text here...";editorContent="";disabled=!1;isBold=!1;isItalic=!1;isUnderline=!1;isNoFormat=!1;currentHeading="P";textAlign="left";formControl=new ps("");onChange=t=>{};onTouched=()=>{};showSource=!1;savedSelection=null;editableDivRef;selectionChange$=new F;subscription;constructor(t,e,r){this.renderer=t,this.elRef=e,this.document=r}ngAfterViewInit(){this.formControl.valueChanges.subscribe(e=>{this.onChange(e)}),this.editableDivRef=this.document.querySelector('[contenteditable="true"]'),this.subscription=this.selectionChange$.pipe(bi(100)).subscribe(()=>this.updateToolbarState());let t=this.editableDivRef;this.renderer.listen(t,"mouseup",()=>this.selectionChange$.next()),this.renderer.listen(t,"keyup",()=>this.selectionChange$.next())}ngOnDestroy(){}onMouseUp(t){this.evaluateSelection()}onKeyUp(t){["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(t.key)&&this.evaluateSelection()}evaluateSelection(){let t=window.getSelection();if(t&&t.rangeCount>0){let e=t.getRangeAt(0);!t.isCollapsed&&this.contentEditable?.editor?.contains(e.commonAncestorContainer)?(this.saveSelection(),this.showToolbar(e)):this.closeToolbar()}else this.closeToolbar()}showToolbar(t){let e=t.getBoundingClientRect(),r=300,o=50,a=e.left+e.width/2-r/2,s=e.top-o-10;a=Math.max(10,Math.min(a,window.innerWidth-r-10)),s=Math.max(10,s),this.menuTriggerButton?.nativeElement&&(this.renderer.setStyle(this.menuTriggerButton.nativeElement,"top",`${s+window.scrollY}px`),this.renderer.setStyle(this.menuTriggerButton.nativeElement,"left",`${a+window.scrollX}px`)),setTimeout(()=>{this.menuTrigger?.openMenu()})}closeToolbar(){this.menuTrigger?.menuOpen&&(this.menuTrigger?.closeMenu(),this.contentEditable?.editor?.focus())}saveSelection(){let t=window.getSelection();t&&t.rangeCount>0&&(this.savedSelection=t.getRangeAt(0))}restoreSelection(){if(this.savedSelection){let t=window.getSelection();t&&(t.removeAllRanges(),t.addRange(this.savedSelection))}}format(t,e=""){this.restoreSelection(),this.contentEditable?.editor?.focus(),document.execCommand(t,!1,e),this.onContentChange(),this.updateToolbarState()}updateToolbarState(){let t=window.getSelection();if(!t||t.rangeCount===0){this.closeToolbar();return}let e=t.getRangeAt(0);if(e.collapsed){this.closeToolbar();return}let r=t.anchorNode;if(!this.contentEditable?.editor?.contains(r)){this.closeToolbar();return}this.isBold=document.queryCommandState("bold"),this.isItalic=document.queryCommandState("italic"),this.isUnderline=document.queryCommandState("underline"),this.isNoFormat=!this.isBold&&!this.isItalic&&!this.isUnderline;let o=this.getParentElement(e.startContainer);if(o){let s=o.tagName;["H1","H2","H3","P"].includes(s)?this.currentHeading=s:this.currentHeading="P"}let a=window.getComputedStyle(e.startContainer.parentElement);this.textAlign=a.textAlign||"left"}getParentElement(t){let e=t.parentElement;for(;e&&e!==this.contentEditable?.editor;){if(["H1","H2","H3","P"].includes(e.tagName))return e;e=e.parentElement}return null}onHeadingChange(t){this.restoreSelection(),this.format("formatBlock",t),this.currentHeading=t,this.updateToolbarState()}writeValue(t){this.editorContent=t||"",this.formControl.setValue(this.editorContent,{emitEvent:!1}),this.contentEditable?.editor&&(this.contentEditable.editor.innerHTML=this.editorContent)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this.contentEditable?.editor&&(this.contentEditable.editor.contentEditable=!t)}onContentChange(){this.editorContent=this.contentEditable?.editor?.innerHTML,this.onChange(this.editorContent)}get isMac(){return navigator.platform.toUpperCase().indexOf("MAC")>=0}get metaKey(){return this.isMac?"Cmd":"Ctrl"}handleKeyboardEvent(t){let e=this.isMac?t.metaKey:t.ctrlKey,r=t.shiftKey;if(e&&this.contentEditable?.editor?.contains(document.getSelection()?.anchorNode))switch(t.key.toLowerCase()){case"b":this.format("bold");break;case"i":this.format("italic");break;case"u":this.format("underline");break;case"x":this.format("removeFormat");break;case"a":this.format("selectAll"),this.saveSelection(),this.showToolbarForCurrentSelection();break;case"[":this.format("outdent");break;case"]":this.format("indent");break}r&&(t.key==="ArrowLeft"||t.key==="ArrowRight"||t.key==="ArrowUp"||t.key==="ArrowDown")&&setTimeout(()=>{this.evaluateSelection()},0),!r&&["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(t.key)&&setTimeout(()=>{let o=window.getSelection();if(o&&o.rangeCount>0){let a=o.getRangeAt(0);a.collapsed&&this.contentEditable?.editor?.contains(a.commonAncestorContainer)&&this.closeToolbar()}},0)}showToolbarForCurrentSelection(){let t=window.getSelection();if(t&&t.rangeCount>0){let e=t.getRangeAt(0);this.contentEditable?.editor?.contains(e.commonAncestorContainer)?(this.saveSelection(),this.showToolbar(e)):this.closeToolbar()}else this.closeToolbar()}rgbToHex(t){let e=t.match(/\d+/g);if(!e)return"";let r=parseInt(e[0]),o=parseInt(e[1]),a=parseInt(e[2]);return"#"+(1<<24|r<<16|o<<8|a).toString(16).slice(1)}triggerTextColorInput(){this.textColorInput.nativeElement.click()}applyTextColor(t){this.format("foreColor",t)}triggerBackgroundColorInput(){this.backgroundColorInput.nativeElement.click()}applyBackgroundColor(t){this.format("hiliteColor",t)}toggleSourceView(){this.showSource=!this.showSource}static \u0275fac=function(e){return new(e||n)(p(St),p(H),p(Fe))};static \u0275cmp=D({type:n,selectors:[["app-wysiwyg-editor"]],viewQuery:function(e,r){if(e&1&&(Y(ca,5),Y(Ch,5),Y(kh,5),Y(Sh,5),Y(Th,5)),e&2){let o;V(o=U())&&(r.contentEditable=o.first),V(o=U())&&(r.textColorInput=o.first),V(o=U())&&(r.backgroundColorInput=o.first),V(o=U())&&(r.menuTriggerButton=o.first),V(o=U())&&(r.menuTrigger=o.first)}},hostBindings:function(e,r){e&1&&C("keydown",function(a){return r.handleKeyboardEvent(a)},!1,Ia)},inputs:{placeholder:"placeholder"},standalone:!0,features:[De([{provide:ds,useExisting:yi(()=>n),multi:!0}]),P],decls:1,vars:0,consts:[[4,"transloco"],["toolbar-buttons","",1,"flex","flex-row","flex-wrap","justify-between","items-center","space-x-2","p-2"],[1,"flex","flex-row","justify-center","items-center","flex-auto"],["mat-icon-button","","type","button",3,"click","disabled","matTooltip","ngClass"],[1,"flex","flex-row","flex-wrap","justify-between","items-center","flex-auto"],[1,"flex","flex-row","justify-center"],["mat-icon-button","","type","button",3,"click","disabled","matTooltip"],["editable-content",""],["appearance","outline",1,"w-full"],[3,"focusOut","placeholder","formControl"],[1,"flex","justify-end"],["mat-button","","type","button",3,"click","disabled","matTooltip"],["class","mt-2 p-2 rounded",4,"ngIf"],[1,"mt-2","p-2","rounded"]],template:function(e,r){e&1&&B(0,Mh,40,53,"ng-container",0)},dependencies:[ve,er,ki,Pa,an,hs,Zl,vs,tr,Ne,Be,be,Mt,lt,sn,xs,jt,kl,ca,_s,gs,Ei,yc],encapsulation:2})}return n})();var lS=(()=>{class n{changeDetectorRef;ngZone;timer;translocoService=E(en);langChangeSub;secondsInMinute=60;secondsInHour=3600;secondsInDay=86400;secondsInWeek=604800;secondsInMonth=2592e3;secondsInYear=31536e3;constructor(t,e){this.changeDetectorRef=t,this.ngZone=e,this.langChangeSub=this.translocoService.langChanges$.subscribe(()=>{this.changeDetectorRef.markForCheck()})}transform(t){if(!t)return"";let e=new Date(t).getTime(),r=Date.now(),o=Math.floor((r-e)/1e3),a;return o>=this.secondsInYear?(a=Math.floor(o/this.secondsInYear),this.scheduleUpdate(o),this.translocoService.translate(a===1?"timeAgo.year":"timeAgo.years",{count:a})):o>=this.secondsInMonth?(a=Math.floor(o/this.secondsInMonth),this.scheduleUpdate(o),this.translocoService.translate(a===1?"timeAgo.month":"timeAgo.months",{count:a})):o>=this.secondsInWeek?(a=Math.floor(o/this.secondsInWeek),this.scheduleUpdate(o),this.translocoService.translate(a===1?"timeAgo.week":"timeAgo.weeks",{count:a})):o>=this.secondsInDay?(a=Math.floor(o/this.secondsInDay),this.scheduleUpdate(o),this.translocoService.translate(a===1?"timeAgo.day":"timeAgo.days",{count:a})):o>=this.secondsInHour?(a=Math.floor(o/this.secondsInHour),this.scheduleUpdate(o),this.translocoService.translate(a===1?"timeAgo.hour":"timeAgo.hours",{count:a})):o>=this.secondsInMinute?(a=Math.floor(o/this.secondsInMinute),this.scheduleUpdate(o),this.translocoService.translate(a===1?"timeAgo.minute":"timeAgo.minutes",{count:a})):this.translocoService.translate("timeAgo.justNow")}scheduleUpdate(t){let e=this.getSecondsUntilNextUpdate(t);this.ngZone.runOutsideAngular(()=>{this.timer=setTimeout(()=>{this.ngZone.run(()=>this.changeDetectorRef.markForCheck())},e*1e3)})}getSecondsUntilNextUpdate(t){return t<this.secondsInMinute?1:t<this.secondsInHour?this.secondsInMinute-t%this.secondsInMinute:t<this.secondsInDay?this.secondsInHour-t%this.secondsInHour:t<this.secondsInWeek?this.secondsInDay-t%this.secondsInDay:t<this.secondsInMonth?this.secondsInWeek-t%this.secondsInWeek:t<this.secondsInYear?this.secondsInMonth-t%this.secondsInMonth:this.secondsInYear-t%this.secondsInYear}ngOnDestroy(){this.timer&&clearTimeout(this.timer),this.langChangeSub&&this.langChangeSub.unsubscribe()}static \u0275fac=function(e){return new(e||n)(p(_e,16),p(oe,16))};static \u0275pipe=Ta({name:"timeAgo",type:n,pure:!1,standalone:!0})}return n})();function Ah(n,i){if(n&1){let t=z();f(0,"div",1)(1,"button",2),C("click",function(){I(t);let r=w();return M(r.action())}),k(2),_()()}if(n&2){let t=w();v(2),Me(" ",t.data.action," ")}}var Oh=["label"];function Rh(n,i){}var Dh=Math.pow(2,31)-1,Mr=class{constructor(i,t){this._overlayRef=t,this._afterDismissed=new F,this._afterOpened=new F,this._onAction=new F,this._dismissedByAction=!1,this.containerInstance=i,i._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(i){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(i,Dh))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},wc=new me("MatSnackBarData"),Gi=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}},Ph=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=te({type:i,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0});let n=i;return n})(),jh=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=te({type:i,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0});let n=i;return n})(),Fh=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=te({type:i,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0});let n=i;return n})(),xc=(()=>{let i=class i{constructor(e,r){this.snackBarRef=e,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}};i.\u0275fac=function(r){return new(r||i)(p(Mr),p(wc))},i.\u0275cmp=D({type:i,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[P],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(r,o){r&1&&(f(0,"div",0),k(1),_(),B(2,Ah,3,1,"div",1)),r&2&&(v(),Me(" ",o.data.message,`
`),v(),X(o.hasAction?2:-1))},dependencies:[Mt,Ph,jh,Fh],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0});let n=i;return n})(),Lh={snackBarState:vt("state",[Ke("void, hidden",Ae({transform:"scale(0.8)",opacity:0})),Ke("visible",Ae({transform:"scale(1)",opacity:1})),Qe("* => visible",Ge("150ms cubic-bezier(0, 0, 0.2, 1)")),Qe("* => void, * => hidden",Ge("75ms cubic-bezier(0.4, 0.0, 1, 1)",Ae({opacity:0})))])},Bh=0,Nh=(()=>{let i=class i extends ts{constructor(e,r,o,a,s){super(),this._ngZone=e,this._elementRef=r,this._changeDetectorRef=o,this._platform=a,this.snackBarConfig=s,this._document=E(Fe),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new F,this._onExit=new F,this._onEnter=new F,this._animationState="void",this._liveElementId=`mat-snack-bar-container-live-${Bh++}`,this.attachDomPortal=l=>{this._assertNotAttached();let c=this._portalOutlet.attachDomPortal(l);return this._afterPortalAttached(),c},s.politeness==="assertive"&&!s.announcementMessage?this._live="assertive":s.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();let r=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),r}attachTemplatePortal(e){this._assertNotAttached();let r=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),r}onAnimationEnd(e){let{fromState:r,toState:o}=e;if((o==="void"&&r!=="void"||o==="hidden")&&this._completeExit(),o==="visible"){let a=this._onEnter;this._ngZone.run(()=>{a.next(),a.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(s=>e.classList.add(s)):e.classList.add(r)),this._exposeToModals();let o=this._label.nativeElement,a="mdc-snackbar__label";o.classList.toggle(a,!o.querySelector(`.${a}`))}_exposeToModals(){let e=this._liveElementId,r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<r.length;o++){let a=r[o],s=a.getAttribute("aria-owns");this._trackedModals.add(a),s?s.indexOf(e)===-1&&a.setAttribute("aria-owns",s+" "+e):a.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let r=e.getAttribute("aria-owns");if(r){let o=r.replace(this._liveElementId,"").trim();o.length>0?e.setAttribute("aria-owns",o):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&r){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(o=document.activeElement),e.removeAttribute("aria-hidden"),r.appendChild(e),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}};i.\u0275fac=function(r){return new(r||i)(p(oe),p(H),p(_e),p(_t),p(Gi))},i.\u0275cmp=D({type:i,selectors:[["mat-snack-bar-container"]],viewQuery:function(r,o){if(r&1&&(Y(mo,7),Y(Oh,7)),r&2){let a;V(a=U())&&(o._portalOutlet=a.first),V(a=U())&&(o._label=a.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(r,o){r&1&&Ur("@state.done",function(s){return o.onAnimationEnd(s)}),r&2&&Ci("@state",o._animationState)},standalone:!0,features:[Wt,P],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(r,o){r&1&&(f(0,"div",1)(1,"div",2,0)(3,"div",3),B(4,Rh,0,0,"ng-template",4),_(),ie(5,"div"),_()()),r&2&&(v(5),ce("aria-live",o._live)("role",o._role)("id",o._liveElementId))},dependencies:[mo],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-app-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-app-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-app-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-app-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-app-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color, var(--mat-app-inverse-primary));--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[Lh.snackBarState]}});let n=i;return n})();function $h(){return new Gi}var Hh=new me("mat-snack-bar-default-options",{providedIn:"root",factory:$h}),Vh=(()=>{let i=class i{get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,r,o,a,s,l){this._overlay=e,this._live=r,this._injector=o,this._breakpointObserver=a,this._parentSnackBar=s,this._defaultConfig=l,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=xc,this.snackBarContainerComponent=Nh,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(e,r){return this._attach(e,r)}openFromTemplate(e,r){return this._attach(e,r)}open(e,r="",o){let a=We(We({},this._defaultConfig),o);return a.data={message:e,action:r},a.announcementMessage===e&&(a.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,a)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,r){let o=r&&r.viewContainerRef&&r.viewContainerRef.injector,a=it.create({parent:o||this._injector,providers:[{provide:Gi,useValue:r}]}),s=new ho(this.snackBarContainerComponent,r.viewContainerRef,a),l=e.attach(s);return l.instance.snackBarConfig=r,l.instance}_attach(e,r){let o=We(We(We({},new Gi),this._defaultConfig),r),a=this._createOverlay(o),s=this._attachSnackBarContainer(a,o),l=new Mr(s,a);if(e instanceof Ji){let c=new tn(e,null,{$implicit:o.data,snackBarRef:l});l.instance=s.attachTemplatePortal(c)}else{let c=this._createInjector(o,l),d=new ho(e,void 0,c),u=s.attachComponentPortal(d);l.instance=u.instance}return this._breakpointObserver.observe(Ba.HandsetPortrait).pipe(Z(a.detachments())).subscribe(c=>{a.overlayElement.classList.toggle(this.handsetCssClass,c.matches)}),o.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(l,o),this._openedSnackBarRef=l,this._openedSnackBarRef}_animateSnackBar(e,r){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),r.duration&&r.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(r.duration))}_createOverlay(e){let r=new rn;r.direction=e.direction;let o=this._overlay.position().global(),a=e.direction==="rtl",s=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!a||e.horizontalPosition==="end"&&a,l=!s&&e.horizontalPosition!=="center";return s?o.left("0"):l?o.right("0"):o.centerHorizontally(),e.verticalPosition==="top"?o.top("0"):o.bottom("0"),r.positionStrategy=o,this._overlay.create(r)}_createInjector(e,r){let o=e&&e.viewContainerRef&&e.viewContainerRef.injector;return it.create({parent:o||this._injector,providers:[{provide:Mr,useValue:r},{provide:wc,useValue:e.data}]})}};i.\u0275fac=function(r){return new(r||i)(Re(ct),Re(za),Re(it),Re(Jr),Re(i,12),Re(Hh))},i.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var WS=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Ee({type:i}),i.\u0275inj=Te({providers:[Vh],imports:[Ii,is,be,re,xc,re]});let n=i;return n})();export{oi as a,Pt as b,jn as c,jt as d,Ol as e,Lo as f,Dn as g,yl as h,Dl as i,ht as j,Nv as k,Ul as l,Gl as m,Kl as n,e0 as o,g0 as p,I0 as q,D0 as r,L0 as s,ag as t,xg as u,kl as v,tS as w,lS as x,Hh as y,Vh as z,WS as A};
